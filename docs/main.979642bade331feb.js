"use strict";(self.webpackChunkcopa=self.webpackChunkcopa||[]).push([[179],{2011:(ut,Ce,F)=>{F.d(Ce,{Dh:()=>ge,GT:()=>pe,cc:()=>Re,hO:()=>$e,on:()=>j,pX:()=>le,xv:()=>me});var h=F(4650),re=F(127),N=F(5813);ut=F.hmd(ut);const he=["ngOnDestroy"],le=(_e,Qe,tt,Ae={})=>new Proxy(_e,{get:(we,De)=>tt.runOutsideAngular(()=>{var He;if(_e[De])return!(null===(He=Ae?.spy)||void 0===He)&&He.get&&Ae.spy.get(De,_e[De]),_e[De];if(he.indexOf(De)>-1)return()=>{};const Ge=Qe.toPromise().then(U=>{const be=U&&U[De];return"function"==typeof be?be.bind(U):be&&be.then?be.then(X=>tt.run(()=>X)):tt.run(()=>be)});return new Proxy(()=>{},{get:(U,be)=>Ge[be],apply:(U,be,X)=>Ge.then(te=>{var oe;const ie=te&&te(...X);return!(null===(oe=Ae?.spy)||void 0===oe)&&oe.apply&&Ae.spy.apply(De,X,ie),ie})})})}),pe=(_e,Qe)=>{Qe.forEach(tt=>{Object.getOwnPropertyNames(tt.prototype||tt).forEach(Ae=>{Object.defineProperty(_e.prototype,Ae,Object.getOwnPropertyDescriptor(tt.prototype||tt,Ae))})})};class ue{constructor(Qe){return Qe}}const ge=new h.OlP("angularfire2.app.options"),me=new h.OlP("angularfire2.app.name");function j(_e,Qe,tt){const we="object"==typeof tt&&tt||{};we.name=we.name||"string"==typeof tt&&tt||"[DEFAULT]";const He=re.Z.apps.filter(Ge=>Ge&&Ge.name===we.name)[0]||Qe.runOutsideAngular(()=>re.Z.initializeApp(_e,we));try{JSON.stringify(_e)!==JSON.stringify(He.options)&&H("error",`${He.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ue(He)}const H=(_e,...Qe)=>{(0,h.X6Q)()&&typeof console<"u"&&console[_e](...Qe)},ee={provide:ue,useFactory:j,deps:[ge,h.R0b,[new h.FiY,me]]};let $e=(()=>{class _e{constructor(tt){re.Z.registerVersion("angularfire",N.q4.full,"core"),re.Z.registerVersion("angularfire",N.q4.full,"app-compat"),re.Z.registerVersion("angular",h.q4F.full,tt.toString())}static initializeApp(tt,Ae){return{ngModule:_e,providers:[{provide:ge,useValue:tt},{provide:me,useValue:Ae}]}}}return _e.\u0275fac=function(tt){return new(tt||_e)(h.LFG(h.Lbi))},_e.\u0275mod=h.oAB({type:_e}),_e.\u0275inj=h.cJS({providers:[ee]}),_e})();function Re(_e,Qe,tt,Ae,we){const[,De,He]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===_e)||[];if(De)return function Me(_e,Qe){try{return _e.toString()===Qe.toString()}catch{return _e===Qe}}(we,He)||(ye("error",`${Qe} was already initialized on the ${tt} Firebase App with different settings.${Ye?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:we,was:He})),De;{const Ge=Ae();return globalThis.\u0275AngularfireInstanceCache.push([_e,Ge,we]),Ge}}const Ye=!!ut.hot,ye=(_e,...Qe)=>{(0,h.X6Q)()&&typeof console<"u"&&console[_e](...Qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ut,Ce,F)=>{F.d(Ce,{q4:()=>da,iC:()=>Tn,HU:()=>Ef,vb:()=>ho,JM:()=>nu});var h=F(4650),re=F(5867),N=F(5861),he=F(9681),le=F(2090),pe=F(4859),ue=F(1877),ge=F(8766);const me="@firebase/installations",j="0.5.12",ee=`w:${j}`,$e="FIS_v2",Qe=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tt(I){return I instanceof le.ZR&&I.code.includes("request-failed")}function Ae({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function we(I){return{token:I.token,requestStatus:2,expiresIn:te(I.expiresIn),creationTime:Date.now()}}function De(I,x){return He.apply(this,arguments)}function He(){return(He=(0,N.Z)(function*(I,x){const L=(yield x.json()).error;return Qe.create("request-failed",{requestName:I,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ge({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function U(I,{refreshToken:x}){const R=Ge(I);return R.append("Authorization",function oe(I){return`${$e} ${I}`}(x)),R}function be(I){return X.apply(this,arguments)}function X(){return(X=(0,N.Z)(function*(I){const x=yield I();return x.status>=500&&x.status<600?I():x})).apply(this,arguments)}function te(I){return Number(I.replace("s","000"))}function ie(I,x){return Le.apply(this,arguments)}function Le(){return(Le=(0,N.Z)(function*({appConfig:I,heartbeatServiceProvider:x},{fid:R}){const L=Ae(I),J=Ge(I),se=x.getImmediate({optional:!0});if(se){const xt=yield se.getHeartbeatsHeader();xt&&J.append("x-firebase-client",xt)}const je={method:"POST",headers:J,body:JSON.stringify({fid:R,authVersion:$e,appId:I.appId,sdkVersion:ee})},mt=yield be(()=>fetch(L,je));if(mt.ok){const xt=yield mt.json();return{fid:xt.fid||R,registrationStatus:2,refreshToken:xt.refreshToken,authToken:we(xt.authToken)}}throw yield De("Create Installation",mt)})).apply(this,arguments)}function Ne(I){return new Promise(x=>{setTimeout(x,I)})}const qt=/^[cdef][\w-]{21}$/;function We(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const R=function on(I){return function pt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return qt.test(R)?R:""}catch{return""}}function Un(I){return`${I.appName}!${I.appId}`}const Zt=new Map;function Yt(I,x){const R=Un(I);an(R,x),function No(I,x){const R=function Pr(){return!ii&&"BroadcastChannel"in self&&(ii=new BroadcastChannel("[Firebase] FID Change"),ii.onmessage=I=>{an(I.data.key,I.data.fid)}),ii}();R&&R.postMessage({key:I,fid:x}),function $r(){0===Zt.size&&ii&&(ii.close(),ii=null)}()}(R,x)}function an(I,x){const R=Zt.get(I);if(R)for(const L of R)L(x)}let ii=null;const si="firebase-installations-store";let Ri=null;function yt(){return Ri||(Ri=(0,ge.X3)("firebase-installations-database",1,{upgrade:(I,x)=>{0===x&&I.createObjectStore(si)}})),Ri}function fn(I,x){return mi.apply(this,arguments)}function mi(){return(mi=(0,N.Z)(function*(I,x){const R=Un(I),J=(yield yt()).transaction(si,"readwrite"),se=J.objectStore(si),Se=yield se.get(R);return yield se.put(x,R),yield J.done,(!Se||Se.fid!==x.fid)&&Yt(I,x.fid),x})).apply(this,arguments)}function jn(I){return ki.apply(this,arguments)}function ki(){return(ki=(0,N.Z)(function*(I){const x=Un(I),L=(yield yt()).transaction(si,"readwrite");yield L.objectStore(si).delete(x),yield L.done})).apply(this,arguments)}function Zi(I,x){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,N.Z)(function*(I,x){const R=Un(I),J=(yield yt()).transaction(si,"readwrite"),se=J.objectStore(si),Se=yield se.get(R),je=x(Se);return void 0===je?yield se.delete(R):yield se.put(je,R),yield J.done,je&&(!Se||Se.fid!==je.fid)&&Yt(I,je.fid),je})).apply(this,arguments)}function yn(I){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,N.Z)(function*(I){let x;const R=yield Zi(I.appConfig,L=>{const J=mn(L),se=ot(I,J);return x=se.registrationPromise,se.installationEntry});return""===R.fid?{installationEntry:yield x}:{installationEntry:R,registrationPromise:x}})).apply(this,arguments)}function mn(I){return Jn(I||{fid:We(),registrationStatus:0})}function ot(I,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(Qe.create("app-offline"))};const R={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},L=function Xe(I,x){return Po.apply(this,arguments)}(I,R);return{installationEntry:R,registrationPromise:L}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:gr(I)}:{installationEntry:x}}function Po(){return(Po=(0,N.Z)(function*(I,x){try{const R=yield ie(I,x);return fn(I.appConfig,R)}catch(R){throw tt(R)&&409===R.customData.serverCode?yield jn(I.appConfig):yield fn(I.appConfig,{fid:x.fid,registrationStatus:0}),R}})).apply(this,arguments)}function gr(I){return _n.apply(this,arguments)}function _n(){return(_n=(0,N.Z)(function*(I){let x=yield Bt(I.appConfig);for(;1===x.registrationStatus;)yield Ne(100),x=yield Bt(I.appConfig);if(0===x.registrationStatus){const{installationEntry:R,registrationPromise:L}=yield yn(I);return L||R}return x})).apply(this,arguments)}function Bt(I){return Zi(I,x=>{if(!x)throw Qe.create("installation-not-found");return Jn(x)})}function Jn(I){return function Is(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Qt(I,x){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,N.Z)(function*({appConfig:I,heartbeatServiceProvider:x},R){const L=Gt(I,R),J=U(I,R),se=x.getImmediate({optional:!0});if(se){const xt=yield se.getHeartbeatsHeader();xt&&J.append("x-firebase-client",xt)}const je={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:ee,appId:I.appId}})},mt=yield be(()=>fetch(L,je));if(mt.ok)return we(yield mt.json());throw yield De("Generate Auth Token",mt)})).apply(this,arguments)}function Gt(I,{fid:x}){return`${Ae(I)}/${x}/authTokens:generate`}function Y(I){return G.apply(this,arguments)}function G(){return(G=(0,N.Z)(function*(I,x=!1){let R;const L=yield Zi(I.appConfig,se=>{if(!ct(se))throw Qe.create("not-registered");const Se=se.authToken;if(!x&&dn(Se))return se;if(1===Se.requestStatus)return R=B(I,x),se;{if(!navigator.onLine)throw Qe.create("app-offline");const je=ar(se);return R=xe(I,je),je}});return R?yield R:L.authToken})).apply(this,arguments)}function B(I,x){return $.apply(this,arguments)}function $(){return($=(0,N.Z)(function*(I,x){let R=yield q(I.appConfig);for(;1===R.authToken.requestStatus;)yield Ne(100),R=yield q(I.appConfig);const L=R.authToken;return 0===L.requestStatus?Y(I,x):L})).apply(this,arguments)}function q(I){return Zi(I,x=>{if(!ct(x))throw Qe.create("not-registered");return function rt(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function xe(I,x){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,N.Z)(function*(I,x){try{const R=yield Qt(I,x),L=Object.assign(Object.assign({},x),{authToken:R});return yield fn(I.appConfig,L),R}catch(R){if(!tt(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const L=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield fn(I.appConfig,L)}else yield jn(I.appConfig);throw R}})).apply(this,arguments)}function ct(I){return void 0!==I&&2===I.registrationStatus}function dn(I){return 2===I.requestStatus&&!function Xt(I){const x=Date.now();return x<I.creationTime||I.creationTime+I.expiresIn<x+36e5}(I)}function ar(I){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:x})}function vn(){return(vn=(0,N.Z)(function*(I){const x=I,{installationEntry:R,registrationPromise:L}=yield yn(x);return L?L.catch(console.error):Y(x).catch(console.error),R.fid})).apply(this,arguments)}function Cr(){return(Cr=(0,N.Z)(function*(I,x=!1){const R=I;return yield Ke(R),(yield Y(R,x)).token})).apply(this,arguments)}function Ke(I){return wt.apply(this,arguments)}function wt(){return(wt=(0,N.Z)(function*(I){const{registrationPromise:x}=yield yn(I);x&&(yield x)})).apply(this,arguments)}function kt(I){return Qe.create("missing-app-config-values",{valueName:I})}const Va="installations",xn=I=>{const x=I.getProvider("app").getImmediate(),R=function xs(I){if(!I||!I.options)throw kt("App Configuration");if(!I.name)throw kt("App Name");const x=["projectId","apiKey","appId"];for(const R of x)if(!I.options[R])throw kt(R);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(x);return{app:x,appConfig:R,heartbeatServiceProvider:(0,he._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},Cs=I=>{const x=I.getProvider("app").getImmediate(),R=(0,he._getProvider)(x,Va).getImmediate();return{getId:()=>function hn(I){return vn.apply(this,arguments)}(R),getToken:J=>function mr(I){return Cr.apply(this,arguments)}(R,J)}};(function Ar(){(0,he._registerComponent)(new pe.wA(Va,xn,"PUBLIC")),(0,he._registerComponent)(new pe.wA("installations-internal",Cs,"PRIVATE"))})(),(0,he.registerVersion)(me,j),(0,he.registerVersion)(me,j,"esm2017");const As="@firebase/remote-config",Vt=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _d{constructor(x,R,L,J){this.client=x,this.storage=R,this.storageCache=L,this.logger=J}isCachedDataFresh(x,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-R,J=L<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${J}.`),J}fetch(x){var R=this;return(0,N.Z)(function*(){const[L,J]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(J&&R.isCachedDataFresh(x.cacheMaxAgeMillis,L))return J;x.eTag=J&&J.eTag;const se=yield R.client.fetch(x),Se=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&Se.push(R.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(Se),se})()}}function vd(I=navigator){return I.languages&&I.languages[0]||I.language}class ju{constructor(x,R,L,J,se,Se){this.firebaseInstallations=x,this.sdkVersion=R,this.namespace=L,this.projectId=J,this.apiKey=se,this.appId=Se}fetch(x){var R=this;return(0,N.Z)(function*(){var L,J,se;const[Se,je]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),xt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,St={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},ht={sdk_version:R.sdkVersion,app_instance_id:Se,app_instance_id_token:je,app_id:R.appId,language_code:vd()},Ln={method:"POST",headers:St,body:JSON.stringify(ht)},Ur=fetch(xt,Ln),fo=new Promise((po,ya)=>{x.signal.addEventListener(()=>{const Vd=new Error("The operation was aborted.");Vd.name="AbortError",ya(Vd)})});let sn;try{yield Promise.race([Ur,fo]),sn=yield Ur}catch(po){let ya="fetch-client-network";throw"AbortError"===(null===(L=po)||void 0===L?void 0:L.name)&&(ya="fetch-timeout"),Vt.create(ya,{originalErrorMessage:null===(J=po)||void 0===J?void 0:J.message})}let ln=sn.status;const ru=sn.headers.get("ETag")||void 0;let pl,Ls;if(200===sn.status){let po;try{po=yield sn.json()}catch(ya){throw Vt.create("fetch-client-parse",{originalErrorMessage:null===(se=ya)||void 0===se?void 0:se.message})}pl=po.entries,Ls=po.state}if("INSTANCE_STATE_UNSPECIFIED"===Ls?ln=500:"NO_CHANGE"===Ls?ln=304:("NO_TEMPLATE"===Ls||"EMPTY_CONFIG"===Ls)&&(pl={}),304!==ln&&200!==ln)throw Vt.create("fetch-status",{httpStatus:ln});return{status:ln,eTag:ru,config:pl}})()}}class Kp{constructor(x,R){this.client=x,this.storage=R}fetch(x){var R=this;return(0,N.Z)(function*(){const L=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(x,L)})()}attemptFetch(x,{throttleEndTimeMillis:R,backoffCount:L}){var J=this;return(0,N.Z)(function*(){yield function lr(I,x){return new Promise((R,L)=>{const J=Math.max(x-Date.now(),0),se=setTimeout(R,J);I.addEventListener(()=>{clearTimeout(se),L(Vt.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,R);try{const se=yield J.client.fetch(x);return yield J.storage.deleteThrottleMetadata(),se}catch(se){if(!function bd(I){if(!(I instanceof le.ZR&&I.customData))return!1;const x=Number(I.customData.httpStatus);return 429===x||500===x||503===x||504===x}(se))throw se;const Se={throttleEndTimeMillis:Date.now()+(0,le.$s)(L),backoffCount:L+1};return yield J.storage.setThrottleMetadata(Se),J.attemptFetch(x,Se)}})()}}class Hu{constructor(x,R,L,J,se){this.app=x,this._client=R,this._storageCache=L,this._storage=J,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Gu(I,x){var R;const L=I.target.error||void 0;return Vt.create(x,{originalErrorMessage:L&&(null===(R=L)||void 0===R?void 0:R.message)})}const Ms="app_namespace_store";class Ed{constructor(x,R,L,J=function Qp(){return new Promise((I,x)=>{var R;try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=J=>{x(Gu(J,"storage-open"))},L.onsuccess=J=>{I(J.target.result)},L.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(Ms,{keyPath:"compositeKey"})}}catch(L){x(Vt.create("storage-open",{originalErrorMessage:null===(R=L)||void 0===R?void 0:R.message}))}})}()){this.appId=x,this.appName=R,this.namespace=L,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var R=this;return(0,N.Z)(function*(){const L=yield R.openDbPromise;return new Promise((J,se)=>{var Se;const mt=L.transaction([Ms],"readonly").objectStore(Ms),xt=R.createCompositeKey(x);try{const St=mt.get(xt);St.onerror=ht=>{se(Gu(ht,"storage-get"))},St.onsuccess=ht=>{const Ln=ht.target.result;J(Ln?Ln.value:void 0)}}catch(St){se(Vt.create("storage-get",{originalErrorMessage:null===(Se=St)||void 0===Se?void 0:Se.message}))}})})()}set(x,R){var L=this;return(0,N.Z)(function*(){const J=yield L.openDbPromise;return new Promise((se,Se)=>{var je;const xt=J.transaction([Ms],"readwrite").objectStore(Ms),St=L.createCompositeKey(x);try{const ht=xt.put({compositeKey:St,value:R});ht.onerror=Ln=>{Se(Gu(Ln,"storage-set"))},ht.onsuccess=()=>{se()}}catch(ht){Se(Vt.create("storage-set",{originalErrorMessage:null===(je=ht)||void 0===je?void 0:je.message}))}})})()}delete(x){var R=this;return(0,N.Z)(function*(){const L=yield R.openDbPromise;return new Promise((J,se)=>{var Se;const mt=L.transaction([Ms],"readwrite").objectStore(Ms),xt=R.createCompositeKey(x);try{const St=mt.delete(xt);St.onerror=ht=>{se(Gu(ht,"storage-delete"))},St.onsuccess=()=>{J()}}catch(St){se(Vt.create("storage-delete",{originalErrorMessage:null===(Se=St)||void 0===Se?void 0:Se.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class Ha{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,N.Z)(function*(){const R=x.storage.getLastFetchStatus(),L=x.storage.getLastSuccessfulFetchTimestampMillis(),J=x.storage.getActiveConfig(),se=yield R;se&&(x.lastFetchStatus=se);const Se=yield L;Se&&(x.lastSuccessfulFetchTimestampMillis=Se);const je=yield J;je&&(x.activeConfig=je)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function _i(){return Id.apply(this,arguments)}function Id(){return(Id=(0,N.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}!function Ho(){(0,he._registerComponent)(new pe.wA("remote-config",function I(x,{instanceIdentifier:R}){const L=x.getProvider("app").getImmediate(),J=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Vt.create("registration-window");if(!(0,le.hl)())throw Vt.create("indexed-db-unavailable");const{projectId:se,apiKey:Se,appId:je}=L.options;if(!se)throw Vt.create("registration-project-id");if(!Se)throw Vt.create("registration-api-key");if(!je)throw Vt.create("registration-app-id");const mt=new Ed(je,L.name,R=R||"firebase"),xt=new Ha(mt),St=new ue.Yd(As);St.logLevel=ue.in.ERROR;const ht=new ju(J,he.SDK_VERSION,R,se,Se,je),Ln=new Kp(ht,mt),Ur=new _d(Ln,mt,xt,St),fo=new Hu(L,Ur,xt,mt,St);return function qr(I){const x=(0,le.m9)(I);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(fo),fo},"PUBLIC").setMultipleInstances(!0)),(0,he.registerVersion)(As,"0.3.11"),(0,he.registerVersion)(As,"0.3.11","esm2017")}();const Go="/firebase-messaging-sw.js",Fi="/firebase-cloud-messaging-push-scope",to="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zo="google.c.a.c_id",Ga="google.c.a.c_l",xd="google.c.a.ts",Cd="google.c.a.e";var ur=(()=>{return(I=ur||(ur={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",ur;var I})();function Wr(I){const x=new Uint8Array(I);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ad(I){const R=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(R),J=new Uint8Array(L.length);for(let se=0;se<L.length;++se)J[se]=L.charCodeAt(se);return J}const Wo="fcm_token_details_db",er="fcm_token_object_Store";function zn(I){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,N.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(Wo))return null;let x=null;return(yield(0,ge.X3)(Wo,5,{upgrade:(L=(0,N.Z)(function*(J,se,Se,je){var mt;if(se<2||!J.objectStoreNames.contains(er))return;const xt=je.objectStore(er),St=yield xt.index("fcmSenderId").get(I);if(yield xt.clear(),St)if(2===se){const ht=St;if(!ht.auth||!ht.p256dh||!ht.endpoint)return;x={token:ht.fcmToken,createTime:null!==(mt=ht.createTime)&&void 0!==mt?mt:Date.now(),subscriptionOptions:{auth:ht.auth,p256dh:ht.p256dh,endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:"string"==typeof ht.vapidKey?ht.vapidKey:Wr(ht.vapidKey)}}}else if(3===se){const ht=St;x={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:Wr(ht.auth),p256dh:Wr(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:Wr(ht.vapidKey)}}}else if(4===se){const ht=St;x={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:Wr(ht.auth),p256dh:Wr(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:Wr(ht.vapidKey)}}}}),function(se,Se,je,mt){return L.apply(this,arguments)})})).close(),yield(0,ge.Lj)(Wo),yield(0,ge.Lj)("fcm_vapid_details_db"),yield(0,ge.Lj)("undefined"),uf(x)?x:null;var L}),Sd.apply(this,arguments)}function uf(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:x}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const Ji="firebase-messaging-store";let $a=null;function es(){return $a||($a=(0,ge.X3)("firebase-messaging-database",1,{upgrade:(I,x)=>{0===x&&I.createObjectStore(Ji)}})),$a}function Sr(I){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,N.Z)(function*(I){const x=Yo(I),L=yield(yield es()).transaction(Ji).objectStore(Ji).get(x);if(L)return L;{const J=yield zn(I.appConfig.senderId);if(J)return yield bi(I,J),J}})).apply(this,arguments)}function bi(I,x){return ts.apply(this,arguments)}function ts(){return(ts=(0,N.Z)(function*(I,x){const R=Yo(I),J=(yield es()).transaction(Ji,"readwrite");return yield J.objectStore(Ji).put(x,R),yield J.done,x})).apply(this,arguments)}function ns(I){return rs.apply(this,arguments)}function rs(){return(rs=(0,N.Z)(function*(I){const x=Yo(I),L=(yield es()).transaction(Ji,"readwrite");yield L.objectStore(Ji).delete(x),yield L.done})).apply(this,arguments)}function Yo({appConfig:I}){return I.appId}const Fn=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Td(I,x){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,N.Z)(function*(I,x){var R;const L=yield Ie(I),J=ks(x),se={method:"POST",headers:L,body:JSON.stringify(J)};let Se;try{Se=yield(yield fetch(Qo(I.appConfig),se)).json()}catch(je){throw Fn.create("token-subscribe-failed",{errorInfo:null===(R=je)||void 0===R?void 0:R.toString()})}if(Se.error)throw Fn.create("token-subscribe-failed",{errorInfo:Se.error.message});if(!Se.token)throw Fn.create("token-subscribe-no-token");return Se.token})).apply(this,arguments)}function $u(I,x){return no.apply(this,arguments)}function no(){return(no=(0,N.Z)(function*(I,x){var R;const L=yield Ie(I),J=ks(x.subscriptionOptions),se={method:"PATCH",headers:L,body:JSON.stringify(J)};let Se;try{Se=yield(yield fetch(`${Qo(I.appConfig)}/${x.token}`,se)).json()}catch(je){throw Fn.create("token-update-failed",{errorInfo:null===(R=je)||void 0===R?void 0:R.toString()})}if(Se.error)throw Fn.create("token-update-failed",{errorInfo:Se.error.message});if(!Se.token)throw Fn.create("token-update-no-token");return Se.token})).apply(this,arguments)}function Rs(I,x){return jl.apply(this,arguments)}function jl(){return(jl=(0,N.Z)(function*(I,x){var R;const J={method:"DELETE",headers:yield Ie(I)};try{const Se=yield(yield fetch(`${Qo(I.appConfig)}/${x}`,J)).json();if(Se.error)throw Fn.create("token-unsubscribe-failed",{errorInfo:Se.error.message})}catch(se){throw Fn.create("token-unsubscribe-failed",{errorInfo:null===(R=se)||void 0===R?void 0:R.toString()})}})).apply(this,arguments)}function Qo({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Ie(I){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,N.Z)(function*({appConfig:I,installations:x}){const R=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function ks({p256dh:I,auth:x,endpoint:R,vapidKey:L}){const J={web:{endpoint:R,auth:x,p256dh:I}};return L!==to&&(J.web.applicationPubKey=L),J}const Xo=6048e5;function bn(I){return za.apply(this,arguments)}function za(){return(za=(0,N.Z)(function*(I){const x=yield cf(I.swRegistration,I.vapidKey),R={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:x.endpoint,auth:Wr(x.getKey("auth")),p256dh:Wr(x.getKey("p256dh"))},L=yield Sr(I.firebaseDependencies);if(L){if(tr(L.subscriptionOptions,R))return Date.now()>=L.createTime+Xo?qa(I,{token:L.token,createTime:Date.now(),subscriptionOptions:R}):L.token;try{yield Rs(I.firebaseDependencies,L.token)}catch(J){console.warn(J)}return Jo(I.firebaseDependencies,R)}return Jo(I.firebaseDependencies,R)})).apply(this,arguments)}function Os(I){return li.apply(this,arguments)}function li(){return(li=(0,N.Z)(function*(I){const x=yield Sr(I.firebaseDependencies);x&&(yield Rs(I.firebaseDependencies,x.token),yield ns(I.firebaseDependencies));const R=yield I.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function qa(I,x){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,N.Z)(function*(I,x){try{const R=yield $u(I.firebaseDependencies,x),L=Object.assign(Object.assign({},x),{token:R,createTime:Date.now()});return yield bi(I.firebaseDependencies,L),R}catch(R){throw yield Os(I),R}})).apply(this,arguments)}function Jo(I,x){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,N.Z)(function*(I,x){const L={token:yield Td(I,x),createTime:Date.now(),subscriptionOptions:x};return yield bi(I,L),L.token})).apply(this,arguments)}function cf(I,x){return is.apply(this,arguments)}function is(){return(is=(0,N.Z)(function*(I,x){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ad(x)})})).apply(this,arguments)}function tr(I,x){return x.vapidKey===I.vapidKey&&x.endpoint===I.endpoint&&x.auth===I.auth&&x.p256dh===I.p256dh}function Ni(I){const x={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Za(I,x){if(!x.notification)return;I.notification={};const R=x.notification.title;R&&(I.notification.title=R);const L=x.notification.body;L&&(I.notification.body=L);const J=x.notification.image;J&&(I.notification.image=J)}(x,I),function ro(I,x){!x.data||(I.data=x.data)}(x,I),function ss(I,x){var R,L,J,se,Se;if(!(x.fcmOptions||null!==(R=x.notification)&&void 0!==R&&R.click_action))return;I.fcmOptions={};const je=null!==(J=null===(L=x.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==J?J:null===(se=x.notification)||void 0===se?void 0:se.click_action;je&&(I.fcmOptions.link=je);const mt=null===(Se=x.fcmOptions)||void 0===Se?void 0:Se.analytics_label;mt&&(I.fcmOptions.analyticsLabel=mt)}(x,I),x}function zu(I){return"object"==typeof I&&!!I&&zo in I}function qu(I,x){const R=[];for(let L=0;L<I.length;L++)R.push(I.charAt(L)),L<x.length&&R.push(x.charAt(L));return R.join("")}function Ya(I){return Fn.create("missing-app-config-values",{valueName:I})}qu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Wu{constructor(x,R,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function Md(I){if(!I||!I.options)throw Ya("App Configuration Object");if(!I.name)throw Ya("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:R}=I;for(const L of x)if(!R[L])throw Ya(L);return{appName:I.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:J,installations:R,analyticsProvider:L}}_delete(){return Promise.resolve()}}function io(I){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,N.Z)(function*(I){var x;try{I.swRegistration=yield navigator.serviceWorker.register(Go,{scope:Fi}),I.swRegistration.update().catch(()=>{})}catch(R){throw Fn.create("failed-service-worker-registration",{browserErrorMessage:null===(x=R)||void 0===x?void 0:x.message})}})).apply(this,arguments)}function Qa(I,x){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,N.Z)(function*(I,x){if(!x&&!I.swRegistration&&(yield io(I)),x||!I.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw Fn.create("invalid-sw-registration");I.swRegistration=x}})).apply(this,arguments)}function ea(I,x){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,N.Z)(function*(I,x){x?I.vapidKey=x:I.vapidKey||(I.vapidKey=to)})).apply(this,arguments)}function zl(){return(zl=(0,N.Z)(function*(I,x){if(!navigator)throw Fn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Fn.create("permission-blocked");return yield ea(I,x?.vapidKey),yield Qa(I,x?.serviceWorkerRegistration),bn(I)})).apply(this,arguments)}function ql(I,x,R){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,N.Z)(function*(I,x,R){const L=ta(x);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:R[zo],message_name:R[Ga],message_time:R[xd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ta(I){switch(I){case ur.NOTIFICATION_CLICKED:return"notification_open";case ur.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Kl(){return(Kl=(0,N.Z)(function*(I,x){const R=x.data;if(!R.isFirebaseMessaging)return;I.onMessageHandler&&R.messageType===ur.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Ni(R)):I.onMessageHandler.next(Ni(R)));const L=R.data;zu(L)&&"1"===L[Cd]&&(yield ql(I,R.messageType,L))})).apply(this,arguments)}const cr="@firebase/messaging",wn=I=>{const x=new Wu(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function df(I,x){return Kl.apply(this,arguments)}(x,R)),x},na=I=>{const x=I.getProvider("messaging").getImmediate();return{getToken:L=>function $l(I,x){return zl.apply(this,arguments)}(x,L)}};function hf(){return kd.apply(this,arguments)}function kd(){return(kd=(0,N.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Rd(){(0,he._registerComponent)(new pe.wA("messaging",wn,"PUBLIC")),(0,he._registerComponent)(new pe.wA("messaging-internal",na,"PRIVATE")),(0,he.registerVersion)(cr,"0.9.16"),(0,he.registerVersion)(cr,"0.9.16","esm2017")}();const Pi="analytics",ra="firebase_id",Li="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ja="https://www.googletagmanager.com/gtag/js",_r=new ue.Yd("@firebase/analytics");function yf(I){return Promise.all(I.map(x=>x.catch(R=>R)))}function Ay(I,x){const R=document.createElement("script");R.src=`${Ja}?l=${I}&id=${x}`,R.async=!0,document.head.appendChild(R)}function el(I,x,R,L,J,se){return tl.apply(this,arguments)}function tl(){return(tl=(0,N.Z)(function*(I,x,R,L,J,se){const Se=L[J];try{if(Se)yield x[Se];else{const mt=(yield yf(R)).find(xt=>xt.measurementId===J);mt&&(yield x[mt.appId])}}catch(je){_r.error(je)}I("config",J,se)})).apply(this,arguments)}function Fd(I,x,R,L,J){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,N.Z)(function*(I,x,R,L,J){try{let se=[];if(J&&J.send_to){let Se=J.send_to;Array.isArray(Se)||(Se=[Se]);const je=yield yf(R);for(const mt of Se){const xt=je.find(ht=>ht.measurementId===mt),St=xt&&x[xt.appId];if(!St){se=[];break}se.push(St)}}0===se.length&&(se=Object.values(x)),yield Promise.all(se),I("event",L,J||{})}catch(se){_r.error(se)}})).apply(this,arguments)}function nl(){const I=window.document.getElementsByTagName("script");for(const x of Object.values(I))if(x.src&&x.src.includes(Ja))return x;return null}const Tr=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Pd=new class Ns{constructor(x={},R=1e3){this.throttleMetadata=x,this.intervalMillis=R}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,R){this.throttleMetadata[x]=R}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function ve(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function as(I){return pn.apply(this,arguments)}function pn(){return(pn=(0,N.Z)(function*(I){var x;const{appId:R,apiKey:L}=I,J={method:"GET",headers:ve(L)},se=Li.replace("{app-id}",R),Se=yield fetch(se,J);if(200!==Se.status&&304!==Se.status){let je="";try{const mt=yield Se.json();null!==(x=mt.error)&&void 0!==x&&x.message&&(je=mt.error.message)}catch{}throw Tr.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:je})}return Se.json()})).apply(this,arguments)}function rn(I){return ci.apply(this,arguments)}function ci(){return(ci=(0,N.Z)(function*(I,x=Pd,R){const{appId:L,apiKey:J,measurementId:se}=I.options;if(!L)throw Tr.create("no-app-id");if(!J){if(se)return{measurementId:se,appId:L};throw Tr.create("no-api-key")}const Se=x.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new rl;return setTimeout((0,N.Z)(function*(){je.abort()}),void 0!==R?R:6e4),Nn({appId:L,apiKey:J,measurementId:se},Se,je,x)})).apply(this,arguments)}function Nn(I,x,R){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,N.Z)(function*(I,{throttleEndTimeMillis:x,backoffCount:R},L,J=Pd){var se,Se;const{appId:je,measurementId:mt}=I;try{yield ia(L,x)}catch(xt){if(mt)return _r.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mt} provided in the "measurementId" field in the local Firebase config. [${null===(se=xt)||void 0===se?void 0:se.message}]`),{appId:je,measurementId:mt};throw xt}try{const xt=yield as(I);return J.deleteThrottleMetadata(je),xt}catch(xt){const St=xt;if(!Yl(St)){if(J.deleteThrottleMetadata(je),mt)return _r.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mt} provided in the "measurementId" field in the local Firebase config. [${St?.message}]`),{appId:je,measurementId:mt};throw xt}const ht=503===Number(null===(Se=St?.customData)||void 0===Se?void 0:Se.httpStatus)?(0,le.$s)(R,J.intervalMillis,30):(0,le.$s)(R,J.intervalMillis),Ln={throttleEndTimeMillis:Date.now()+ht,backoffCount:R+1};return J.setThrottleMetadata(je,Ln),_r.debug(`Calling attemptFetch again in ${ht} millis`),Nn(I,Ln,L,J)}})).apply(this,arguments)}function ia(I,x){return new Promise((R,L)=>{const J=Math.max(x-Date.now(),0),se=setTimeout(R,J);I.addEventListener(()=>{clearTimeout(se),L(Tr.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function Yl(I){if(!(I instanceof le.ZR&&I.customData))return!1;const x=Number(I.customData.httpStatus);return 429===x||500===x||503===x||504===x}class rl{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let Cn,Lr;function gn(){return(gn=(0,N.Z)(function*(I,x,R,L,J){if(J&&J.global)I("event",R,L);else{const se=yield x;I("event",R,Object.assign(Object.assign({},L),{send_to:se}))}})).apply(this,arguments)}function Qu(I){Lr=I}function Xl(I){Cn=I}function ao(){return aa.apply(this,arguments)}function aa(){return(aa=(0,N.Z)(function*(){var I;if(!(0,le.hl)())return _r.warn(Tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(x){return _r.warn(Tr.create("indexeddb-unavailable",{errorInfo:null===(I=x)||void 0===I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function Mt(){return(Mt=(0,N.Z)(function*(I,x,R,L,J,se,Se){var je;const mt=rn(I);mt.then(Ur=>{R[Ur.measurementId]=Ur.appId,I.options.measurementId&&Ur.measurementId!==I.options.measurementId&&_r.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Ur.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ur=>_r.error(Ur)),x.push(mt);const xt=ao().then(Ur=>{if(Ur)return L.getId()}),[St,ht]=yield Promise.all([mt,xt]);nl()||Ay(se,St.measurementId),Lr&&(J("consent","default",Lr),Qu(void 0)),J("js",new Date);const Ln=null!==(je=Se?.config)&&void 0!==je?je:{};return Ln.origin="firebase",Ln.update=!0,null!=ht&&(Ln[ra]=ht),J("config",St.measurementId,Ln),Cn&&(J("set",Cn),Xl(void 0)),St.measurementId})).apply(this,arguments)}class la{constructor(x){this.app=x}_delete(){return delete Sn[this.app.options.appId],Promise.resolve()}}let Sn={},Je=[];const ua={};let Jl,Ht,gt="dataLayer",al=!1;function eg(I,x,R){!function Jp(){const I=[];if((0,le.ru)()&&I.push("This is a browser extension environment."),(0,le.zI)()||I.push("Cookies are not available."),I.length>0){const x=I.map((L,J)=>`(${J+1}) ${L}`).join(" "),R=Tr.create("invalid-analytics-context",{errorInfo:x});_r.warn(R.message)}}();const L=I.options.appId;if(!L)throw Tr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Tr.create("no-api-key");_r.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Sn[L])throw Tr.create("already-exists",{id:L});if(!al){!function Sy(I){let x=[];Array.isArray(window[I])?x=window[I]:window[I]=x}(gt);const{wrappedGtag:se,gtagCore:Se}=function _f(I,x,R,L,J){let se=function(...Se){window[L].push(arguments)};return window[J]&&"function"==typeof window[J]&&(se=window[J]),window[J]=function Nd(I,x,R,L){function se(){return(se=(0,N.Z)(function*(Se,je,mt){try{"event"===Se?yield Fd(I,x,R,je,mt):"config"===Se?yield el(I,x,R,L,je,mt):"consent"===Se?I("consent","update",mt):I("set",je)}catch(xt){_r.error(xt)}})).apply(this,arguments)}return function J(Se,je,mt){return se.apply(this,arguments)}}(se,I,x,R),{gtagCore:se,wrappedGtag:window[J]}}(Sn,Je,ua,gt,"gtag");Ht=se,Jl=Se,al=!0}return Sn[L]=function Br(I,x,R,L,J,se,Se){return Mt.apply(this,arguments)}(I,Je,ua,x,Jl,gt,R),new la(I)}function Xu(){return En.apply(this,arguments)}function En(){return(En=(0,N.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const Rr="@firebase/analytics";!function tc(){(0,he._registerComponent)(new pe.wA(Pi,(x,{options:R})=>eg(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,he._registerComponent)(new pe.wA("analytics-internal",function I(x){try{const R=x.getProvider(Pi).getImmediate();return{logEvent:(L,J,se)=>function tg(I,x,R,L){I=(0,le.m9)(I),function il(I,x,R,L,J){return gn.apply(this,arguments)}(Ht,Sn[I.app.options.appId],x,R,L).catch(J=>_r.error(J))}(R,L,J,se)}}catch(R){throw Tr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,he.registerVersion)(Rr,"0.8.0"),(0,he.registerVersion)(Rr,"0.8.0","esm2017")}();var qn=F(4408),dr=F(7565);const eu=new class ul extends dr.v{}(class lo extends qn.o{constructor(x,R){super(x,R),this.scheduler=x,this.work=R}schedule(x,R=0){return R>0?super.schedule(x,R):(this.delay=R,this.state=x,this.scheduler.flush(this),this)}execute(x,R){return R>0||this.closed?super.execute(x,R):this._execute(x,R)}requestAsyncId(x,R,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(x,R,L):x.flush(this)}});var nc=F(4986),uo=F(8505),Wn=F(9468),co=F(5363);const da=new h.GfV("7.4.1"),Ld="__angularfire_symbol__analyticsIsSupportedValue",us="__angularfire_symbol__analyticsIsSupported",ha="__angularfire_symbol__remoteConfigIsSupportedValue",fa="__angularfire_symbol__remoteConfigIsSupported",tu="__angularfire_symbol__messagingIsSupportedValue",rc="__angularfire_symbol__messagingIsSupported";function nu(I,x,R){if(x){if(1===x.length)return x[0];const se=x.filter(Se=>Se.app===R);if(1===se.length)return se[0]}return R.container.getProvider(I).getImmediate({optional:!0})}globalThis[us]||(globalThis[us]=Xu().then(I=>globalThis[Ld]=I).catch(()=>globalThis[Ld]=!1)),globalThis[rc]||(globalThis[rc]=hf().then(I=>globalThis[tu]=I).catch(()=>globalThis[tu]=!1)),globalThis[fa]||(globalThis[fa]=_i().then(I=>globalThis[ha]=I).catch(()=>globalThis[ha]=!1));const ho=(I,x)=>{const R=x?[x]:(0,re.C6)(),L=[];return R.forEach(J=>{J.container.getProvider(I).instances.forEach(Se=>{L.includes(Se)||L.push(Se)})}),L};function Ps(){}class wi{constructor(x,R=eu){this.zone=x,this.delegate=R}now(){return this.delegate.now()}schedule(x,R,L){const J=this.zone;return this.delegate.schedule(function(Se){J.runGuarded(()=>{x.apply(this,[Se])})},R,L)}}class Bd{constructor(x){this.zone=x,this.task=null}call(x,R){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ps,{},Ps,Ps)),R.pipe((0,uo.b)({next:L,complete:L,error:L})).subscribe(x).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ef=(()=>{class I{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new wi(Zone.current)),this.insideAngular=R.run(()=>new wi(Zone.current,nc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(R){return new(R||I)(h.LFG(h.R0b))},I.\u0275prov=h.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function cs(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Tn(I){return cs(),function sc(I){return function(R){return(R=R.lift(new Bd(I.ngZone))).pipe((0,Wn.R)(I.outsideAngular),(0,co.Q)(I.insideAngular))}}(cs())(I)}},2090:(ut,Ce,F)=>{F.d(Ce,{$s:()=>Is,BH:()=>$e,G6:()=>Ge,L:()=>ge,LL:()=>Le,Mn:()=>De,Sg:()=>Re,UG:()=>ye,US:()=>pe,ZB:()=>H,ZR:()=>ie,b$:()=>tt,d:()=>Ae,eu:()=>be,hl:()=>U,jU:()=>_e,m9:()=>Gt,ne:()=>yt,pd:()=>si,r3:()=>Gr,ru:()=>Qe,tV:()=>me,uI:()=>Ye,vZ:()=>ii,w1:()=>we,xO:()=>Mi,xb:()=>an,z$:()=>Me,zI:()=>X,zd:()=>Ki});const he=function(Y){const G=[];let B=0;for(let $=0;$<Y.length;$++){let q=Y.charCodeAt($);q<128?G[B++]=q:q<2048?(G[B++]=q>>6|192,G[B++]=63&q|128):55296==(64512&q)&&$+1<Y.length&&56320==(64512&Y.charCodeAt($+1))?(q=65536+((1023&q)<<10)+(1023&Y.charCodeAt(++$)),G[B++]=q>>18|240,G[B++]=q>>12&63|128,G[B++]=q>>6&63|128,G[B++]=63&q|128):(G[B++]=q>>12|224,G[B++]=q>>6&63|128,G[B++]=63&q|128)}return G},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,G){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let q=0;q<Y.length;q+=3){const xe=Y[q],Ue=q+1<Y.length,ct=Ue?Y[q+1]:0,dn=q+2<Y.length,Xt=dn?Y[q+2]:0;let hn=(15&ct)<<2|Xt>>6,vn=63&Xt;dn||(vn=64,Ue||(hn=64)),$.push(B[xe>>2],B[(3&xe)<<4|ct>>4],B[hn],B[vn])}return $.join("")},encodeString(Y,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(Y):this.encodeByteArray(he(Y),G)},decodeString(Y,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(Y):function(Y){const G=[];let B=0,$=0;for(;B<Y.length;){const q=Y[B++];if(q<128)G[$++]=String.fromCharCode(q);else if(q>191&&q<224){const xe=Y[B++];G[$++]=String.fromCharCode((31&q)<<6|63&xe)}else if(q>239&&q<365){const dn=((7&q)<<18|(63&Y[B++])<<12|(63&Y[B++])<<6|63&Y[B++])-65536;G[$++]=String.fromCharCode(55296+(dn>>10)),G[$++]=String.fromCharCode(56320+(1023&dn))}else{const xe=Y[B++],Ue=Y[B++];G[$++]=String.fromCharCode((15&q)<<12|(63&xe)<<6|63&Ue)}}return G.join("")}(this.decodeStringToByteArray(Y,G))},decodeStringToByteArray(Y,G){this.init_();const B=G?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let q=0;q<Y.length;){const xe=B[Y.charAt(q++)],ct=q<Y.length?B[Y.charAt(q)]:0;++q;const Xt=q<Y.length?B[Y.charAt(q)]:64;++q;const rt=q<Y.length?B[Y.charAt(q)]:64;if(++q,null==xe||null==ct||null==Xt||null==rt)throw Error();$.push(xe<<2|ct>>4),64!==Xt&&($.push(ct<<4&240|Xt>>2),64!==rt&&$.push(Xt<<6&192|rt))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},ge=function(Y){return function(Y){const G=he(Y);return pe.encodeByteArray(G,!0)}(Y).replace(/\./g,"")},me=function(Y){try{return pe.decodeString(Y,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function H(Y,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return G}for(const B in G)!G.hasOwnProperty(B)||!ee(B)||(Y[B]=H(Y[B],G[B]));return Y}function ee(Y){return"__proto__"!==Y}class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,B)=>{this.resolve=G,this.reject=B})}wrapCallback(G){return(B,$)=>{B?this.reject(B):this.resolve($),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(B):G(B,$))}}}function Re(Y,G){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=G||"demo-project",q=Y.iat||0,xe=Y.sub||Y.user_id;if(!xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:q,exp:q+3600,auth_time:q,sub:xe,user_id:xe,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Ue)),""].join(".")}function Me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function _e(){return"object"==typeof self&&self.self===self}function Qe(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function tt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return Me().indexOf("Electron/")>=0}function we(){const Y=Me();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function De(){return Me().indexOf("MSAppHost/")>=0}function Ge(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U(){return"object"==typeof indexedDB}function be(){return new Promise((Y,G)=>{try{let B=!0;const $="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open($);q.onsuccess=()=>{q.result.close(),B||self.indexedDB.deleteDatabase($),Y(!0)},q.onupgradeneeded=()=>{B=!1},q.onerror=()=>{var xe;G((null===(xe=q.error)||void 0===xe?void 0:xe.message)||"")}}catch(B){G(B)}})}function X(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ie extends Error{constructor(G,B,$){super(B),this.code=G,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Le.prototype.create)}}class Le{constructor(G,B,$){this.service=G,this.serviceName=B,this.errors=$}create(G,...B){const $=B[0]||{},q=`${this.service}/${G}`,xe=this.errors[G],Ue=xe?function Ne(Y,G){return Y.replace(pt,(B,$)=>{const q=G[$];return null!=q?String(q):`<${$}?>`})}(xe,$):"Error";return new ie(q,`${this.serviceName}: ${Ue} (${q}).`,$)}}const pt=/\{\$([^}]+)}/g;function Gr(Y,G){return Object.prototype.hasOwnProperty.call(Y,G)}function an(Y){for(const G in Y)if(Object.prototype.hasOwnProperty.call(Y,G))return!1;return!0}function ii(Y,G){if(Y===G)return!0;const B=Object.keys(Y),$=Object.keys(G);for(const q of B){if(!$.includes(q))return!1;const xe=Y[q],Ue=G[q];if(Pr(xe)&&Pr(Ue)){if(!ii(xe,Ue))return!1}else if(xe!==Ue)return!1}for(const q of $)if(!B.includes(q))return!1;return!0}function Pr(Y){return null!==Y&&"object"==typeof Y}function Mi(Y){const G=[];for(const[B,$]of Object.entries(Y))Array.isArray($)?$.forEach(q=>{G.push(encodeURIComponent(B)+"="+encodeURIComponent(q))}):G.push(encodeURIComponent(B)+"="+encodeURIComponent($));return G.length?"&"+G.join("&"):""}function Ki(Y){const G={};return Y.replace(/^\?/,"").split("&").forEach($=>{if($){const[q,xe]=$.split("=");G[decodeURIComponent(q)]=decodeURIComponent(xe)}}),G}function si(Y){const G=Y.indexOf("?");if(!G)return"";const B=Y.indexOf("#",G);return Y.substring(G,B>0?B:void 0)}function yt(Y,G){const B=new fn(Y,G);return B.subscribe.bind(B)}class fn{constructor(G,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{G(this)}).catch($=>{this.error($)})}next(G){this.forEachObserver(B=>{B.next(G)})}error(G){this.forEachObserver(B=>{B.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,B,$){let q;if(void 0===G&&void 0===B&&void 0===$)throw new Error("Missing Observer.");q=function jn(Y,G){if("object"!=typeof Y||null===Y)return!1;for(const B of G)if(B in Y&&"function"==typeof Y[B])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:B,complete:$},void 0===q.next&&(q.next=ki),void 0===q.error&&(q.error=ki),void 0===q.complete&&(q.complete=ki);const xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),xe}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,G)}sendOne(G,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{B(this.observers[G])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ki(){}function Is(Y,G=1e3,B=2){const $=G*Math.pow(B,Y),q=Math.round(.5*$*(Math.random()-.5)*2);return Math.min(144e5,$+q)}function Gt(Y){return Y&&Y._delegate?Y._delegate:Y}},6593:(ut,Ce,F)=>{var h=F(4650);let re=null;function N(){return re}const ue=new h.OlP("DocumentToken");class Vo{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qi=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Vo(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===l?void 0:l);else if(null!==l){const p=r.get(l);r.move(p,c),$n(p,i)}});for(let i=0,l=r.length;i<l;i++){const p=r.get(i).context;p.index=i,p.count=l,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{$n(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function $n(n,e){n.context.$implicit=e.item}class eo{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let jo=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Jr=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new eo(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(jo,9))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();class bd{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Kp{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Xi=new Kp,Zp=new bd;let Hu=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return Xi;if((0,h.F4k)(t))return Zp;throw function lr(n,e){return new h.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),qo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const ur="browser";function vi(n){return n===ur}function er(n){return"server"===n}class bi extends class Zo extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function le(n){re||(re=n)}(new bi)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ns(){return ts=ts||document.querySelector("base"),ts?ts.getAttribute("href"):null}();return null==t?null:function Yo(n){rs=rs||document.createElement("a"),rs.setAttribute("href",n);const e=rs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ts=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Vu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let rs,ts=null;const It=new h.OlP("TRANSITION_ID"),Td=[{provide:h.ip1,useFactory:function Fn(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[It,ue,h.zs3],multi:!0}];let $u=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const no=new h.OlP("EventManagerPlugins");let Rs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const c=i[l];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(no),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class jl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Qo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends Qo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const c=this._doc.createElement("style");c.textContent=l,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ut),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ut))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Ut(n){N().remove(n)}const ks={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xo=/%COMP%/g;function Jo(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Jo(n,i,t):(i=i.replace(Xo,n),t.push(i))}return t}function Ka(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let is=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new tr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new ss(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case h.ifc.ShadowDom:return new zu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Jo(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Rs),h.LFG(Ie),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class tr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ks[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ro(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ro(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=ks[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ks[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ka(r)):this.eventManager.addEventListener(e,t,Ka(r))}}function ro(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ss extends tr{constructor(e,t,r,i){super(e),this.component=r;const l=Jo(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function qa(n){return"_ngcontent-%COMP%".replace(Xo,n)}(i+"-"+r.id),this.hostAttr=function Wa(n){return"_nghost-%COMP%".replace(Xo,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class zu extends tr{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Jo(i.id,i.styles,[]);for(let c=0;c<l.length;c++){const p=document.createElement("style");p.textContent=l[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let qu=(()=>{class n extends jl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Md=["alt","control","meta","shift"],Wu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},io={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Hl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Qa=(()=>{class n extends jl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),c=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,l.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let c="";if(Md.forEach(v=>{const E=r.indexOf(v);E>-1&&(r.splice(E,1),c+=v+".")}),c+=l,0!=r.length||0===l.length)return null;const p={};return p.domEventName=i,p.fullKey=c,p}static getEventFullKey(t){let r="",i=function Ku(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&io.hasOwnProperty(e)&&(e=io[e]))}return Wu[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Md.forEach(l=>{l!=i&&(0,Hl[l])(t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const df=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:ur},{provide:h.g9A,useValue:function zl(){bi.makeCurrent()},multi:!0},{provide:ue,useFactory:function Wl(){return(0,h.RDi)(document),document},deps:[]}]),Kl=new h.OlP(""),cr=[{provide:h.rWj,useClass:class Ul{addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let l=i.length,c=!1;const p=function(v){c=c||v,l--,0==l&&r(c)};i.forEach(function(v){v.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],ui=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function ql(){return new h.qLn},deps:[]},{provide:no,useClass:qu,multi:!0,deps:[ue,h.R0b,h.Lbi]},{provide:no,useClass:Qa,multi:!0,deps:[ue]},{provide:is,useClass:is,deps:[Rs,Ie,h.AFp]},{provide:h.FYo,useExisting:is},{provide:Qo,useExisting:Ie},{provide:Ie,useClass:Ie,deps:[ue]},{provide:Rs,useClass:Rs,deps:[no,h.R0b]},{provide:class Sr{},useClass:$u,deps:[]},[]];let wn=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:It,useExisting:h.AFp},Td]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Kl,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...ui,...cr],imports:[qo,h.hGG]}),n})();typeof window<"u"&&window;let os=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):h.LFG(Ns),r},providedIn:"root"}),n})(),Ns=(()=>{class n extends os{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case h.q3G.NONE:return r;case h.q3G.HTML:return(0,h.qzn)(r,"HTML")?(0,h.z3N)(r):(0,h.EiD)(this._doc,String(r)).toString();case h.q3G.STYLE:return(0,h.qzn)(r,"Style")?(0,h.z3N)(r):r;case h.q3G.SCRIPT:if((0,h.qzn)(r,"Script"))return(0,h.z3N)(r);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.qzn)(r,"URL")?(0,h.z3N)(r):(0,h.mCW)(String(r));case h.q3G.RESOURCE_URL:if((0,h.qzn)(r,"ResourceURL"))return(0,h.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,h.JVY)(t)}bypassSecurityTrustStyle(t){return(0,h.L6k)(t)}bypassSecurityTrustScript(t){return(0,h.eBb)(t)}bypassSecurityTrustUrl(t){return(0,h.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,h.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Yu(n){return new Ns(n.get(ue))}(h.LFG(h.zs3)),r},providedIn:"root"}),n})();var ve=F(5861),as=F(4986),pn=F(8306),rn=F(8996),ci=F(3269);function Nn(...n){const e=(0,ci.yG)(n);return(0,rn.D)(n,e)}var Pn=F(5813),ia=F(8189);function rl(...n){return function Yl(){return(0,ia.J)(1)}()((0,rn.D)(n,(0,ci.yG)(n)))}var Cn=F(4482);function il(...n){const e=(0,ci.yG)(n);return(0,Cn.e)((t,r)=>{(e?rl(n,t,e):rl(n,t)).subscribe(r)})}var gn=F(5403);function sl(){return(0,Cn.e)((n,e)=>{let t,r=!1;n.subscribe((0,gn.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}var jt=F(4004);function oo(n,e,t,r,i){return(l,c)=>{let p=t,v=e,E=0;l.subscribe((0,gn.x)(c,S=>{const M=E++;v=p?n(v,S,M):(p=!0,S),r&&c.next(v)},i&&(()=>{p&&c.next(v),c.complete()})))}}function ls(n,e){return(0,Cn.e)(oo(n,e,arguments.length>=2,!0))}var sa=F(4671);function oa(n,e=sa.y){return n=n??Ql,(0,Cn.e)((t,r)=>{let i,l=!0;t.subscribe((0,gn.x)(r,c=>{const p=e(c);(l||!n(i,p))&&(l=!1,i=p,r.next(c))}))})}function Ql(n,e){return n===e}function An(n,e){return(0,Cn.e)((t,r)=>{let i=0;t.subscribe((0,gn.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}var Je,Lr=F(2011),Xl=(F(1451),F(3942)),ao=F(9681),aa=F(4859),Br=F(1877),Mt=F(2090),la=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sn={},ua=ua||{},gt=la||self;function ol(){}function Jl(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ht(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vf="closure_uid_"+(1e9*Math.random()>>>0),Jp=0;function eg(n,e,t){return n.call.apply(n.bind,arguments)}function bf(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Mr(n,e,t){return(Mr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eg:bf).apply(null,arguments)}function Xu(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function En(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[i].apply(r,c)}}function ca(){this.s=this.s,this.o=this.o}var nr={};ca.prototype.s=!1,ca.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function al(n){return Object.prototype.hasOwnProperty.call(n,vf)&&n[vf]||(n[vf]=++Jp)}(this);delete nr[n]}},ca.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ju=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},ll=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function ec(n){return Array.prototype.concat.apply([],arguments)}function Rr(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Vr(n){return/^[\s\xa0]*$/.test(n)}var dr,tc=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function qn(n,e){return-1!=n.indexOf(e)}function lo(n,e){return n<e?-1:n>e?1:0}e:{var ul=gt.navigator;if(ul){var eu=ul.userAgent;if(eu){dr=eu;break e}}dr=""}function wf(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function nc(n){const e={};for(const t in n)e[t]=n[t];return e}var uo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wn(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<uo.length;l++)t=uo[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function co(n){return co[" "](n),n}co[" "]=ol;var ic,n,Ld=qn(dr,"Opera"),us=qn(dr,"Trident")||qn(dr,"MSIE"),ha=qn(dr,"Edge"),fa=ha||us,tu=qn(dr,"Gecko")&&!(qn(dr.toLowerCase(),"webkit")&&!qn(dr,"Edge"))&&!(qn(dr,"Trident")||qn(dr,"MSIE"))&&!qn(dr,"Edge"),rc=qn(dr.toLowerCase(),"webkit")&&!qn(dr,"Edge");function pa(){var n=gt.document;return n?n.documentMode:void 0}e:{var ga="",cl=(n=dr,tu?/rv:([^\);]+)(\)|;)/.exec(n):ha?/Edge\/([\d\.]+)/.exec(n):us?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):rc?/WebKit\/(\S+)/.exec(n):Ld?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(cl&&(ga=cl?cl[1]:""),us){var nu=pa();if(null!=nu&&nu>parseFloat(ga)){ic=String(nu);break e}}ic=ga}var ho={};var Ef=gt.document&&us&&(pa()||parseInt(ic,10))||void 0,cs=function(){if(!gt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{gt.addEventListener("test",ol,e),gt.removeEventListener("test",ol,e)}catch{}return n}();function rr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function vr(n,e){if(rr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(tu){e:{try{co(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:dl[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vr.Z.h.call(this)}}rr.prototype.h=function(){this.defaultPrevented=!0},En(vr,rr);var dl={2:"touch",3:"pen",4:"mouse"};vr.prototype.h=function(){vr.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ma="closure_listenable_"+(1e6*Math.random()|0),Tn=0;function sc(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++Tn,this.ca=this.fa=!1}function hl(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function fl(n){this.src=n,this.g={},this.h=0}function I(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=Ju(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(hl(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function x(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}fl.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var c=x(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new sc(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var R="closure_lm_"+(1e6*Math.random()|0),L={};function J(n,e,t,r,i){if(r&&r.once)return je(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)J(n,e[l],t,r,i);return null}return t=fo(t),n&&n[ma]?n.N(e,t,Ht(r)?!!r.capture:!!r,i):se(n,e,t,!1,r,i)}function se(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var c=Ht(i)?!!i.capture:!!i,p=Ln(n);if(p||(n[R]=p=new fl(n)),(t=p.add(e,t,r,c,l)).proxy)return t;if(r=function Se(){var e=ht;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)cs||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(St(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function je(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)je(n,e[l],t,r,i);return null}return t=fo(t),n&&n[ma]?n.O(e,t,Ht(r)?!!r.capture:!!r,i):se(n,e,t,!0,r,i)}function mt(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)mt(n,e[l],t,r,i);else r=Ht(r)?!!r.capture:!!r,t=fo(t),n&&n[ma]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=x(l=n.g[e],t,r,i))&&(hl(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Ln(n))&&(e=n.g[e.toString()],n=-1,e&&(n=x(e,t,r,i)),(t=-1<n?e[n]:null)&&xt(t))}function xt(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[ma])I(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(St(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ln(e))?(I(t,n),0==t.h&&(t.src=null,e[R]=null)):hl(n)}}}function St(n){return n in L?L[n]:L[n]="on"+n}function ht(n,e){if(n.ca)n=!0;else{e=new vr(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&xt(n),n=t.call(r,e)}return n}function Ln(n){return(n=n[R])instanceof fl?n:null}var Ur="__closure_events_fn_"+(1e9*Math.random()>>>0);function fo(n){return"function"==typeof n?n:(n[Ur]||(n[Ur]=function(e){return n.handleEvent(e)}),n[Ur])}function sn(){ca.call(this),this.i=new fl(this),this.P=this,this.I=null}function ln(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new rr(e,n);else if(e instanceof rr)e.target=e.target||n;else{var i=e;Wn(e=new rr(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var c=e.g=t[l];i=ru(c,r,!0,e)&&i}if(i=ru(c=e.g=n,r,!0,e)&&i,i=ru(c,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=ru(c=e.g=t[l],r,!1,e)&&i}function ru(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var c=e[l];if(c&&!c.ca&&c.capture==t){var p=c.listener,v=c.ia||c.src;c.fa&&I(n.i,c),i=!1!==p.call(v,r)&&i}}return i&&!r.defaultPrevented}En(sn,ca),sn.prototype[ma]=!0,sn.prototype.removeEventListener=function(n,e,t,r){mt(this,n,e,t,r)},sn.prototype.M=function(){if(sn.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)hl(t[r]);delete n.g[e],n.h--}}this.I=null},sn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},sn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var pl=gt.JSON.stringify;function Ls(){var n=su;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var iu,ya=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Vd,n=>n.reset());class Vd{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Df(n){gt.setTimeout(()=>{throw n},0)}function If(n,e){iu||function xf(){var n=gt.Promise.resolve(void 0);iu=function(){n.then(Gb)}}(),Cf||(iu(),Cf=!0),su.add(n,e)}var Cf=!1,su=new class po{constructor(){this.h=this.g=null}add(e,t){const r=ya.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Gb(){for(var n;n=Ls();){try{n.h.call(n.g)}catch(t){Df(t)}var e=ya;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Cf=!1}function oc(n,e){sn.call(this),this.h=n||1,this.g=e||gt,this.j=Mr(this.kb,this),this.l=Date.now()}function ng(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function ac(n,e,t){if("function"==typeof n)t&&(n=Mr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Mr(n.handleEvent,n)}return 2147483647<Number(e)?-1:gt.setTimeout(n,e||0)}function rg(n){n.g=ac(()=>{n.g=null,n.i&&(n.i=!1,rg(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}En(oc,sn),(Je=oc.prototype).da=!1,Je.S=null,Je.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ln(this,"tick"),this.da&&(ng(this),this.start()))}},Je.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Je.M=function(){oc.Z.M.call(this),ng(this),delete this.g};class ig extends ca{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rg(this)}M(){super.M(),this.g&&(gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _a(n){ca.call(this),this.h=n,this.g={}}En(_a,ca);var Ud=[];function go(n,e,t,r){Array.isArray(t)||(t&&(Ud[0]=t.toString()),t=Ud);for(var i=0;i<t.length;i++){var l=J(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function sg(n){wf(n.g,function(e,t){this.g.hasOwnProperty(t)&&xt(e)},n),n.g={}}function jd(){this.g=!0}function va(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function og(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var c=1;c<i.length;c++)i[c]=""}}}return pl(t)}catch{return e}}(n,t)+(r?" "+r:"")})}_a.prototype.M=function(){_a.Z.M.call(this),sg(this)},_a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jd.prototype.Aa=function(){this.g=!1},jd.prototype.info=function(){};var ba={},wa=null;function Gd(){return wa=wa||new sn}function $d(n){rr.call(this,ba.Ma,n)}function lc(n){const e=Gd();ln(e,new $d(e,n))}function zd(n,e){rr.call(this,ba.STAT_EVENT,n),this.stat=e}function ei(n){const e=Gd();ln(e,new zd(e,n))}function ds(n,e){rr.call(this,ba.Na,n),this.size=e}function Bs(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return gt.setTimeout(function(){n()},e)}ba.Ma="serverreachability",En($d,rr),ba.STAT_EVENT="statevent",En(zd,rr),ba.Na="timingevent",En(ds,rr);var ou={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ag={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qd(){}function lg(){}qd.prototype.h=null;var mo,uc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Wd(){rr.call(this,"d")}function ug(){rr.call(this,"c")}function Kd(){}function cc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new _a(this),this.P=My,this.W=new oc(n=fa?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Tf}function Tf(){this.i=null,this.g="",this.h=!1}En(Wd,rr),En(ug,rr),En(Kd,qd),Kd.prototype.g=function(){return new XMLHttpRequest},Kd.prototype.i=function(){return{}},mo=new Kd;var My=45e3,yo={},dc={};function Bi(n,e,t){n.K=1,n.v=Qd(Vi(e)),n.s=t,n.U=!0,Ea(n,null)}function Ea(n,e){n.F=Date.now(),Yd(n),n.A=Vi(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),pg(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Tf,n.g=vg(n.l,t?e:null,!n.s),0<n.O&&(n.L=new ig(Mr(n.Ia,n,n.g),n.O)),go(n.V,n.g,"readystatechange",n.gb),e=n.H?nc(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),lc(1),function $b(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var c="",p=l.split("&"),v=0;v<p.length;v++){var E=p[v].split("=");if(1<E.length){var S=E[0];E=E[1];var M=S.split("_");c=2<=M.length&&"type"==M[1]?c+(S+"=")+E+"&":c+(S+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Mf(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Rf(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Zd(n,t),i==dc){4==e&&(n.o=4,ei(14),r=!1),va(n.j,n.m,null,"[Incomplete Response]");break}if(i==yo){n.o=4,ei(15),va(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}va(n.j,n.m,i,null),au(n,i)}Mf(n)&&i!=dc&&i!=yo&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ei(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),vl(e),e.L=!0,ei(11))):(va(n.j,n.m,t,"[Invalid Chunked Response]"),_o(n),gl(n))}function Zd(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?dc:(t=Number(e.substring(t,r)),isNaN(t)?yo:(r+=1)+t>e.length?dc:(e=e.substr(r,t),n.C=r+t,e))}function Yd(n){n.Y=Date.now()+n.P,Ry(n,n.P)}function Ry(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Bs(Mr(n.eb,n),e)}function kf(n){n.B&&(gt.clearTimeout(n.B),n.B=null)}function gl(n){0==n.l.G||n.I||Gf(n.l,n)}function _o(n){kf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ng(n.W),sg(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function au(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||yc(t.i,n)))if(t.I=n.N,!n.J&&yc(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Hf(t),Yn(t)}jf(t),ei(18)}}else t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Bs(Mr(t.ab,t),6e3));if(1>=Pf(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else eh(t,11)}else if((n.J||t.g==n)&&Hf(t),!Vr(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let E=i[e];if(t.U=E[0],E=E[1],2==t.G)if("c"==E[0]){t.J=E[1],t.la=E[2];const S=E[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const M=E[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const V=E[5];null!=V&&"number"==typeof V&&0<V&&(t.K=r=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const K=n.g;if(K){const Q=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q){var l=r.i;!l.g&&(qn(Q,"spdy")||qn(Q,"quic")||qn(Q,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(bo(l,l.h),l.h=null))}if(r.D){const ae=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;ae&&(r.sa=ae,Mn(r.F,r.D,ae))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=jy(r,r.H?r.la:null,r.W),c.J){wo(r.i,c);var p=c,v=r.K;v&&p.setTimeout(v),p.B&&(kf(p),Yd(p)),r.g=c}else yg(r);0<t.l.length&&pu(t)}else"stop"!=E[0]&&"close"!=E[0]||eh(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?eh(t,7):ft(t):"noop"!=E[0]&&t.j&&t.j.wa(E),t.A=0)}lc(4)}catch{}}function dg(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Jl(n)||"string"==typeof n)ll(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Jl(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function cg(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Jl(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function ml(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof ml)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function hc(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];vo(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)vo(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function vo(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Je=cc.prototype).setTimeout=function(n){this.P=n},Je.gb=function(n){n=n.target;const e=this.L;e&&3==O(n)?e.l():this.Ia(n)},Je.Ia=function(n){try{if(n==this.g)e:{const S=O(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>S)&&(3!=S||fa||this.g&&(this.h.h||this.g.ga()||W(this.g)))){this.I||4!=S||7==e||lc(8==e||0>=M?3:2),kf(this);var t=this.g.ba();this.N=t;t:if(Mf(this)){var r=W(this.g);n="";var i=r.length,l=4==O(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_o(this),gl(this);var c="";break t}this.h.i=new gt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function Hd(n,e,t,r,i,l,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+c})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vr(p)){var E=p;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,ei(12),_o(this),gl(this);break e}va(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,au(this,t)}this.U?(Rf(this,S,c),fa&&this.i&&3==S&&(go(this.V,this.W,"tick",this.fb),this.W.start())):(va(this.j,this.m,c,null),au(this,c)),4==S&&_o(this),this.i&&!this.I&&(4==S?Gf(this.l,this):(this.i=!1,Yd(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,ei(12)):(this.o=0,ei(13)),_o(this),gl(this)}}}catch{}},Je.fb=function(){if(this.g){var n=O(this.g),e=this.g.ga();this.C<e.length&&(kf(this),Rf(this,n,e),this.i&&4!=n&&Yd(this))}},Je.cancel=function(){this.I=!0,_o(this)},Je.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Af(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(lc(3),ei(17)),_o(this),this.o=2,gl(this)):Ry(this,this.Y-n)},(Je=ml.prototype).R=function(){hc(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Je.T=function(){return hc(this),this.g.concat()},Je.get=function(n,e){return vo(this.h,n)?this.h[n]:e},Je.set=function(n,e){vo(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Je.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var hg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function hs(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof hs){this.g=void 0!==e?e:n.g,fc(this,n.j),this.s=n.s,lu(this,n.i),pc(this,n.m),this.l=n.l,e=n.h;var t=new Da;t.i=e.i,e.g&&(t.g=new ml(e.g),t.h=e.h),Kn(this,t),this.o=n.o}else n&&(t=String(n).match(hg))?(this.g=!!e,fc(this,t[1]||"",!0),this.s=gc(t[2]||""),lu(this,t[3]||"",!0),pc(this,t[4]),this.l=gc(t[5]||"",!0),Kn(this,t[6]||"",!0),this.o=gc(t[7]||"")):(this.g=!!e,this.h=new Da(null,this.g))}function Vi(n){return new hs(n)}function fc(n,e,t){n.j=t?gc(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function lu(n,e,t){n.i=t?gc(e,!0):e}function pc(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Kn(n,e,t){e instanceof Da?(n.h=e,function du(n,e){e&&!n.j&&(Vs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Ff(this,r),pg(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=cu(e,Ny)),n.h=new Da(e,n.g))}function Mn(n,e,t){n.h.set(e,t)}function Qd(n){return Mn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function gc(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function cu(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Oy),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Oy(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}hs.prototype.toString=function(){var n=[],e=this.j;e&&n.push(cu(e,fg,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(cu(e,fg,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(cu(t,"/"==t.charAt(0)?zb:Fy,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",cu(t,yl)),n.join("")};var fg=/[#\/\?@]/g,Fy=/[#\?:]/g,zb=/[#\?]/g,Ny=/[#\?@]/g,yl=/#/g;function Da(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Vs(n){n.g||(n.g=new ml,n.h=0,n.i&&function ky(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ff(n,e){Vs(n),e=br(n,e),vo(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,vo((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&hc(n)))}function mc(n,e){return Vs(n),e=br(n,e),vo(n.g.h,e)}function pg(n,e,t){Ff(n,e),0<t.length&&(n.i=null,n.g.set(br(n,e),Rr(t)),n.h+=t.length)}function br(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Py(n){this.l=n||Nf,n=gt.PerformanceNavigationTiming?0<(n=gt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(gt.g&&gt.g.Ea&&gt.g.Ea()&&gt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Je=Da.prototype).add=function(n,e){Vs(this),this.i=null,n=br(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Je.forEach=function(n,e){Vs(this),this.g.forEach(function(t,r){ll(t,function(i){n.call(e,i,r,this)},this)},this)},Je.T=function(){Vs(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},Je.R=function(n){Vs(this);var e=[];if("string"==typeof n)mc(this,n)&&(e=ec(e,this.g.get(br(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=ec(e,n[t])}return e},Je.set=function(n,e){return Vs(this),this.i=null,mc(this,n=br(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Je.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Je.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var c=i;""!==r[l]&&(c+="="+encodeURIComponent(String(r[l]))),n.push(c)}}return this.i=n.join("&")};var Nf=10;function hu(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Pf(n){return n.h?1:n.g?n.g.size:0}function yc(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function bo(n,e){n.g?n.g.add(e):n.h=e}function wo(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function _c(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Rr(n.i)}function fu(){}function Ly(){this.g=new fu}function Lf(n,e,t){const r=t||"";try{dg(n,function(i,l){let c=i;Ht(i)&&(c=pl(i)),e.push(r+l+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Zn(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ia(n){this.l=n.$b||null,this.j=n.ib||!1}function xa(n,e){sn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Bf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Py.prototype.cancel=function(){if(this.i=_c(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},fu.prototype.stringify=function(n){return gt.JSON.stringify(n,void 0)},fu.prototype.parse=function(n){return gt.JSON.parse(n,void 0)},En(Ia,qd),Ia.prototype.g=function(){return new xa(this.l,this.j)},Ia.prototype.i=function(n){return function(){return n}}({}),En(xa,sn);var Bf=0;function Us(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function js(n){n.readyState=4,n.l=null,n.j=null,n.A=null,fs(n)}function fs(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Je=xa.prototype).open=function(n,e){if(this.readyState!=Bf)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,fs(this)},Je.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||gt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,js(this)),this.readyState=Bf},Je.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,fs(this)),this.g&&(this.readyState=3,fs(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof gt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Us(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Je.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?js(this):fs(this),3==this.readyState&&Us(this)}},Je.Ua=function(n){this.g&&(this.response=this.responseText=n,js(this))},Je.Ta=function(n){this.g&&(this.response=n,js(this))},Je.ha=function(){this.g&&js(this)},Je.setRequestHeader=function(n,e){this.v.append(n,e)},Je.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Je.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var gg=gt.JSON.parse;function hr(n){sn.call(this),this.headers=new ml,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Jd,this.K=this.L=!1}En(hr,sn);var Jd="",By=/^https?$/i,Vf=["POST","PUT"];function mg(n){return"content-type"==n.toLowerCase()}function y(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,f(n),b(n)}function f(n){n.D||(n.D=!0,ln(n,"complete"),ln(n,"error"))}function m(n){if(n.h&&typeof ua<"u"&&(!n.C[1]||4!=O(n)||2!=n.ba()))if(n.v&&4==O(n))ac(n.Fa,0,n);else if(ln(n,"readystatechange"),4==O(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(hg)[1]||null;if(!i&&gt.self&&gt.self.location){var l=gt.self.location.protocol;i=l.substr(0,l.length-1)}r=!By.test(i?i.toLowerCase():"")}t=r}if(t)ln(n,"complete"),ln(n,"success");else{n.m=6;try{var c=2<O(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",f(n)}}finally{b(n)}}}function b(n,e){if(n.g){T(n);const t=n.g,r=n.C[0]?ol:null;n.g=null,n.C=null,e||ln(n,"ready");try{t.onreadystatechange=r}catch{}}}function T(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(gt.clearTimeout(n.A),n.A=null)}function O(n){return n.g?n.g.readyState:0}function W(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Jd:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Ve(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function de(n){let e="";return wf(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Mn(n,e,t))}function et(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function _t(n){this.za=0,this.l=[],this.h=new jd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=et("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=et("baseRetryDelayMs",5e3,n),this.$a=et("retryDelaySeedMs",1e4,n),this.Ya=et("forwardChannelMaxRetries",2,n),this.ra=et("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Py(n&&n.concurrentRequestLimit),this.Ca=new Ly,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ft(n){if(Ui(n),3==n.G){var e=n.V++,t=Vi(n.F);Mn(t,"SID",n.J),Mn(t,"RID",e),Mn(t,"TYPE","terminate"),gu(n,t),(e=new cc(n,n.h,e,void 0)).K=2,e.v=Qd(Vi(t)),t=!1,gt.navigator&&gt.navigator.sendBeacon&&(t=gt.navigator.sendBeacon(e.v.toString(),"")),!t&&gt.Image&&((new Image).src=e.v,t=!0),t||(e.g=vg(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Yd(e)}qb(n)}function Yn(n){n.g&&(vl(n),n.g.cancel(),n.g=null)}function Ui(n){Yn(n),n.u&&(gt.clearTimeout(n.u),n.u=null),Hf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&gt.clearTimeout(n.m),n.m=null)}function _l(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&pu(n)}function pu(n){hu(n.i)||n.m||(n.m=!0,If(n.Ha,n),n.C=0)}function Uf(n,e){var t;t=e?e.m:n.V++;const r=Vi(n.F);Mn(r,"SID",n.J),Mn(r,"RID",t),Mn(r,"AID",n.U),gu(n,r),n.o&&n.s&&Ve(r,n.o,n.s),t=new cc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=mu(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),bo(n.i,t),Bi(t,r,e)}function gu(n,e){n.j&&dg({},function(t,r){Mn(e,r,t)})}function mu(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Mr(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const c=["count="+t];-1==l?0<t?(l=i[0].h,c.push("ofs="+l)):l=0:c.push("ofs="+l);let p=!0;for(let v=0;v<t;v++){let E=i[v].h;const S=i[v].g;if(E-=l,0>E)l=Math.max(0,i[v].h-100),p=!1;else try{Lf(S,c,"req"+E+"_")}catch{r&&r(S)}}if(p){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function yg(n){n.g||n.u||(n.Y=1,If(n.Ga,n),n.A=0)}function jf(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Bs(Mr(n.Ga,n),Uy(n,n.A)),n.A++,0))}function vl(n){null!=n.B&&(gt.clearTimeout(n.B),n.B=null)}function _g(n){n.g=new cc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Vi(n.oa);Mn(e,"RID","rpc"),Mn(e,"SID",n.J),Mn(e,"CI",n.N?"0":"1"),Mn(e,"AID",n.U),gu(n,e),Mn(e,"TYPE","xmlhttp"),n.o&&n.s&&Ve(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Qd(Vi(e)),t.s=null,t.U=!0,Ea(t,n)}function Hf(n){null!=n.v&&(gt.clearTimeout(n.v),n.v=null)}function Gf(n,e){var t=null;if(n.g==e){Hf(n),vl(n),n.g=null;var r=2}else{if(!yc(n.i,e))return;t=e.D,wo(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ln(r=Gd(),new ds(r,t,e,i)),pu(n)}else yg(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function bc(n,e){return!(Pf(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Bs(Mr(n.Ha,n,e),Uy(n,n.C)),n.C++,0)))}(n,e)||2==r&&jf(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:eh(n,5);break;case 4:eh(n,10);break;case 3:eh(n,6);break;default:eh(n,2)}}function Uy(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function eh(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Mr(n.jb,n);t||(t=new hs("//www.google.com/images/cleardot.gif"),gt.location&&"http"==gt.location.protocol||fc(t,"https"),Qd(t)),function vc(n,e){const t=new jd;if(gt.Image){const r=new Image;r.onload=Xu(Zn,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Xu(Zn,t,r,"TestLoadImage: error",!1,e),r.onabort=Xu(Zn,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Xu(Zn,t,r,"TestLoadImage: timeout",!1,e),gt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ei(2);n.G=0,n.j&&n.j.va(e),qb(n),Ui(n)}function qb(n){n.G=0,n.I=-1,n.j&&((0!=_c(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Rr(n.l),n.l.length=0),n.j.ua())}function jy(n,e,t){let r=function Of(n){return n instanceof hs?Vi(n):new hs(n,void 0)}(t);if(""!=r.i)e&&lu(r,e+"."+r.i),pc(r,r.m);else{const i=gt.location;r=function uu(n,e,t,r){var i=new hs(null,void 0);return n&&fc(i,n),e&&lu(i,e),t&&pc(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&wf(n.aa,function(i,l){Mn(r,l,i)}),t=n.sa,(e=n.D)&&t&&Mn(r,e,t),Mn(r,"VER",n.ma),gu(n,r),r}function vg(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new hr(t&&n.Ba&&!n.qa?new Ia({ib:!0}):n.qa)).L=n.H,e}function Hy(){}function $f(){if(us&&!(10<=Number(Ef)))throw Error("Environmental error: no available transport.")}function ji(n,e){sn.call(this),this.g=new _t(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Vr(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vr(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new yu(this)}function bg(n){Wd.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Wb(){ug.call(this),this.status=1}function yu(n){this.g=n}(Je=hr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mo.g(),this.C=function Sf(n){return n.h||(n.h=n.i())}(this.u?this.u:mo),this.g.onreadystatechange=Mr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void y(this,l)}n=t||"";const i=new ml(this.headers);r&&dg(r,function(l,c){i.set(c,l)}),r=function tg(n){e:{var e=mg;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=gt.FormData&&n instanceof gt.FormData,!(0<=Ju(Vf,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,c){this.g.setRequestHeader(c,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{T(this),0<this.B&&((this.K=function Vy(n){return us&&function Ps(){return function da(n){var e=ho;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=tc(String(ic)).split("."),t=tc("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",l=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=lo(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||lo(0==i[2].length,0==l[2].length)||lo(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mr(this.pa,this)):this.A=ac(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){y(this,l)}},Je.pa=function(){typeof ua<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ln(this,"timeout"),this.abort(8))},Je.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ln(this,"complete"),ln(this,"abort"),b(this))},Je.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),b(this,!0)),hr.Z.M.call(this)},Je.Fa=function(){this.s||(this.F||this.v||this.l?m(this):this.cb())},Je.cb=function(){m(this)},Je.ba=function(){try{return 2<O(this)?this.g.status:-1}catch{return-1}},Je.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},Je.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),gg(e)}},Je.Da=function(){return this.m},Je.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Je=_t.prototype).ma=8,Je.G=1,Je.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},Je.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new cc(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=nc(l),Wn(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=mu(this,i,e),Mn(t=Vi(this.F),"RID",n),Mn(t,"CVER",22),this.D&&Mn(t,"X-HTTP-Session-Id",this.D),gu(this,t),this.o&&l&&Ve(t,this.o,l),bo(this.i,i),this.Ra&&Mn(t,"TYPE","init"),this.ja?(Mn(t,"$req",e),Mn(t,"SID","null"),i.$=!0,Bi(i,t,null)):Bi(i,t,e),this.G=2}}else 3==this.G&&(n?Uf(this,n):0==this.l.length||hu(this.i)||Uf(this))},Je.Ga=function(){if(this.u=null,_g(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Bs(Mr(this.bb,this),n)}},Je.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ei(10),Yn(this),_g(this))},Je.ab=function(){null!=this.v&&(this.v=null,Yn(this),jf(this),ei(19))},Je.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ei(2)):(this.h.info("Failed to ping google.com"),ei(1))},(Je=Hy.prototype).xa=function(){},Je.wa=function(){},Je.va=function(){},Je.ua=function(){},Je.Oa=function(){},$f.prototype.g=function(n,e){return new ji(n,e)},En(ji,sn),ji.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),If(Mr(n.hb,n,e))),ei(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=jy(n,null,n.W),pu(n)},ji.prototype.close=function(){ft(this.g)},ji.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,_l(this.g,e)}else this.v?((e={}).__data__=pl(n),_l(this.g,e)):_l(this.g,n)},ji.prototype.M=function(){this.g.j=null,delete this.j,ft(this.g),delete this.g,ji.Z.M.call(this)},En(bg,Wd),En(Wb,ug),En(yu,Hy),yu.prototype.xa=function(){ln(this.g,"a")},yu.prototype.wa=function(n){ln(this.g,new bg(n))},yu.prototype.va=function(n){ln(this.g,new Wb(n))},yu.prototype.ua=function(){ln(this.g,"b")},$f.prototype.createWebChannel=$f.prototype.g,ji.prototype.send=ji.prototype.u,ji.prototype.open=ji.prototype.m,ji.prototype.close=ji.prototype.close,ou.NO_ERROR=0,ou.TIMEOUT=8,ou.HTTP_ERROR=6,ag.COMPLETE="complete",lg.EventType=uc,uc.OPEN="a",uc.CLOSE="b",uc.ERROR="c",uc.MESSAGE="d",sn.prototype.listen=sn.prototype.N,hr.prototype.listenOnce=hr.prototype.O,hr.prototype.getLastError=hr.prototype.La,hr.prototype.getLastErrorCode=hr.prototype.Da,hr.prototype.getStatus=hr.prototype.ba,hr.prototype.getResponseJson=hr.prototype.Qa,hr.prototype.getResponseText=hr.prototype.ga,hr.prototype.send=hr.prototype.ea;var zf=Sn.createWebChannelTransport=function(){return new $f},AD=Sn.getStatEventTarget=function(){return Gd()},Gy=Sn.ErrorCode=ou,SD=Sn.EventType=ag,Kb=Sn.Event=ba,Zb=Sn.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},TD=Sn.FetchXmlHttpFactory=Ia,wg=Sn.WebChannel=lg,MD=Sn.XhrIo=hr;const Eg="@firebase/firestore";class Kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");let th="9.9.2";const _u=new Br.Yd("@firebase/firestore");function Dg(){return _u.logLevel}function Pe(n,...e){if(_u.logLevel<=Br.in.DEBUG){const t=e.map(Ig);_u.debug(`Firestore (${th}): ${n}`,...t)}}function Kt(n,...e){if(_u.logLevel<=Br.in.ERROR){const t=e.map(Ig);_u.error(`Firestore (${th}): ${n}`,...t)}}function bl(n,...e){if(_u.logLevel<=Br.in.WARN){const t=e.map(Ig);_u.warn(`Firestore (${th}): ${n}`,...t)}}function Ig(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function it(n="Unexpected state"){const e=`FIRESTORE (${th}) INTERNAL ASSERTION FAILED: `+n;throw Kt(e),new Error(e)}function at(n,e){n||it()}function Ze(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Mt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Yb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kr.UNAUTHENTICATED))}shutdown(){}}class kD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Xb{constructor(e){this.t=e,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=E=>this.i!==i?(i=this.i,t(E)):Promise.resolve();let c=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new jr,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const E=c;e.enqueueRetryable((0,ve.Z)(function*(){yield E.promise,yield l(r.currentUser)}))},v=E=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(E=>v(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?v(E):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new jr)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at("string"==typeof r.accessToken),new Yb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return at(null===e||"string"==typeof e),new Kr(e)}}class OD{constructor(e,t,r){this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class FD{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new OD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ND{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.p;return this.p=l.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?i(l):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at("string"==typeof t.token),this.p=t.token,new Jb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function PD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class wc{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PD(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Et(n,e){return n<e?-1:n>e?1:0}function nh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function ew(n){return n+"\0"}class ir{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ir.fromMillis(Date.now())}static fromDate(e){return ir.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ir(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Et(this.nanoseconds,e.nanoseconds):Et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new ir(0,0))}static max(){return new Rt(new ir(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rh{constructor(e,t,r){void 0===t?t=0:t>e.length&&it(),void 0===r?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===rh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),c=t.get(i);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jt extends rh{construct(e,t,r){return new Jt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Jt(t)}static emptyPath(){return new Jt([])}}const Ca=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends rh{construct(e,t,r){return new Qn(e,t,r)}static isValidIdentifier(e){return Ca.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Oe(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Oe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Oe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(l(),i++)}if(l(),c)throw new Oe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(t)}static emptyPath(){return new Qn([])}}class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Jt.fromString(e))}static fromName(e){return new ze(Jt.fromString(e).popFirst(5))}static empty(){return new ze(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Jt(e.slice()))}}class xg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Cg(n){return n.fields.find(e=>2===e.kind)}function Ec(n){return n.fields.filter(e=>2!==e.kind)}xg.UNKNOWN_ID=-1;class Ag{constructor(e,t){this.fieldPath=e,this.kind=t}}class Dc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Dc(0,Hs.min())}}function Sg(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Rt.fromTimestamp(1e9===r?new ir(t+1,0):new ir(t,r));return new Hs(i,ze.empty(),e)}function $y(n){return new Hs(n.readTime,n.key,-1)}class Hs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Hs(Rt.min(),ze.empty(),-1)}static max(){return new Hs(Rt.max(),ze.empty(),-1)}}function vu(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ze.comparator(n.documentKey,e.documentKey),0!==t?t:Et(n.largestBatchId,e.largestBatchId))}const Tg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zy{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function bu(n){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,ve.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==Tg)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),Kf.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let i=0,l=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++l,c&&l===i&&t()},v=>r(v))}),c=!0,l===i&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(i=>i?ce.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}static mapArray(e,t){return new ce((r,i)=>{const l=e.length,c=new Array(l);let p=0;for(let v=0;v<l;v++){const E=v;t(e[E]).next(S=>{c[E]=S,++p,p===l&&r(c)},S=>i(S))}})}static doWhile(e,t){return new ce((r,i)=>{const l=()=>{!0===e()?t().next(()=>{l()},i):r()};l()})}}class Mg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new jr,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new Zf(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const i=Yf(r.target.error);this.T.reject(new Zf(e,i))}}static open(e,t,r,i){try{return new Mg(t,e.transaction(i,r))}catch(l){throw new Zf(t,l)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new nw(t)}}class Eo{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===Eo.v((0,Mt.z$)())&&Kt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),wl(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Mt.hl)())return!1;if(Eo.S())return!0;const e=(0,Mt.z$)(),t=Eo.v(e),r=0<t&&t<10,i=Eo.D(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=c=>{r(c.target.result)},l.onblocked=()=>{i(new Zf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=c=>{const p=c.target.error;i("VersionError"===p.name?new Oe(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Oe(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Zf(e,p))},l.onupgradeneeded=c=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.P.M(c.target.result,l.transaction,c.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.O&&(t.db.onversionchange=r=>t.O(r)),t.db})()}F(e){this.O=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,ve.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{l.db=yield l.k(e);const v=Mg.open(l.db,e,c?"readonly":"readwrite",r),E=i(v).next(S=>(v.R(),S)).catch(S=>(v.abort(S),ce.reject(S))).toPromise();return E.catch(()=>{}),yield v.A,E}catch(v){const E=v,S="FirebaseError"!==E.name&&p<3;if(Pe("SimpleDb","Transaction failed with error:",E.message,"Retrying:",S),l.close(),!S)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class LD{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return wl(this.$.delete())}}class Zf extends Oe{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function wu(n){return"IndexedDbTransactionError"===n.name}class nw{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),wl(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),wl(this.store.add(e))}get(e){return wl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),wl(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),wl(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.G(i,(c,p)=>{l.push(p)}).next(()=>l)}{const i=this.store.getAll(r.range);return new ce((l,c)=>{i.onerror=p=>{c(p.target.error)},i.onsuccess=p=>{l(p.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ce((i,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}W(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.G(i,(l,c,p)=>p.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Y(e){const t=this.cursor({});return new ce((r,i)=>{t.onerror=l=>{const c=Yf(l.target.error);i(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():r()}):r()}})}G(e,t){const r=[];return new ce((i,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void i();const v=new LD(p),E=t(p.primaryKey,p.value,v);if(E instanceof ce){const S=E.catch(M=>(v.done(),ce.reject(M)));r.push(S)}v.isDone?i():null===v.U?p.continue():p.continue(v.U)}}).next(()=>ce.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function wl(n){return new ce((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Yf(r.target.error);t(i)}})}let qy=!1;function Yf(n){const e=Eo.v((0,Mt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qy||(qy=!0,setTimeout(()=>{throw r},0)),r}}return n}class BD{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{Pe("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){wu(r)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield bu(r)}yield t.Z(1)}))}}class VD{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let i=t,l=!0;return ce.doWhile(()=>!0===l&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Pe("IndexBackiller",`Processing collection: ${c}`),this.nt(e,c,i).next(p=>{i-=p,r.add(c)});l=!1})).next(()=>t-i)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.st(i,l)).next(p=>(Pe("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>c.size)}))}st(e,t){let r=e;return t.changes.forEach((i,l)=>{const c=$y(l);vu(c,r)>0&&(r=c)}),new Hs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ei{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function Wy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ps(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ky(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Ei.ot=-1;class sr{constructor(e,t){this.comparator=e,this.root=t||di.EMPTY}insert(e,t){return new sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,di.BLACK,null,null))}remove(e){return new sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rg(this.root,e,this.comparator,!0)}}class Rg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class di{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=r??di.RED,this.left=i??di.EMPTY,this.right=l??di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new di(e??this.key,t??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return di.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}di.EMPTY=null,di.RED=!0,di.BLACK=!1,di.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(n,e,t,r,i){return this}insert(n,e,t){return new di(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class un{constructor(e){this.comparator=e,this.data=new sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rw(this.data.getIterator())}getIteratorFrom(e){return new rw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new un(this.comparator);return t.data=e,t}}class rw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ic(n){return n.hasNext()?n.getNext():void 0}class Hi{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new Hi([])}unionWith(e){let t=new un(Qn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Hi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class wr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new wr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new wr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wr.EMPTY_BYTE_STRING=new wr("");const sw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(n){if(at(!!n),"string"==typeof n){let e=0;const t=sw.exec(n);if(at(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bn(n.seconds),nanos:Bn(n.nanos)}}function Bn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Eu(n){return"string"==typeof n?wr.fromBase64String(n):wr.fromUint8Array(n)}function Qf(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Zy(n){const e=n.mapValue.fields.__previous_value__;return Qf(e)?Zy(e):e}function xc(n){const e=Do(n.mapValue.fields.__local_write_time__.timestampValue);return new ir(e.seconds,e.nanos)}class Xf{constructor(e,t,r,i,l,c,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=v}}class El{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new El("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof El&&e.projectId===this.projectId&&e.database===this.database}}function ih(n){return null==n}function Jf(n){return 0===n&&1/n==-1/0}function ow(n){return"number"==typeof n&&Number.isInteger(n)&&!Jf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Dl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},sh={nullValue:"NULL_VALUE"};function Du(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qf(n)?4:Jy(n)?9007199254740991:10:it()}function Il(n,e){if(n===e)return!0;const t=Du(n);if(t!==Du(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xc(n).isEqual(xc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Do(r.timestampValue),c=Do(i.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Eu(n.bytesValue).isEqual(Eu(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Bn(r.geoPointValue.latitude)===Bn(i.geoPointValue.latitude)&&Bn(r.geoPointValue.longitude)===Bn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Bn(r.integerValue)===Bn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=Bn(r.doubleValue),c=Bn(i.doubleValue);return l===c?Jf(l)===Jf(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return nh(n.arrayValue.values||[],e.arrayValue.values||[],Il);case 10:return function(r,i){const l=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Wy(l)!==Wy(c))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===c[p]||!Il(l[p],c[p])))return!1;return!0}(n,e);default:return it()}var i}function oh(n,e){return void 0!==(n.values||[]).find(t=>Il(t,e))}function Iu(n,e){if(n===e)return 0;const t=Du(n),r=Du(e);if(t!==r)return Et(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Et(n.booleanValue,e.booleanValue);case 2:return function(i,l){const c=Bn(i.integerValue||i.doubleValue),p=Bn(l.integerValue||l.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return Yy(n.timestampValue,e.timestampValue);case 4:return Yy(xc(n),xc(e));case 5:return Et(n.stringValue,e.stringValue);case 6:return function(i,l){const c=Eu(i),p=Eu(l);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const c=i.split("/"),p=l.split("/");for(let v=0;v<c.length&&v<p.length;v++){const E=Et(c[v],p[v]);if(0!==E)return E}return Et(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const c=Et(Bn(i.latitude),Bn(l.latitude));return 0!==c?c:Et(Bn(i.longitude),Bn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const c=i.values||[],p=l.values||[];for(let v=0;v<c.length&&v<p.length;++v){const E=Iu(c[v],p[v]);if(E)return E}return Et(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===Dl.mapValue&&l===Dl.mapValue)return 0;if(i===Dl.mapValue)return 1;if(l===Dl.mapValue)return-1;const c=i.fields||{},p=Object.keys(c),v=l.fields||{},E=Object.keys(v);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const M=Et(p[S],E[S]);if(0!==M)return M;const V=Iu(c[p[S]],v[E[S]]);if(0!==V)return V}return Et(p.length,E.length)}(n.mapValue,e.mapValue);default:throw it()}}function Yy(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Et(n,e);const t=Do(n),r=Do(e),i=Et(t.seconds,r.seconds);return 0!==i?i:Et(t.nanos,r.nanos)}function ah(n){return Qy(n)}function Qy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Do(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Eu(n.bytesValue).toBase64():"referenceValue"in n?ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const c of r.values||[])l?l=!1:i+=",",i+=Qy(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const p of i)c?c=!1:l+=",",l+=`${p}:${Qy(r.fields[p])}`;return l+"}"}(n.mapValue):it();var e}function ti(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Xy(n){return!!n&&"integerValue"in n}function lh(n){return!!n&&"arrayValue"in n}function aw(n){return!!n&&"nullValue"in n}function lw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kg(n){return!!n&&"mapValue"in n}function ep(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ps(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ep(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ep(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Jy(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function UD(n){return"nullValue"in n?sh:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ti(El.empty(),ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:it()}function jD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ti(El.empty(),ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Dl:it()}function uw(n,e){const t=Iu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Nt(n,e){const t=Iu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Zr{constructor(e){this.value=e}static empty(){return new Zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ep(t)}setAll(e){let t=Qn.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=ep(c):i.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());kg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Il(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];kg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ps(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new Zr(ep(this.value))}}function e_(n){const e=[];return ps(n.fields,(t,r)=>{const i=new Qn([t]);if(kg(r)){const l=e_(r.mapValue).fields;if(0===l.length)e.push(i);else for(const c of l)e.push(i.child(c))}else e.push(i)}),new Hi(e)}class Dn{constructor(e,t,r,i,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Dn(e,0,Rt.min(),Rt.min(),Zr.empty(),0)}static newFoundDocument(e,t,r){return new Dn(e,1,t,Rt.min(),r,0)}static newNoDocument(e,t){return new Dn(e,2,t,Rt.min(),Zr.empty(),0)}static newUnknownDocument(e,t){return new Dn(e,3,t,Rt.min(),Zr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class HD{constructor(e,t=null,r=[],i=[],l=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=c,this.endAt=p,this.ut=null}}function cw(n,e=null,t=[],r=[],i=null,l=null,c=null){return new HD(n,e,t,r,i,l,c)}function xu(n){const e=Ze(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+ah(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ih(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ah(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ah(r)).join(",")),e.ut=t}return e.ut}function uh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!EA(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Il(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Sc(n.startAt,e.startAt)&&Sc(n.endAt,e.endAt)}function Og(n){return ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Fg(n,e){return n.filters.filter(t=>t instanceof Yr&&t.field.isEqual(e))}function $D(n,e,t){let r=sh,i=!0;for(const l of Fg(n,e)){let c=sh,p=!0;switch(l.op){case"<":case"<=":c=UD(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,p=!1;break;case"!=":case"not-in":c=sh}uw({value:r,inclusive:i},{value:c,inclusive:p})<0&&(r=c,i=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];uw({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function t_(n,e,t){let r=Dl,i=!0;for(const l of Fg(n,e)){let c=Dl,p=!0;switch(l.op){case">=":case">":c=jD(l.value),p=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,p=!1;break;case"!=":case"not-in":c=Dl}Nt({value:r,inclusive:i},{value:c,inclusive:p})>0&&(r=c,i=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];Nt({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Yr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new Cc(e,t,r):"array-contains"===t?new qD(e,r):"in"===t?new vA(e,r):"not-in"===t?new bA(e,r):"array-contains-any"===t?new wA(e,r):new Yr(e,t,r)}static ct(e,t,r){return"in"===t?new zD(e,r):new n_(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Iu(t,this.value)):null!==t&&Du(this.value)===Du(t)&&this.at(Iu(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Cc extends Yr{constructor(e,t,r){super(e,t,r),this.key=ze.fromName(r.referenceValue)}matches(e){const t=ze.comparator(e.key,this.key);return this.at(t)}}class zD extends Yr{constructor(e,t){super(e,"in",t),this.keys=Ng(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class n_ extends Yr{constructor(e,t){super(e,"not-in",t),this.keys=Ng(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ng(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ze.fromName(r.referenceValue))}class qD extends Yr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lh(t)&&oh(t.arrayValue,this.value)}}class vA extends Yr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&oh(this.value.arrayValue,t)}}class bA extends Yr{constructor(e,t){super(e,"not-in",t)}matches(e){if(oh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!oh(this.value.arrayValue,t)}}class wA extends Yr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>oh(this.value.arrayValue,r))}}class Cu{constructor(e,t){this.position=e,this.inclusive=t}}class Ac{constructor(e,t="asc"){this.field=e,this.dir=t}}function EA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function dw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],c=n.position[i];if(r=l.field.isKeyField()?ze.comparator(ze.fromName(c.referenceValue),t.key):Iu(c,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Sc(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Il(n.position[t],e.position[t]))return!1;return!0}class xl{constructor(e,t=null,r=[],i=[],l=null,c="F",p=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=c,this.startAt=p,this.endAt=v,this.lt=null,this.ft=null}}function r_(n,e,t,r,i,l,c,p){return new xl(n,e,t,r,i,l,c,p)}function Cl(n){return new xl(n)}function hw(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Pg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function i_(n){for(const e of n.filters)if(e.ht())return e.field;return null}function s_(n){return null!==n.collectionGroup}function ch(n){const e=Ze(n);if(null===e.lt){e.lt=[];const t=i_(e),r=Pg(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new Ac(t)),e.lt.push(new Ac(Qn.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.lt.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Ac(Qn.keyField(),l))}}}return e.lt}function Gi(n){const e=Ze(n);if(!e.ft)if("F"===e.limitType)e.ft=cw(e.path,e.collectionGroup,ch(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of ch(e))t.push(new Ac(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Cu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Cu(e.startAt.position,e.startAt.inclusive):null;e.ft=cw(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.ft}function Lg(n,e,t){return new xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dh(n,e){return uh(Gi(n),Gi(e))&&n.limitType===e.limitType}function fw(n){return`${xu(Gi(n))}|lt:${n.limitType}`}function Bg(n){return`Query(target=${function GD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${ah(r.value)}`;var r}).join(", ")}]`),ih(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ah(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ah(t)).join(",")),`Target(${e})`}(Gi(n))}; limitType=${n.limitType})`}function Vg(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ze.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,c){const p=dw(i,l,c);return i.inclusive?p<=0:p<0}(t.startAt,ch(t),r)||t.endAt&&!function(i,l,c){const p=dw(i,l,c);return i.inclusive?p>=0:p>0}(t.endAt,ch(t),r)));var t,r}function Ug(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WD(n){return(e,t)=>{let r=!1;for(const i of ch(n)){const l=o_(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function o_(n,e,t){const r=n.field.isKeyField()?ze.comparator(e.key,t.key):function(i,l,c){const p=l.data.field(i),v=c.data.field(i);return null!==p&&null!==v?Iu(p,v):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}function pw(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jf(e)?"-0":e}}function KD(n){return{integerValue:""+n}}function Tc(n,e){return ow(e)?KD(e):pw(n,e)}class jg{constructor(){this._=void 0}}function gw(n,e,t){return n instanceof Mc?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Rc?Gg(n,e):n instanceof Di?$g(n,e):function(r,i){const l=Gs(r,i),c=zg(l)+zg(r._t);return Xy(l)&&Xy(r._t)?KD(c):pw(r.wt,c)}(n,e)}function Hg(n,e,t){return n instanceof Rc?Gg(n,e):n instanceof Di?$g(n,e):t}function Gs(n,e){return n instanceof kc?Xy(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Mc extends jg{}class Rc extends jg{constructor(e){super(),this.elements=e}}function Gg(n,e){const t=ZD(e);for(const r of n.elements)t.some(i=>Il(i,r))||t.push(r);return{arrayValue:{values:t}}}class Di extends jg{constructor(e){super(),this.elements=e}}function $g(n,e){let t=ZD(e);for(const r of n.elements)t=t.filter(i=>!Il(i,r));return{arrayValue:{values:t}}}class kc extends jg{constructor(e,t){super(),this.wt=e,this._t=t}}function zg(n){return Bn(n.integerValue||n.doubleValue)}function ZD(n){return lh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class hh{constructor(e,t){this.field=e,this.transform=t}}class qg{constructor(e,t){this.version=e,this.transformResults=t}}class Rn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ph{}function Wg(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Oc(n.key,Rn.none()):new gh(n.key,n.data,Rn.none());{const t=n.data,r=Zr.empty();let i=new un(Qn.comparator);for(let l of e.fields)if(!i.has(l)){let c=t.field(l);null===c&&l.length>1&&(l=l.popLast(),c=t.field(l)),null===c?r.delete(l):r.set(l,c),i=i.add(l)}return new Aa(n.key,r,new Hi(i.toArray()),Rn.none())}}function IA(n,e,t){n instanceof gh?function(r,i,l){const c=r.value.clone(),p=yw(r.fieldTransforms,i,l.transformResults);c.setAll(p),i.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Aa?function(r,i,l){if(!fh(r.precondition,i))return void i.convertToUnknownDocument(l.version);const c=yw(r.fieldTransforms,i,l.transformResults),p=i.data;p.setAll(QD(r)),p.setAll(c),i.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function tp(n,e,t,r){return n instanceof gh?function(i,l,c,p){if(!fh(i.precondition,l))return c;const v=i.value.clone(),E=XD(i.fieldTransforms,p,l);return v.setAll(E),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof Aa?function(i,l,c,p){if(!fh(i.precondition,l))return c;const v=XD(i.fieldTransforms,p,l),E=l.data;return E.setAll(QD(i)),E.setAll(v),l.convertToFoundDocument(l.version,E).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(S=>S.field))}(n,e,t,r):(c=t,fh(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c);var l,c}function YD(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=Gs(r.transform,i||null);null!=l&&(null===t&&(t=Zr.empty()),t.set(r.field,l))}return t||null}function mw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&nh(t,r,(i,l)=>function DA(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Rc&&r instanceof Rc||t instanceof Di&&r instanceof Di?nh(t.elements,r.elements,Il):t instanceof kc&&r instanceof kc?Il(t._t,r._t):t instanceof Mc&&r instanceof Mc);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class gh extends ph{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Aa extends ph{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function QD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function yw(n,e,t){const r=new Map;at(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],c=l.transform,p=e.data.field(l.field);r.set(l.field,Hg(c,p,t[i]))}return r}function XD(n,e,t){const r=new Map;for(const i of n){const l=i.transform,c=t.data.field(i.field);r.set(i.field,gw(l,c,e))}return r}class Oc extends ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kg extends ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JD{constructor(e){this.count=e}}var fr,en;function eI(n){switch(n){default:return it();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function tI(n){if(void 0===n)return Kt("GRPC error has no .code"),fe.UNKNOWN;switch(n){case fr.OK:return fe.OK;case fr.CANCELLED:return fe.CANCELLED;case fr.UNKNOWN:return fe.UNKNOWN;case fr.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case fr.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case fr.INTERNAL:return fe.INTERNAL;case fr.UNAVAILABLE:return fe.UNAVAILABLE;case fr.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case fr.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case fr.NOT_FOUND:return fe.NOT_FOUND;case fr.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case fr.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case fr.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case fr.ABORTED:return fe.ABORTED;case fr.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case fr.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case fr.DATA_LOSS:return fe.DATA_LOSS;default:return it()}}(en=fr||(fr={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";class Fc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return Ky(this.inner)}size(){return this.innerSize}}const xA=new sr(ze.comparator);function gs(){return xA}const nI=new sr(ze.comparator);function Zg(...n){let e=nI;for(const t of n)e=e.insert(t.key,t);return e}function rI(n){let e=nI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Al(){return Nc()}function Sl(){return Nc()}function Nc(){return new Fc(n=>n.toString(),(n,e)=>n.isEqual(e))}const iI=new sr(ze.comparator),_w=new un(ze.comparator);function Pt(...n){let e=_w;for(const t of n)e=e.add(t);return e}const vw=new un(Et);function mh(){return vw}class np{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,$s.createSynthesizedTargetChangeForCurrentChange(e,t)),new np(Rt.min(),r,mh(),gs(),Pt())}}class $s{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new $s(wr.EMPTY_BYTE_STRING,t,Pt(),Pt(),Pt())}}class rp{constructor(e,t,r,i){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=i}}class bw{constructor(e,t){this.targetId=e,this.It=t}}class Yg{constructor(e,t,r=wr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class ww{constructor(){this.Tt=0,this.Et=Iw(),this.At=wr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Pt(),t=Pt(),r=Pt();return this.Et.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:it()}}),new $s(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=Iw()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class Ew{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=gs(),this.Bt=Dw(),this.Lt=new un(Et)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:it()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,i)=>{this.jt(i)&&t(i)})}zt(e){const t=e.targetId,r=e.It.count,i=this.Ht(t);if(i){const l=i.target;if(Og(l))if(0===r){const c=new ze(l.path);this.Kt(t,c,Dn.newNoDocument(c,Rt.min()))}else at(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((l,c)=>{const p=this.Ht(c);if(p){if(l.current&&Og(p.target)){const v=new ze(p.target.path);null!==this.$t.get(v)||this.Xt(c,v)||this.Kt(c,v,Dn.newNoDocument(v,e))}l.vt&&(t.set(c,l.St()),l.Dt())}});let r=Pt();this.Bt.forEach((l,c)=>{let p=!0;c.forEachWhile(v=>{const E=this.Ht(v);return!E||2===E.purpose||(p=!1,!1)}),p&&(r=r.add(l))}),this.$t.forEach((l,c)=>c.setReadTime(e));const i=new np(e,t,this.Lt,this.$t,r);return this.$t=gs(),this.Bt=Dw(),this.Lt=new un(Et),i}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,t)?i.Ct(t,1):i.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new ww,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new un(Et),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new ww),this.Ot.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}function Dw(){return new sr(ze.comparator)}function Iw(){return new sr(ze.comparator)}const Qg={asc:"ASCENDING",desc:"DESCENDING"},yh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class a_{constructor(e,t){this.databaseId=e,this.dt=t}}function Sa(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ip(n,e){return n.dt?e.toBase64():e.toUint8Array()}function sp(n,e){return Sa(n,e.toTimestamp())}function Qr(n){return at(!!n),Rt.fromTimestamp(function(e){const t=Do(e);return new ir(t.seconds,t.nanos)}(n))}function Xg(n,e){return(t=n,new Jt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function l_(n){const e=Jt.fromString(n);return at(Rw(e)),e}function Pc(n,e){return Xg(n.databaseId,e.path)}function zs(n,e){const t=l_(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ze(sI(t))}function Jg(n,e){return Xg(n.databaseId,e)}function em(n){const e=l_(n);return 4===e.length?Jt.emptyPath():sI(e)}function op(n){return new Jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function sI(n){return at(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function xw(n,e,t){return{name:Pc(n,e),fields:t.value.mapValue.fields}}function u_(n,e,t){const r=zs(n,e.name),i=Qr(e.updateTime),l=new Zr({mapValue:{fields:e.fields}}),c=Dn.newFoundDocument(r,i,l);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function _h(n,e){let t;if(e instanceof gh)t={update:xw(n,e.key,e.value)};else if(e instanceof Oc)t={delete:Pc(n,e.key)};else if(e instanceof Aa)t={update:xw(n,e.key,e.data),updateMask:Mw(e.fieldMask)};else{if(!(e instanceof Kg))return it();t={verify:Pc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const c=l.transform;if(c instanceof Mc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Rc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Di)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof kc)return{fieldPath:l.field.canonicalString(),increment:c._t};throw it()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:sp(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:it()),t;var i}function c_(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Rn.updateTime(Qr(i.updateTime)):void 0!==i.exists?Rn.exists(i.exists):Rn.none():Rn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,c){let p=null;"setToServerValue"in c?(at("REQUEST_TIME"===c.setToServerValue),p=new Mc):"appendMissingElements"in c?p=new Rc(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new Di(c.removeAllFromArray.values||[]):"increment"in c?p=new kc(l,c.increment):it();const v=Qn.fromServerFormat(c.fieldPath);return new hh(v,p)}(n,i)):[];var i;if(e.update){const i=zs(n,e.update.name),l=new Zr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Hi((e.updateMask.fieldPaths||[]).map(E=>Qn.fromServerFormat(E)));return new Aa(i,l,c,t,r)}return new gh(i,l,t,r)}if(e.delete){const i=zs(n,e.delete);return new Oc(i,t)}if(e.verify){const i=zs(n,e.verify);return new Kg(i,t)}return it()}function d_(n,e){return{documents:[Jg(n,e.path)]}}function Aw(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Jg(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Jg(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(v){if(0===v.length)return;const E=v.map(S=>function(M){if("=="===M.op){if(lw(M.value))return{unaryFilter:{field:vh(M.field),op:"IS_NAN"}};if(aw(M.value))return{unaryFilter:{field:vh(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(lw(M.value))return{unaryFilter:{field:vh(M.field),op:"IS_NOT_NAN"}};if(aw(M.value))return{unaryFilter:{field:vh(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vh(M.field),op:uI(M.op),value:M.value}}}(S));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(v){if(0!==v.length)return v.map(E=>{return{field:vh((S=E).field),direction:Sw(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=(E=e.limit,n.dt||ih(E)?E:{value:E});var E,p,v;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function aI(n){let e=em(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){at(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let l=[];t.where&&(l=tm(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(S=>{return new Ac(bh((M=S).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(S){let M;return M="object"==typeof S?S.value:S,ih(M)?null:M}(t.limit));let v=null;var S;t.startAt&&(v=new Cu((S=t.startAt).values||[],!!S.before));let E=null;return t.endAt&&(E=function(S){return new Cu(S.values||[],!S.before)}(t.endAt)),r_(e,i,c,l,p,"F",v,E)}function tm(n){return n?void 0!==n.unaryFilter?[cI(n)]:void 0!==n.fieldFilter?[Tw(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>tm(e)).reduce((e,t)=>e.concat(t)):it():[]}function Sw(n){return Qg[n]}function uI(n){return yh[n]}function vh(n){return{fieldPath:n.canonicalString()}}function bh(n){return Qn.fromServerFormat(n.fieldPath)}function Tw(n){return Yr.create(bh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(n.fieldFilter.op),n.fieldFilter.value)}function cI(n){switch(n.unaryFilter.op){case"IS_NAN":const e=bh(n.unaryFilter.field);return Yr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=bh(n.unaryFilter.field);return Yr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=bh(n.unaryFilter.field);return Yr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=bh(n.unaryFilter.field);return Yr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return it()}}function Mw(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Rw(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ii(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=h_(e)),e=kw(n.get(t),e);return h_(e)}function kw(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function h_(n){return n+"\x01\x01"}function Ta(n){const e=n.length;if(at(e>=2),2===e)return at("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Jt.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const c=n.indexOf("\x01",l);switch((c<0||c>t)&&it(),n.charAt(c+1)){case"\x01":const p=n.substring(l,c);let v;0===i.length?v=p:(i+=p,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(l,c),i+="\0";break;case"\x11":i+=n.substring(l,c+1);break;default:it()}l=c+2}return new Jt(r)}const Io=["userId","batchId"];function wh(n,e){return[n,Ii(e)]}function Ow(n,e,t){return[n,Ii(e),t]}const dI={},CA=["prefixPath","collectionGroup","readTime","documentId"],Fw=["prefixPath","collectionGroup","documentId"],hI=["collectionGroup","readTime","prefixPath","documentId"],fI=["canonicalId","targetId"],pI=["targetId","path"],f_=["path","targetId"],gI=["collectionId","parent"],mI=["indexId","uid"],nm=["uid","sequenceNumber"],p_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yI=["indexId","uid","orderedDocumentKey"],Nw=["userId","collectionPath","documentId"],g_=["userId","collectionPath","largestBatchId"],Pw=["userId","collectionGroup","largestBatchId"],_I=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],AA=[..._I,"documentOverlays"],rm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vI=rm,bI=[...vI,"indexConfiguration","indexState","indexEntries"];class im extends zy{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Hr(n,e){const t=Ze(n);return Eo.N(t.ee,e)}class sm{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&IA(l,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=tp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=tp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Sl();return this.mutations.forEach(i=>{const l=e.get(i.key),c=l.overlayedDocument;let p=this.applyToLocalView(c,l.mutatedFields);p=t.has(i.key)?null:p;const v=Wg(c,p);null!==v&&r.set(i.key,v),c.isValidDocument()||c.convertToNoDocument(Rt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pt())}isEqual(e){return this.batchId===e.batchId&&nh(this.mutations,e.mutations,(t,r)=>mw(t,r))&&nh(this.baseMutations,e.baseMutations,(t,r)=>mw(t,r))}}class om{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){at(e.mutations.length===r.length);let i=iI;const l=e.mutations;for(let c=0;c<l.length;c++)i=i.insert(l[c].key,r[c].version);return new om(e,t,r,i)}}class ap{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hi{constructor(e,t,r,i,l=Rt.min(),c=Rt.min(),p=wr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class lp{constructor(e){this.ne=e}}function Eh(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:lm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Pc(i=n.ne,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Sa(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Tl(e.version)};else{if(!e.isUnknownDocument())return it();r.unknownDocument={path:t.path.toArray(),version:Tl(e.version)}}var i,l;return r}function lm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Tl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Au(n){const e=new ir(n.seconds,n.nanoseconds);return Rt.fromTimestamp(e)}function Lc(n,e){const t=(e.baseMutations||[]).map(l=>c_(n.ne,l));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(c.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>c_(n.ne,l)),i=ir.fromMillis(e.localWriteTimeMs);return new sm(e.batchId,i,t,r)}function up(n){const e=Au(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Au(n.lastLimboFreeSnapshotVersion):Rt.min();let r;var i;return void 0!==n.query.documents?(at(1===(i=n.query).documents.length),r=Gi(Cl(em(i.documents[0])))):r=Gi(aI(n.query)),new hi(r,n.targetId,0,n.lastListenSequenceNumber,e,t,wr.fromBase64String(n.resumeToken))}function Dh(n,e){const t=Tl(e.snapshotVersion),r=Tl(e.lastLimboFreeSnapshotVersion);let i;i=Og(e.target)?d_(n.ne,e.target):Aw(n.ne,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xu(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function m_(n){const e=aI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Lg(e,e.limit,"L"):e}function Lw(n,e){return new ap(e.largestBatchId,c_(n.ne,e.overlayMutation))}function Bw(n,e){const t=e.path.lastSegment();return[n,Ii(e.path.popLast()),t]}function wI(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Tl(r.readTime),documentKey:Ii(r.documentKey.path),largestBatchId:r.largestBatchId}}class EI{getBundleMetadata(e,t){return Vw(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Au(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Vw(e).put({bundleId:(r=t).id,createTime:Tl(Qr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Uw(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:m_(i.bundledQuery),readTime:Au(i.readTime)};var i})}saveNamedQuery(e,t){return Uw(e).put({name:(r=t).name,readTime:Tl(Qr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Vw(n){return Hr(n,"bundles")}function Uw(n){return Hr(n,"namedQueries")}class um{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new um(e,t.uid||"")}getOverlay(e,t){return cm(e).get(Bw(this.userId,t)).next(r=>r?Lw(this.wt,r):null)}getOverlays(e,t){const r=Al();return ce.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((l,c)=>{const p=new ap(t,c);i.push(this.ie(e,p))}),ce.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Ii(c.getCollectionPath())));const l=[];return i.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(cm(e).W("collectionPathOverlayIndex",p))}),ce.waitFor(l)}getOverlaysForCollection(e,t,r){const i=Al(),l=Ii(t),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return cm(e).K("collectionPathOverlayIndex",c).next(p=>{for(const v of p){const E=Lw(this.wt,v);i.set(E.getKey(),E)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=Al();let c;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return cm(e).J({index:"collectionGroupOverlayIndex",range:p},(v,E,S)=>{const M=Lw(this.wt,E);l.size()<i||M.largestBatchId===c?(l.set(M.getKey(),M),c=M.largestBatchId):S.done()}).next(()=>l)}ie(e,t){return cm(e).put(function(r,i,l){const[c,p,v]=Bw(i,l.mutation.key);return{userId:i,collectionPath:p,documentId:v,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:_h(r.ne,l.mutation)}}(this.wt,this.userId,t))}}function cm(n){return Hr(n,"documentOverlays")}class Su{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Bn(e.integerValue));else if("doubleValue"in e){const r=Bn(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),Jf(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Eu(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?Jy(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):it()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const i of Object.keys(r))this.le(i,t),this.oe(r[i],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const i of r)this.oe(i,t)}_e(e,t){this.ce(t,37),ze.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function y_(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function jw(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=y_(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Su.ye=new Su;class __{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const i=t.codePointAt(0);this.Ie(240|i>>>18),this.Ie(128|63&i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}ve(e){const t=this.Ve(e),r=jw(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}De(e){const t=this.Ve(e),r=jw(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Me(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class DI{constructor(e){this.Oe=e}de(e){this.Oe.pe(e)}he(e){this.Oe.be(e)}ae(e){this.Oe.ve(e)}ue(){this.Oe.Ce()}}class II{constructor(e){this.Oe=e}de(e){this.Oe.Ee(e)}he(e){this.Oe.Pe(e)}ae(e){this.Oe.De(e)}ue(){this.Oe.Ne()}}class cp{constructor(){this.Oe=new __,this.Fe=new DI(this.Oe),this.$e=new II(this.Oe)}seed(e){this.Oe.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class Bc{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Bc(this.indexId,this.documentKey,this.arrayValue,r)}}function Vc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Hw(n.arrayValue,e.arrayValue),0!==t?t:(t=Hw(n.directionalValue,e.directionalValue),0!==t?t:ze.comparator(n.documentKey,e.documentKey)))}function Hw(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class dm{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=Cg(e);if(void 0!==t&&!this.Qe(t))return!1;const r=Ec(e);let i=0,l=0;for(;i<r.length&&this.Qe(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ke){const c=r[i];if(!this.je(this.Ke,c)||!this.We(this.Ue[l++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(l>=this.Ue.length||!this.We(this.Ue[l++],c))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Uc{constructor(){this.ze=new Gw}addToCollectionParentIndex(e,t){return this.ze.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Hs.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class Gw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new un(Jt.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new un(Jt.comparator)).toArray()}}const Tu=new Uint8Array(0);class xI{constructor(e,t){this.user=e,this.databaseId=t,this.He=new Gw,this.Je=new Fc(r=>xu(r),(r,i)=>uh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const l={collectionId:r,parent:Ii(i)};return $w(e).put(l)}return ce.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[ew(t),""],!1,!0);return $w(e).K(i).next(l=>{for(const c of l){if(c.collectionId!==t)break;r.push(Ta(c.parent))}return r})}addFieldIndex(e,t){const r=hm(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var c;delete i.indexId;const l=r.add(i);if(t.indexState){const c=$i(e);return l.next(p=>{c.put(wI(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=hm(e),i=$i(e),l=jc(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=jc(e);let i=!0;const l=new Map;return ce.forEach(this.Ye(t),c=>this.Xe(e,c).next(p=>{i&&(i=!!p),l.set(c,p)})).next(()=>{if(i){let c=Pt();const p=[];return ce.forEach(l,(v,E)=>{var S;Pe("IndexedDbIndexManager",`Using index ${S=v,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(bt=>`${bt.fieldPath}:${bt.kind}`).join(",")}`} to execute ${xu(t)}`);const M=function(bt,lt){const Tt=Cg(lt);if(void 0===Tt)return null;for(const Ot of Fg(bt,Tt.fieldPath))switch(Ot.op){case"array-contains-any":return Ot.value.arrayValue.values||[];case"array-contains":return[Ot.value]}return null}(E,v),V=function(bt,lt){const Tt=new Map;for(const Ot of Ec(lt))for(const tn of Fg(bt,Ot.fieldPath))switch(tn.op){case"==":case"in":Tt.set(Ot.fieldPath.canonicalString(),tn.value);break;case"not-in":case"!=":return Tt.set(Ot.fieldPath.canonicalString(),tn.value),Array.from(Tt.values())}return null}(E,v),K=function(bt,lt){const Tt=[];let Ot=!0;for(const tn of Ec(lt)){const Ds=0===tn.kind?$D(bt,tn.fieldPath,bt.startAt):t_(bt,tn.fieldPath,bt.startAt);Tt.push(Ds.value),Ot&&(Ot=Ds.inclusive)}return new Cu(Tt,Ot)}(E,v),Q=function(bt,lt){const Tt=[];let Ot=!0;for(const tn of Ec(lt)){const Ds=0===tn.kind?t_(bt,tn.fieldPath,bt.endAt):$D(bt,tn.fieldPath,bt.endAt);Tt.push(Ds.value),Ot&&(Ot=Ds.inclusive)}return new Cu(Tt,Ot)}(E,v),ae=this.Ze(v,E,K),Te=this.Ze(v,E,Q),Be=this.tn(v,E,V),st=this.en(v.indexId,M,ae,K.inclusive,Te,Q.inclusive,Be);return ce.forEach(st,bt=>r.j(bt,t.limit).next(lt=>{lt.forEach(Tt=>{const Ot=ze.fromSegments(Tt.documentKey);c.has(Ot)||(c=c.add(Ot),p.push(Ot))})}))}).next(()=>p)}return ce.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,i,l,c,p){const v=(null!=t?t.length:1)*Math.max(r.length,l.length),E=v/(null!=t?t.length:1),S=[];for(let M=0;M<v;++M){const V=t?this.nn(t[M/E]):Tu,K=this.sn(e,V,r[M%E],i),Q=this.rn(e,V,l[M%E],c),ae=p.map(Te=>this.sn(e,V,Te,!0));S.push(...this.createRange(K,Q,ae))}return S}sn(e,t,r,i){const l=new Bc(e,ze.empty(),t,r);return i?l:l.Le()}rn(e,t,r,i){const l=new Bc(e,ze.empty(),t,r);return i?l.Le():l}Xe(e,t){const r=new dm(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let c=null;for(const p of l)r.Ge(p)&&(!c||p.fields.length>c.fields.length)&&(c=p);return c})}getIndexType(e,t){let r=2;return ce.forEach(this.Ye(t),i=>this.Xe(e,i).next(l=>{l?0!==r&&l.fields.length<function(c){let p=new un(Qn.comparator),v=!1;for(const E of c.filters){const S=E;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?v=!0:p=p.add(S.field))}for(const E of c.orderBy)E.field.isKeyField()||(p=p.add(E.field));return p.size+(v?1:0)}(i)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new cp;for(const i of Ec(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const c=r.Be(i.kind);Su.ye.re(l,c)}return r.Me()}nn(e){const t=new cp;return Su.ye.re(e,t.Be(0)),t.Me()}un(e,t){const r=new cp;return Su.ye.re(ti(this.databaseId,t),r.Be(function(i){const l=Ec(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.Me()}tn(e,t,r){if(null===r)return[];let i=[];i.push(new cp);let l=0;for(const c of Ec(e)){const p=r[l++];for(const v of i)if(this.cn(t,c.fieldPath)&&lh(p))i=this.an(i,c,p);else{const E=v.Be(c.kind);Su.ye.re(p,E)}}return this.hn(i)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Me();return t}an(e,t,r){const i=[...e],l=[];for(const c of r.arrayValue.values||[])for(const p of i){const v=new cp;v.seed(p.Me()),Su.ye.re(c,v.Be(t.kind)),l.push(v)}return l}cn(e,t){return!!e.filters.find(r=>r instanceof Yr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=hm(e),i=$i(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(l=>{const c=[];return ce.forEach(l,p=>i.get([p.indexId,this.uid]).next(v=>{c.push(function(E,S){const M=S?new Dc(S.sequenceNumber,new Hs(Au(S.readTime),new ze(Ta(S.documentKey)),S.largestBatchId)):Dc.empty(),V=E.fields.map(([K,Q])=>new Ag(Qn.fromServerFormat(K),Q));return new xg(E.indexId,E.collectionGroup,V,M)}(p,v))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Et(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=hm(e),l=$i(e);return this.ln(e).next(c=>i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>ce.forEach(p,v=>l.put(wI(v.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ce.forEach(t,(i,l)=>{const c=r.get(i.collectionGroup);return(c?ce.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),ce.forEach(p,v=>this.fn(e,i,v).next(E=>{const S=this.dn(l,v);return E.isEqual(S)?ce.resolve():this._n(e,l,v,E,S)}))))})}wn(e,t,r,i){return jc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,i){return jc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const i=jc(e);let l=new un(Vc);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(c,p)=>{l=l.add(new Bc(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>l)}dn(e,t){let r=new un(Vc);const i=this.on(t,e);if(null==i)return r;const l=Cg(t);if(null!=l){const c=e.data.field(l.fieldPath);if(lh(c))for(const p of c.arrayValue.values||[])r=r.add(new Bc(t.indexId,e.key,this.nn(p),i))}else r=r.add(new Bc(t.indexId,e.key,Tu,i));return r}_n(e,t,r,i,l){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(p,v,E,S,M){const V=p.getIterator(),K=v.getIterator();let Q=Ic(V),ae=Ic(K);for(;Q||ae;){let Te=!1,Be=!1;if(Q&&ae){const st=E(Q,ae);st<0?Be=!0:st>0&&(Te=!0)}else null!=Q?Be=!0:Te=!0;Te?(S(ae),ae=Ic(K)):Be?(M(Q),Q=Ic(V)):(Q=Ic(V),ae=Ic(K))}}(i,l,Vc,p=>{c.push(this.wn(e,t,r,p))},p=>{c.push(this.mn(e,t,r,p))}),ce.waitFor(c)}ln(e){let t=1;return $i(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,p)=>Vc(c,p)).filter((c,p,v)=>!p||0!==Vc(c,v[p-1]));const i=[];i.push(e);for(const c of r){const p=Vc(c,e),v=Vc(c,t);if(0===p)i[0]=e.Le();else if(p>0&&v<0)i.push(c),i.push(c.Le());else if(v>0)break}i.push(t);const l=[];for(let c=0;c<i.length;c+=2)l.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,Tu,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,Tu,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ih)}getMinOffset(e,t){return ce.mapArray(this.Ye(t),r=>this.Xe(e,r).next(i=>i||it())).next(Ih)}}function $w(n){return Hr(n,"collectionParents")}function jc(n){return Hr(n,"indexEntries")}function hm(n){return Hr(n,"indexConfiguration")}function $i(n){return Hr(n,"indexState")}function Ih(n){at(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;vu(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Hs(e.readTime,e.documentKey,t)}const ni={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class kr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new kr(e,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function dp(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],c=IDBKeyRange.only(t.batchId);let p=0;const v=r.J({range:c},(S,M,V)=>(p++,V.delete()));l.push(v.next(()=>{at(1===p)}));const E=[];for(const S of t.mutations){const M=Ow(e,S.key.path,t.batchId);l.push(i.delete(M)),E.push(S.key)}return ce.waitFor(l).next(()=>E)}function xi(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw it();e=n.noDocument}return JSON.stringify(e).length}kr.DEFAULT_COLLECTION_PERCENTILE=10,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kr.DEFAULT=new kr(41943040,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kr.DISABLED=new kr(-1,0,0);class xh{constructor(e,t,r,i){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=i,this.gn={}}static se(e,t,r,i){at(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new xh(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ys(e).J({index:"userMutationsIndex",range:r},(i,l,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=xo(e),c=ys(e);return c.add({}).next(p=>{at("number"==typeof p);const v=new sm(p,t,r,i),E=function(V,K,Q){const ae=Q.baseMutations.map(Be=>_h(V.ne,Be)),Te=Q.mutations.map(Be=>_h(V.ne,Be));return{userId:K,batchId:Q.batchId,localWriteTimeMs:Q.localWriteTime.toMillis(),baseMutations:ae,mutations:Te}}(this.wt,this.userId,v),S=[];let M=new un((V,K)=>Et(V.canonicalString(),K.canonicalString()));for(const V of i){const K=Ow(this.userId,V.key.path,p);M=M.add(V.key.path.popLast()),S.push(c.put(E)),S.push(l.put(K,dI))}return M.forEach(V=>{S.push(this.indexManager.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.gn[p]=v.keys()}),ce.waitFor(S).next(()=>v)})}lookupMutationBatch(e,t){return ys(e).get(t).next(r=>r?(at(r.userId===this.userId),Lc(this.wt,r)):null)}yn(e,t){return this.gn[t]?ce.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.gn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return ys(e).J({index:"userMutationsIndex",range:i},(c,p,v)=>{p.userId===this.userId&&(at(p.batchId>=r),l=Lc(this.wt,p)),v.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ys(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,l,c)=>{r=l.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ys(e).K("userMutationsIndex",t).next(r=>r.map(i=>Lc(this.wt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=wh(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return xo(e).J({range:i},(c,p,v)=>{const[E,S,M]=c,V=Ta(S);if(E===this.userId&&t.path.isEqual(V))return ys(e).get(M).next(K=>{if(!K)throw it();at(K.userId===this.userId),l.push(Lc(this.wt,K))});v.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new un(Et);const i=[];return t.forEach(l=>{const c=wh(this.userId,l.path),p=IDBKeyRange.lowerBound(c),v=xo(e).J({range:p},(E,S,M)=>{const[V,K,Q]=E,ae=Ta(K);V===this.userId&&l.path.isEqual(ae)?r=r.add(Q):M.done()});i.push(v)}),ce.waitFor(i).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=wh(this.userId,r),c=IDBKeyRange.lowerBound(l);let p=new un(Et);return xo(e).J({range:c},(v,E,S)=>{const[M,V,K]=v,Q=Ta(V);M===this.userId&&r.isPrefixOf(Q)?Q.length===i&&(p=p.add(K)):S.done()}).next(()=>this.pn(e,p))}pn(e,t){const r=[],i=[];return t.forEach(l=>{i.push(ys(e).get(l).next(c=>{if(null===c)throw it();at(c.userId===this.userId),r.push(Lc(this.wt,c))}))}),ce.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return dp(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),ce.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ce.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return xo(e).J({range:r},(l,c,p)=>{if(l[0]===this.userId){const v=Ta(l[1]);i.push(v)}else p.done()}).next(()=>{at(0===i.length)})})}containsKey(e,t){return Hc(e,this.userId,t)}Tn(e){return Gc(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Hc(n,e,t){const r=wh(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return xo(n).J({range:l,H:!0},(p,v,E)=>{const[S,M,V]=p;S===e&&M===i&&(c=!0),E.done()}).next(()=>c)}function ys(n){return Hr(n,"mutations")}function xo(n){return Hr(n,"documentMutations")}function Gc(n){return Hr(n,"mutationQueues")}class qs{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new qs(0)}static Rn(){return new qs(-1)}}class Ch{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new qs(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Rt.fromTimestamp(new ir(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Pn(e,i)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Co(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(at(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return Co(e).J((c,p)=>{const v=up(p);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,l.push(this.removeTargetData(e,v)))}).next(()=>ce.waitFor(l)).next(()=>i)}forEachTarget(e,t){return Co(e).J((r,i)=>{const l=up(i);t(l)})}bn(e){return $c(e).get("targetGlobalKey").next(t=>(at(null!==t),t))}Pn(e,t){return $c(e).put("targetGlobalKey",t)}vn(e,t){return Co(e).put(Dh(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=xu(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Co(e).J({range:i,index:"queryTargetsIndex"},(c,p,v)=>{const E=up(p);uh(t,E.target)&&(l=E,v.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=_s(e);return t.forEach(c=>{const p=Ii(c.path);i.push(l.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,c))}),ce.waitFor(i)}removeMatchingKeys(e,t,r){const i=_s(e);return ce.forEach(t,l=>{const c=Ii(l.path);return ce.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=_s(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=_s(e);let l=Pt();return i.J({range:r,H:!0},(c,p,v)=>{const E=Ta(c[1]),S=new ze(E);l=l.add(S)}).next(()=>l)}containsKey(e,t){const r=Ii(t.path),i=IDBKeyRange.bound([r],[ew(r)],!1,!0);let l=0;return _s(e).J({index:"documentTargetsIndex",H:!0,range:i},([c,p],v,E)=>{0!==c&&(l++,E.done())}).next(()=>l>0)}te(e,t){return Co(e).get(t).next(r=>r?up(r):null)}}function Co(n){return Hr(n,"targets")}function $c(n){return Hr(n,"targetGlobal")}function _s(n){return Hr(n,"targetDocuments")}function v_([n,e],[t,r]){const i=Et(n,t);return 0===i?Et(e,r):i}class zw{constructor(e){this.Sn=e,this.buffer=new un(v_),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();v_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qw{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){wu(r)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield bu(r)}yield t.kn(3e5)}))}}class Ww{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.On(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ce.resolve(Ei.ot);const r=new zw(t);return this.Mn.forEachTarget(e,i=>r.xn(i.sequenceNumber)).next(()=>this.Mn.Fn(e,i=>r.xn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Mn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(ni)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ni):this.$n(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}$n(e,t){let r,i,l,c,p,v,E;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,c=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,p=Date.now(),this.removeTargets(e,r,t))).next(M=>(l=M,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(E=Date.now(),Dg()<=Br.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-S}ms\n\tDetermined least recently used ${i} in `+(p-c)+`ms\n\tRemoved ${l} targets in `+(v-p)+`ms\n\tRemoved ${M} documents in `+(E-v)+`ms\nTotal Duration: ${E-S}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:M})))}}class Kw{constructor(e,t){this.db=e,this.garbageCollector=new Ww(this,t)}On(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,i)=>t(i))}addReference(e,t,r){return hp(e,r)}removeReference(e,t,r){return hp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return hp(e,t)}Un(e,t){return function(r,i){let l=!1;return Gc(r).Y(c=>Hc(r,c,i).next(p=>(p&&(l=!0),ce.resolve(!p)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Ln(e,(c,p)=>{if(p<=t){const v=this.Un(e,c).next(E=>{if(!E)return l++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Rt.min()),_s(e).delete([0,Ii(c.path)])))});i.push(v)}}).next(()=>ce.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return hp(e,t)}Ln(e,t){const r=_s(e);let i,l=Ei.ot;return r.J({index:"documentTargetsIndex"},([c,p],{path:v,sequenceNumber:E})=>{0===c?(l!==Ei.ot&&t(new ze(Ta(i)),l),l=E,i=v):l=Ei.ot}).next(()=>{l!==Ei.ot&&t(new ze(Ta(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hp(n,e){return _s(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ii(e.path),sequenceNumber:r}));var r}class b_{constructor(){this.changes=new Fc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zw{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return zc(e).put(r)}removeEntry(e,t,r){return zc(e).delete(function(i,l){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],lm(l),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=Dn.newInvalidDocument(t);return zc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ah(t))},(i,l)=>{r=this.Kn(t,l)}).next(()=>r)}Gn(e,t){let r={size:0,document:Dn.newInvalidDocument(t)};return zc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ah(t))},(i,l)=>{r={document:this.Kn(t,l),size:xi(l)}}).next(()=>r)}getEntries(e,t){let r=gs();return this.Qn(e,t,(i,l)=>{const c=this.Kn(i,l);r=r.insert(i,c)}).next(()=>r)}jn(e,t){let r=gs(),i=new sr(ze.comparator);return this.Qn(e,t,(l,c)=>{const p=this.Kn(l,c);r=r.insert(l,p),i=i.insert(l,xi(c))}).next(()=>({documents:r,Wn:i}))}Qn(e,t,r){if(t.isEmpty())return ce.resolve();let i=new un(E_);t.forEach(v=>i=i.add(v));const l=IDBKeyRange.bound(Ah(i.first()),Ah(i.last())),c=i.getIterator();let p=c.getNext();return zc(e).J({index:"documentKeyIndex",range:l},(v,E,S)=>{const M=ze.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;p&&E_(p,M)<0;)r(p,null),p=c.getNext();p&&p.isEqual(M)&&(r(p,E),p=c.hasNext()?c.getNext():null),p?S.q(Ah(p)):S.done()}).next(()=>{for(;p;)r(p,null),p=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),lm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zc(e).K(IDBKeyRange.bound(i,l,!0)).next(c=>{let p=gs();for(const v of c){const E=this.Kn(ze.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);p=p.insert(E.key,E)}return p})}getAllFromCollectionGroup(e,t,r,i){let l=gs();const c=Qw(t,r),p=Qw(t,Hs.max());return zc(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(v,E,S)=>{const M=this.Kn(ze.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);l=l.insert(M.key,M),l.size===i&&S.done()}).next(()=>l)}newChangeBuffer(e){return new CI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Yw(e).get("remoteDocumentGlobalKey").next(t=>(at(!!t),t))}qn(e,t){return Yw(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function am(n,e){let t;if(e.document)t=u_(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ze.fromSegments(e.noDocument.path),i=Au(e.noDocument.readTime);t=Dn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return it();{const r=ze.fromSegments(e.unknownDocument.path),i=Au(e.unknownDocument.version);t=Dn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new ir(r[0],r[1]);return Rt.fromTimestamp(i)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(Rt.min()))return r}return Dn.newInvalidDocument(e)}}function w_(n){return new Zw(n)}class CI extends b_{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Fc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new un((l,c)=>Et(l.canonicalString(),c.canonicalString()));return this.changes.forEach((l,c)=>{const p=this.Hn.get(l);if(t.push(this.zn.removeEntry(e,l,p.readTime)),c.isValidDocument()){const v=Eh(this.zn.wt,c);i=i.add(l.path.popLast()),r+=xi(v)-p.size,t.push(this.zn.addEntry(e,l,v))}else if(r-=p.size,this.trackRemovals){const v=Eh(this.zn.wt,c.convertToNoDocument(Rt.min()));t.push(this.zn.addEntry(e,l,v))}}),i.forEach(l=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.zn.updateMetadata(e,r)),ce.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:i})=>(i.forEach((l,c)=>{this.Hn.set(l,{size:c,readTime:r.get(l).readTime})}),r))}}function Yw(n){return Hr(n,"remoteDocumentGlobal")}function zc(n){return Hr(n,"remoteDocumentsV14")}function Ah(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Qw(n,e){const t=e.documentKey.path.toArray();return[n,lm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function E_(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Et(t[l],r[l]),i)return i;return i=Et(t.length,r.length),i||(i=Et(t[t.length-2],r[r.length-2]),i||Et(t[t.length-1],r[r.length-1]))}class D_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fm{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&tp(r.mutation,i,Hi.empty(),ir.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Pt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Pt()){const i=Al();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(l=>{let c=Zg();return l.forEach((p,v)=>{c=c.insert(p,v.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Al();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Pt()))}populateOverlays(e,t,r){const i=[];return r.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((c,p)=>{t.set(c,p)})})}computeViews(e,t,r,i){let l=gs();const c=Nc(),p=Nc();return t.forEach((v,E)=>{const S=r.get(E.key);i.has(E.key)&&(void 0===S||S.mutation instanceof Aa)?l=l.insert(E.key,E):void 0!==S&&(c.set(E.key,S.mutation.getFieldMask()),tp(S.mutation,E,S.mutation.getFieldMask(),ir.now()))}),this.recalculateAndSaveOverlays(e,l).next(v=>(v.forEach((E,S)=>c.set(E,S)),t.forEach((E,S)=>{var M;return p.set(E,new D_(S,null!==(M=c.get(E))&&void 0!==M?M:null))}),p))}recalculateAndSaveOverlays(e,t){const r=Nc();let i=new sr((c,p)=>c-p),l=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const p of c)p.keys().forEach(v=>{const E=t.get(v);if(null===E)return;let S=r.get(v)||Hi.empty();S=p.applyToLocalView(E,S),r.set(v,S);const M=(i.get(p.batchId)||Pt()).add(v);i=i.insert(p.batchId,M)})}).next(()=>{const c=[],p=i.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),E=v.key,S=v.value,M=Sl();S.forEach(V=>{if(!l.has(V)){const K=Wg(t.get(V),r.get(V));null!==K&&M.set(V,K),l=l.add(V)}}),c.push(this.documentOverlayCache.saveOverlays(e,E,M))}return ce.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ze.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):s_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(l=>{const c=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-l.size):ce.resolve(Al());let p=-1,v=l;return c.next(E=>ce.forEach(E,(S,M)=>(p<M.largestBatchId&&(p=M.largestBatchId),l.get(S)?ce.resolve():this.getBaseDocument(e,S,M).next(V=>{v=v.insert(S,V)}))).next(()=>this.populateOverlays(e,E,l)).next(()=>this.computeViews(e,v,E,Pt())).next(S=>({batchId:p,changes:rI(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ze(t)).next(r=>{let i=Zg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let l=Zg();return this.indexManager.getCollectionParents(e,i).next(c=>ce.forEach(c,p=>{const v=(E=t,S=p.child(i),new xl(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,S;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(E=>{E.forEach((S,M)=>{l=l.insert(S,M)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((p,v)=>{const E=v.getKey();null===i.get(E)&&(i=i.insert(E,Dn.newInvalidDocument(E)))});let c=Zg();return i.forEach((p,v)=>{const E=l.get(p);void 0!==E&&tp(E.mutation,v,Hi.empty(),ir.now()),Vg(t,v)&&(c=c.insert(p,v))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ce.resolve(Dn.newInvalidDocument(t))}}class AI{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return ce.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:Qr(r.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:m_(r.bundledQuery),readTime:Qr(r.readTime)}),ce.resolve();var r}}class pm{constructor(){this.overlays=new sr(ze.comparator),this.Xn=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Al();return ce.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.ie(e,t,l)}),ce.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.Xn.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const i=Al(),l=t.length+1,c=new ze(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const v=p.getNext().value,E=v.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===l&&v.largestBatchId>r&&i.set(v.getKey(),v)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new sr((E,S)=>E-S);const c=this.overlays.getIterator();for(;c.hasNext();){const E=c.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>r){let S=l.get(E.largestBatchId);null===S&&(S=Al(),l=l.insert(E.largestBatchId,S)),S.set(E.getKey(),E)}}const p=Al(),v=l.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((E,S)=>p.set(E,S)),!(p.size()>=i)););return ce.resolve(p)}ie(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new ap(t,r));let l=this.Xn.get(t);void 0===l&&(l=Pt(),this.Xn.set(t,l)),this.Xn.set(t,l.add(r.key))}}class Sh{constructor(){this.Zn=new un(Or.ts),this.es=new un(Or.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Or(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Or(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new ze(new Jt([])),r=new Or(t,e),i=new Or(t,e+1),l=[];return this.es.forEachInRange([r,i],c=>{this.rs(c),l.push(c.key)}),l}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new ze(new Jt([])),r=new Or(t,e),i=new Or(t,e+1);let l=Pt();return this.es.forEachInRange([r,i],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Or(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Or{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return ze.comparator(e.key,t.key)||Et(e.ls,t.ls)}static ns(e,t){return Et(e.ls,t.ls)||ze.comparator(e.key,t.key)}}class SI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new un(Or.ts)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const l=this.fs;this.fs++;const c=new sm(l,t,r,i);this.mutationQueue.push(c);for(const p of i)this.ds=this.ds.add(new Or(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ce.resolve(c)}lookupMutationBatch(e,t){return ce.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ws(t+1),l=i<0?0:i;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Or(t,0),i=new Or(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([r,i],c=>{const p=this._s(c.ls);l.push(p)}),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new un(Et);return t.forEach(i=>{const l=new Or(i,0),c=new Or(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,c],p=>{r=r.add(p.ls)})}),ce.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;ze.isDocumentKey(l)||(l=l.child(""));const c=new Or(new ze(l),0);let p=new un(Et);return this.ds.forEachWhile(v=>{const E=v.key.path;return!!r.isPrefixOf(E)&&(E.length===i&&(p=p.add(v.ls)),!0)},c),ce.resolve(this.gs(p))}gs(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){at(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return ce.forEach(t.mutations,i=>{const l=new Or(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new Or(t,0),i=this.ds.firstAfterOrEqual(r);return ce.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ce.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class I_{constructor(e){this.ps=e,this.docs=new sr(ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,c=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(t))}getEntries(e,t){let r=gs();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Dn.newInvalidDocument(i))}),ce.resolve(r)}getAllFromCollection(e,t,r){let i=gs();const l=new ze(t.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:p,value:{document:v}}=c.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||vu($y(v),r)<=0||(i=i.insert(v.key,v.mutableCopy()))}return ce.resolve(i)}getAllFromCollectionGroup(e,t,r,i){it()}Is(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new x_(this)}getSize(e){return ce.resolve(this.size)}}class x_ extends b_{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class Xw{constructor(e){this.persistence=e,this.Ts=new Fc(t=>xu(t),uh),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.Es=0,this.As=new Sh,this.targetCount=0,this.Rs=qs.An()}forEachTarget(e,t){return this.Ts.forEach((r,i)=>t(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),ce.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new qs(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.vn(t),ce.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Ts.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Ts.delete(c),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),ce.waitFor(l).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(c=>{l.push(i.markPotentiallyOrphaned(e,c))}),ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this.As.containsKey(t))}}class C_{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Ei(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new Xw(this),this.indexManager=new Uc,this.remoteDocumentCache=new I_(r=>this.referenceDelegate.Ss(r)),this.wt=new lp(t),this.Ds=new AI(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new SI(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new A_(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(l=>this.referenceDelegate.xs(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ns(e,t){return ce.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class A_ extends zy{constructor(e){super(),this.currentSequenceNumber=e}}class fp{constructor(e){this.persistence=e,this.ks=new Sh,this.Ms=null}static Os(e){return new fp(e)}get Fs(){if(this.Ms)return this.Ms;throw it()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),ce.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Fs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Ms=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Fs,r=>{const i=ze.fromPath(r);return this.$s(e,i).next(l=>{l||t.removeEntry(i,Rt.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return ce.or([()=>ce.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class TI{constructor(e){this.wt=e}M(e,t,r,i){const l=new Mg("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Io,{unique:!0}),p.createObjectStore("documentMutations"),gm(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=ce.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),gm(e)),c=c.next(()=>function(p){const v=p.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",E)}(l))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(p,v){return v.store("mutations").K().next(E=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Io,{unique:!0});const S=v.store("mutations"),M=E.map(V=>S.put(V));return ce.waitFor(M)})}(e,l))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Bs(l))),r<6&&i>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(l)))),r<7&&i>=7&&(c=c.next(()=>this.Us(l))),r<8&&i>=8&&(c=c.next(()=>this.qs(e,l))),r<9&&i>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.Ks(l))),r<11&&i>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(p){const v=p.createObjectStore("documentOverlays",{keyPath:Nw});v.createIndex("collectionPathOverlayIndex",g_,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",Pw,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(p){const v=p.createObjectStore("remoteDocumentsV14",{keyPath:CA});v.createIndex("documentKeyIndex",Fw),v.createIndex("collectionGroupIndex",hI)}(e)).next(()=>this.Gs(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.Qs(e,l))),r<15&&i>=15&&(c=c.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:mI}).createIndex("sequenceNumberIndex",nm,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:p_}).createIndex("documentKeyIndex",yI,{unique:!1})}(e))),c}Ls(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=xi(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(i=>ce.forEach(i,l=>{const c=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",c).next(p=>ce.forEach(p,v=>{at(v.userId===l.userId);const E=Lc(this.wt,v);return dp(e,l.userId,E).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.J((c,p)=>{const v=new Jt(c),E=[0,Ii(v)];l.push(t.get(E).next(S=>S?ce.resolve():t.put({targetId:0,path:Ii(v),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ce.waitFor(l))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:gI});const r=t.store("collectionParents"),i=new Gw,l=c=>{if(i.add(c)){const p=c.lastSegment(),v=c.popLast();return r.put({collectionId:p,parent:Ii(v)})}};return t.store("remoteDocuments").J({H:!0},(c,p)=>{const v=new Jt(c);return l(v.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([c,p,v],E)=>{const S=Ta(p);return l(S.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,i)=>{const l=up(i),c=Dh(this.wt,l);return t.put(c)})}Gs(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((l,c)=>{const p=t.store("remoteDocumentsV14"),v=(E=c,E.document?new ze(Jt.fromString(E.document.name).popFirst(5)):E.noDocument?ze.fromSegments(E.noDocument.path):E.unknownDocument?ze.fromSegments(E.unknownDocument.path):it()).path.toArray();var E;const S={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(p.put(S))}).next(()=>ce.waitFor(i))}Qs(e,t){const r=t.store("mutations"),i=w_(this.wt),l=new C_(fp.Os,this.wt.ne);return r.K().next(c=>{const p=new Map;return c.forEach(v=>{var E;let S=null!==(E=p.get(v.userId))&&void 0!==E?E:Pt();Lc(this.wt,v).keys().forEach(M=>S=S.add(M)),p.set(v.userId,S)}),ce.forEach(p,(v,E)=>{const S=new Kr(E),M=um.se(this.wt,S),V=l.getIndexManager(S),K=xh.se(S,this.wt,V,l.referenceDelegate);return new fm(i,K,M,V).recalculateAndSaveOverlaysForDocumentKeys(new im(t,Ei.ot),v).next()})})}}function gm(n){n.createObjectStore("targetDocuments",{keyPath:pI}).createIndex("documentTargetsIndex",f_,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",fI,{unique:!0}),n.createObjectStore("targetGlobal")}const mm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class S_{constructor(e,t,r,i,l,c,p,v,E,S,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=l,this.window=c,this.document=p,this.Ws=E,this.zs=S,this.Hs=M,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=V=>Promise.resolve(),!S_.V())throw new Oe(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kw(this,i),this.ei=t+"main",this.wt=new lp(v),this.ni=new Eo(this.ei,this.Hs,new TI(this.wt)),this.Vs=new Ch(this.referenceDelegate,this.wt),this.remoteDocumentCache=w_(this.wt),this.Ds=new EI,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===S&&Kt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(fe.FAILED_PRECONDITION,mm);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Ei(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,ve.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>pp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(wu(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Th(e).get("owner").next(t=>ce.resolve(this.di(t)))}_i(e){return pp(e).delete(this.clientId)}wi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Hr(r,"clientMetadata");return i.K().next(l=>{const c=e.gi(l,18e5),p=l.filter(v=>-1===c.indexOf(v));return ce.forEach(p,v=>i.delete(v.clientId)).next(()=>p)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?ce.resolve(!0):Th(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Oe(fe.FAILED_PRECONDITION,mm);return!1}}return!(!this.networkEnabled||!this.inForeground)||pp(e).K().next(r=>void 0===this.gi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new im(t,Ei.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>pp(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return xh.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xI(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return um.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=15===(c=this.Hs)?bI:14===c?vI:13===c?rm:12===c?AA:11===c?_I:void it();var c;let p;return this.ni.runTransaction(e,i,l,v=>(p=new im(v,this.Ps?this.Ps.next():Ei.ot),"readwrite-primary"===t?this.ai(p).next(E=>!!E||this.hi(p)).next(E=>{if(!E)throw Kt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Oe(fe.FAILED_PRECONDITION,Tg);return r(p)}).next(E=>this.fi(p).next(()=>E)):this.bi(p).next(()=>r(p)))).then(v=>(p.raiseOnCommittedEvent(),v))}bi(e){return Th(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(fe.FAILED_PRECONDITION,mm)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Th(e).put("owner",t)}static V(){return Eo.V()}li(e){const t=Th(e);return t.get("owner").next(r=>this.di(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ce.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Kt(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Mt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Kt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Kt("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Th(n){return Hr(n,"owner")}function pp(n){return Hr(n,"clientMetadata")}function ym(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class _m{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=i}static Vi(e,t){let r=Pt(),i=Pt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new _m(e,t.fromCache,r,i)}}class Jw{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ci(e,t).next(l=>l||this.xi(e,t,i,r)).next(l=>l||this.Ni(e,t))}Ci(e,t){if(hw(t))return ce.resolve(null);let r=Gi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Lg(t,null,"F"),r=Gi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=Pt(...l);return this.Di.getDocuments(e,c).next(p=>this.indexManager.getMinOffset(e,r).next(v=>{const E=this.ki(t,p);return this.Mi(t,E,c,v.readTime)?this.Ci(e,Lg(t,null,"F")):this.Oi(e,E,t,v)}))})))}xi(e,t,r,i){return hw(t)||i.isEqual(Rt.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(l=>{const c=this.ki(t,l);return this.Mi(t,c,r,i)?this.Ni(e,t):(Dg()<=Br.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bg(t)),this.Oi(e,c,t,Sg(i,-1)))})}ki(e,t){let r=new un(WD(e));return t.forEach((i,l)=>{Vg(e,l)&&(r=r.add(l))}),r}Mi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Ni(e,t){return Dg()<=Br.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Bg(t)),this.Di.getDocumentsMatchingQuery(e,t,Hs.min())}Oi(e,t,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}class e0{constructor(e,t,r,i){this.persistence=e,this.Fi=t,this.wt=i,this.$i=new sr(Et),this.Bi=new Fc(l=>xu(l),uh),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fm(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function T_(n,e,t,r){return new e0(n,e,t,r)}function M_(n,e){return gp.apply(this,arguments)}function gp(){return gp=(0,ve.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(l=>(i=l,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],p=[];let v=Pt();for(const E of i){c.push(E.batchId);for(const S of E.mutations)v=v.add(S.key)}for(const E of l){p.push(E.batchId);for(const S of E.mutations)v=v.add(S.key)}return t.localDocuments.getDocuments(r,v).next(E=>({Ki:E,removedBatchIds:c,addedBatchIds:p}))})})}),gp.apply(this,arguments)}function t0(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Ui.newChangeBuffer({trackRemovals:!0});return function(c,p,v,E){const S=v.batch,M=S.keys();let V=ce.resolve();return M.forEach(K=>{V=V.next(()=>E.getEntry(p,K)).next(Q=>{const ae=v.docVersions.get(K);at(null!==ae),Q.version.compareTo(ae)<0&&(S.applyToRemoteDocument(Q,v),Q.isValidDocument()&&(Q.setReadTime(v.commitVersion),E.addEntry(Q)))})}),V.next(()=>c.mutationQueue.removeMutationBatch(p,S))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let p=Pt();for(let v=0;v<c.mutationResults.length;++v)c.mutationResults[v].transformResults.length>0&&(p=p.add(c.batch.mutations[v].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function R_(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function n0(n,e){const t=Ze(n),r=e.snapshotVersion;let i=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Ui.newChangeBuffer({trackRemovals:!0});i=t.$i;const p=[];e.targetChanges.forEach((S,M)=>{const V=i.get(M);if(!V)return;p.push(t.Vs.removeMatchingKeys(l,S.removedDocuments,M).next(()=>t.Vs.addMatchingKeys(l,S.addedDocuments,M)));let K=V.withSequenceNumber(l.currentSequenceNumber);var Q,ae,Te;e.targetMismatches.has(M)?K=K.withResumeToken(wr.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):S.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(S.resumeToken,r)),i=i.insert(M,K),ae=K,Te=S,(0===(Q=V).resumeToken.approximateByteSize()||ae.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8||Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0)&&p.push(t.Vs.updateTargetData(l,K))});let v=gs(),E=Pt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,S))}),p.push(k_(l,c,e.documentUpdates).next(S=>{v=S.Gi,E=S.Qi})),!r.isEqual(Rt.min())){const S=t.Vs.getLastRemoteSnapshotVersion(l).next(M=>t.Vs.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(S)}return ce.waitFor(p).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,v,E)).next(()=>v)}).then(l=>(t.$i=i,l))}function k_(n,e,t){let r=Pt(),i=Pt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let c=gs();return t.forEach((p,v)=>{const E=l.get(p);v.isFoundDocument()!==E.isFoundDocument()&&(i=i.add(p)),v.isNoDocument()&&v.version.isEqual(Rt.min())?(e.removeEntry(p,v.readTime),c=c.insert(p,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||0===v.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(v),c=c.insert(p,v)):Pe("LocalStore","Ignoring outdated watch update for ",p,". Current version:",E.version," Watch version:",v.version)}),{Gi:c,Qi:i}})}function r0(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qc(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Vs.getTargetData(r,e).next(l=>l?(i=l,ce.resolve(i)):t.Vs.allocateTargetId(r).next(c=>(i=new hi(e,c,0,r.currentSequenceNumber),t.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function Wc(n,e,t){return vm.apply(this,arguments)}function vm(){return vm=(0,ve.Z)(function*(n,e,t){const r=Ze(n),i=r.$i.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!wu(c))throw c;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}),vm.apply(this,arguments)}function O_(n,e,t){const r=Ze(n);let i=Rt.min(),l=Pt();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,v,E){const S=Ze(p),M=S.Bi.get(E);return void 0!==M?ce.resolve(S.$i.get(M)):S.Vs.getTargetData(v,E)}(r,c,Gi(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(c,p.targetId).next(v=>{l=v})}).next(()=>r.Fi.getDocumentsMatchingQuery(c,e,t?i:Rt.min(),t?l:Pt())).next(p=>(F_(r,Ug(e),p),{documents:p,ji:l})))}function s0(n,e){const t=Ze(n),r=Ze(t.Vs),i=t.$i.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.te(l,e).next(c=>c?c.target:null))}function o0(n,e){const t=Ze(n),r=t.Li.get(e)||Rt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Ui.getAllFromCollectionGroup(i,e,Sg(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(F_(t,e,i),i))}function F_(n,e,t){let r=Rt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Li.set(e,r)}function Er(){return Er=(0,ve.Z)(function*(n,e,t,r){const i=Ze(n);let l=Pt(),c=gs();for(const E of t){const S=e.Wi(E.metadata.name);E.document&&(l=l.add(S));const M=e.zi(E);M.setReadTime(e.Hi(E.metadata.readTime)),c=c.insert(S,M)}const p=i.Ui.newChangeBuffer({trackRemovals:!0}),v=yield qc(i,(E=r,Gi(Cl(Jt.fromString(`__bundle__/docs/${E}`)))));var E;return i.persistence.runTransaction("Apply bundle documents","readwrite",E=>k_(E,p,c).next(S=>(p.apply(E),S)).next(S=>i.Vs.removeMatchingKeysForTargetId(E,v.targetId).next(()=>i.Vs.addMatchingKeys(E,l,v.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(E,S.Gi,S.Qi)).next(()=>S.Gi)))}),Er.apply(this,arguments)}function a0(n,e){return N_.apply(this,arguments)}function N_(){return N_=(0,ve.Z)(function*(n,e,t=Pt()){const r=yield qc(n,Gi(m_(e.bundledQuery))),i=Ze(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const c=Qr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ds.saveNamedQuery(l,e);const p=r.withResumeToken(wr.EMPTY_BYTE_STRING,c);return i.$i=i.$i.insert(p.targetId,p),i.Vs.updateTargetData(l,p).next(()=>i.Vs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.Vs.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ds.saveNamedQuery(l,e))})}),N_.apply(this,arguments)}function l0(n,e){return`firestore_clients_${n}_${e}`}function P_(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function L_(n,e){return`firestore_targets_${n}_${e}`}class mp{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let l,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(l=new Oe(i.error.code,i.error.message))),c?new mp(e,t,i.state,l):(Kt("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Oe(r.error.code,r.error.message))),l?new Mh(e,r.state,i):(Kt("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ml{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=mh();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=ow(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return i?new Ml(e,l):(Kt("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class B_{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new B_(t.clientId,t.onlineState):(Kt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class V_{constructor(){this.activeTargetIds=mh()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bm{constructor(e,t,r,i,l){this.window=e,this.js=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new sr(Et),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.rr=l0(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new V_),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.Ri();for(const i of t){if(i===e.tr)continue;const l=e.getItem(l0(e.persistenceKey,i));if(l){const c=Ml.Ji(i,l);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(L_(this.persistenceKey,e));if(r){const i=Mh.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(L_(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void Kt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(l){let c=Ei.ot;if(null!=l)try{const p=JSON.parse(l);at("number"==typeof p),c=p}catch(p){Kt("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(r.newValue);i!==Ei.ot&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Nr(l)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new mp(this.currentUser,e,t,r),l=P_(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Yi())}pr(e){const t=P_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=L_(this.persistenceKey,e),l=new Mh(e,t,r);this.setItem(i,l.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return Ml.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),i=Number(r[1]);return mp.Ji(new Kr(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Mh.Ji(i,t)}wr(e){return B_.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),l=this.gr(r),c=[],p=[];return l.forEach(v=>{i.has(v)||c.push(v)}),i.forEach(v=>{l.has(v)||p.push(v)}),this.syncEngine.Or(c,p).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=mh();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class u0{constructor(){this.Fr=new V_,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new V_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class c0{Br(e){}shutdown(){}}class RI{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const U_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class j_{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class Ma extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,l){const c=this.oo(e,t);Pe("RestConnection","Sending: ",c,r);const p={};return this.uo(p,i,l),this.co(e,c,p,r).then(v=>(Pe("RestConnection","Received: ",v),v),v=>{throw bl("RestConnection",`${e} failed with error: `,v,"url: ",c,"request:",r),v})}ao(e,t,r,i,l,c){return this.ro(e,t,r,i,l)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+th,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}oo(e,t){return`${this.so}/v1/${t}:${U_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((l,c)=>{const p=new MD;p.listenOnce(SD.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Gy.NO_ERROR:const E=p.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(E)),l(E);break;case Gy.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),c(new Oe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Gy.HTTP_ERROR:const S=p.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',S,"response text:",p.getResponseText()),S>0){const M=p.getResponseJson().error;if(M&&M.status&&M.message){const V=function(K){const Q=K.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(Q)>=0?Q:fe.UNKNOWN}(M.status);c(new Oe(V,M.message))}else c(new Oe(fe.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Oe(fe.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(i);p.send(t,"POST",v,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=zf(),c=AD(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new TD({})),this.uo(p.initMessageHeaders,t,r),(0,Mt.uI)()||(0,Mt.b$)()||(0,Mt.d)()||(0,Mt.w1)()||(0,Mt.Mn)()||(0,Mt.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const v=i.join("");Pe("Connection","Creating WebChannel: "+v,p);const E=l.createWebChannel(v,p);let S=!1,M=!1;const V=new j_({jr:Q=>{M?Pe("Connection","Not sending because WebChannel is closed:",Q):(S||(Pe("Connection","Opening WebChannel transport."),E.open(),S=!0),Pe("Connection","WebChannel sending:",Q),E.send(Q))},Wr:()=>E.close()}),K=(Q,ae,Te)=>{Q.listen(ae,Be=>{try{Te(Be)}catch(st){setTimeout(()=>{throw st},0)}})};return K(E,wg.EventType.OPEN,()=>{M||Pe("Connection","WebChannel transport opened.")}),K(E,wg.EventType.CLOSE,()=>{M||(M=!0,Pe("Connection","WebChannel transport closed"),V.eo())}),K(E,wg.EventType.ERROR,Q=>{M||(M=!0,bl("Connection","WebChannel transport errored:",Q),V.eo(new Oe(fe.UNAVAILABLE,"The operation could not be completed")))}),K(E,wg.EventType.MESSAGE,Q=>{var ae;if(!M){const Te=Q.data[0];at(!!Te);const Be=Te,st=Be.error||(null===(ae=Be[0])||void 0===ae?void 0:ae.error);if(st){Pe("Connection","WebChannel received error:",st);const bt=st.status;let lt=function(Ot){const tn=fr[Ot];if(void 0!==tn)return tI(tn)}(bt),Tt=st.message;void 0===lt&&(lt=fe.INTERNAL,Tt="Unknown error status: "+bt+" with message "+st.message),M=!0,V.eo(new Oe(lt,Tt)),E.close()}else Pe("Connection","WebChannel received:",Te),V.no(Te)}}),K(c,Kb.STAT_EVENT,Q=>{Q.stat===Zb.PROXY?Pe("Connection","Detected buffering proxy"):Q.stat===Zb.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.Zr()},0),V}}function d0(){return typeof window<"u"?window:null}function wm(){return typeof document<"u"?document:null}function zi(n){return new a_(n,!0)}class vs{constructor(e,t,r=1e3,i=1.5,l=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=i,this._o=l,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Ws{constructor(e,t,r,i,l,c,p,v){this.js=e,this.Ao=r,this.Ro=i,this.bo=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new vs(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,ve.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,ve.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,ve.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(Kt(t.toString()),Kt("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Oe(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,ve.Z)(function*(){e.state=0,e.start()}))}qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h0 extends Ws{constructor(e,t,r,i,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.wt=l}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function Cw(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:it(),i=e.targetChange.targetIds||[],l=function(v,E){return v.dt?(at(void 0===E||"string"==typeof E),wr.fromBase64String(E||"")):(at(void 0===E||E instanceof Uint8Array),wr.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(v){const E=void 0===v.code?fe.UNKNOWN:tI(v.code);return new Oe(E,v.message||"")}(c);t=new Yg(r,i,l,p||null)}else if("documentChange"in e){const r=e.documentChange,i=zs(n,r.document.name),l=Qr(r.document.updateTime),c=new Zr({mapValue:{fields:r.document.fields}}),p=Dn.newFoundDocument(i,l,c);t=new rp(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=zs(n,r.document),l=r.readTime?Qr(r.readTime):Rt.min(),c=Dn.newNoDocument(i,l);t=new rp([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=zs(n,r.document);t=new rp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return it();{const r=e.filter,l=new JD(r.count||0);t=new bw(r.targetId,l)}}var v;return t}(this.wt,e),r=function(i){if(!("targetChange"in i))return Rt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Rt.min():l.readTime?Qr(l.readTime):Rt.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=op(this.wt),t.addTarget=function(i,l){let c;const p=l.target;return c=Og(p)?{documents:d_(i,p)}:{query:Aw(i,p)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?c.resumeToken=ip(i,l.resumeToken):l.snapshotVersion.compareTo(Rt.min())>0&&(c.readTime=Sa(i,l.snapshotVersion.toTimestamp())),c}(this.wt,e);const r=function lI(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return it()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=op(this.wt),t.removeTarget=e,this.Oo(t)}}class f0 extends Ws{constructor(e,t,r,i,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.wt=l,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function ms(n,e){return n&&n.length>0?(at(void 0!==e),n.map(t=>function(r,i){let l=Qr(r.updateTime?r.updateTime:i);return l.isEqual(Rt.min())&&(l=Qr(i)),new qg(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.Jo(r,t)}return at(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=op(this.wt),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>_h(this.wt,r))};this.Oo(t)}}class kI extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new Oe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.bo.ro(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(fe.UNKNOWN,i.toString())})}ao(e,t,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.bo.ao(e,t,r,l,c,i)).catch(l=>{throw"FirebaseError"===l.name?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Oe(fe.UNKNOWN,l.toString())})}terminate(){this.Zo=!0}}class OI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Kt(t),this.su=!1):Pe("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class FI{constructor(e,t,r,i,l){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=l,this.du.Br(p=>{r.enqueueAndForget((0,ve.Z)(function*(){var v;Rl(c)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,ve.Z)(function*(E){const S=Ze(E);S.lu.add(4),yield Ra(S),S._u.set("Unknown"),S.lu.delete(4),yield yp(S)}),function(E){return v.apply(this,arguments)})(c))}))}),this._u=new OI(r,i)}}function yp(n){return _p.apply(this,arguments)}function _p(){return _p=(0,ve.Z)(function*(n){if(Rl(n))for(const e of n.fu)yield e(!0)}),_p.apply(this,arguments)}function Ra(n){return H_.apply(this,arguments)}function H_(){return H_=(0,ve.Z)(function*(n){for(const e of n.fu)yield e(!1)}),H_.apply(this,arguments)}function vp(n,e){const t=Ze(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),$_(t)?Rh(t):Oh(t).Co()&&Em(t,e))}function bp(n,e){const t=Ze(n),r=Oh(t);t.hu.delete(e),r.Co()&&G_(t,e),0===t.hu.size&&(r.Co()?r.ko():Rl(t)&&t._u.set("Unknown"))}function Em(n,e){n.wu.Nt(e.targetId),Oh(n).Qo(e)}function G_(n,e){n.wu.Nt(e),Oh(n).jo(e)}function Rh(n){n.wu=new Ew({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),Oh(n).start(),n._u.iu()}function $_(n){return Rl(n)&&!Oh(n).Do()&&n.hu.size>0}function Rl(n){return 0===Ze(n).lu.size}function z_(n){n.wu=void 0}function q_(n){return kh.apply(this,arguments)}function kh(){return kh=(0,ve.Z)(function*(n){n.hu.forEach((e,t)=>{Em(n,e)})}),kh.apply(this,arguments)}function W_(n,e){return wp.apply(this,arguments)}function wp(){return wp=(0,ve.Z)(function*(n,e){z_(n),$_(n)?(n._u.uu(e),Rh(n)):n._u.set("Unknown")}),wp.apply(this,arguments)}function p0(n,e,t){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,ve.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof Yg&&2===e.state&&e.cause)try{yield(r=(0,ve.Z)(function*(i,l){const c=l.cause;for(const p of l.targetIds)i.hu.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i.hu.delete(p),i.wu.removeTarget(p))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ep(n,r)}else if(e instanceof rp?n.wu.Ut(e):e instanceof bw?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(Rt.min()))try{const r=yield R_(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const c=i.wu.Yt(l);return c.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const E=i.hu.get(v);E&&i.hu.set(v,E.withResumeToken(p.resumeToken,l))}}),c.targetMismatches.forEach(p=>{const v=i.hu.get(p);if(!v)return;i.hu.set(p,v.withResumeToken(wr.EMPTY_BYTE_STRING,v.snapshotVersion)),G_(i,p);const E=new hi(v.target,p,1,v.sequenceNumber);Em(i,E)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield Ep(n,r)}var r}),Dm.apply(this,arguments)}function Ep(n,e,t){return Im.apply(this,arguments)}function Im(){return Im=(0,ve.Z)(function*(n,e,t){if(!wu(e))throw e;n.lu.add(1),yield Ra(n),n._u.set("Offline"),t||(t=()=>R_(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield yp(n)}))}),Im.apply(this,arguments)}function K_(n,e){return e().catch(t=>Ep(n,t,e))}function Kc(n){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,ve.Z)(function*(n){const e=Ze(n),t=kl(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;NI(e);)try{const i=yield r0(e.localStore,r);if(null===i){0===e.au.length&&t.ko();break}r=i.batchId,PI(e,i)}catch(i){yield Ep(e,i)}g0(e)&&m0(e)}),Z_.apply(this,arguments)}function NI(n){return Rl(n)&&n.au.length<10}function PI(n,e){n.au.push(e);const t=kl(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function g0(n){return Rl(n)&&!kl(n).Do()&&n.au.length>0}function m0(n){kl(n).start()}function LI(n){return Y_.apply(this,arguments)}function Y_(){return Y_=(0,ve.Z)(function*(n){kl(n).Xo()}),Y_.apply(this,arguments)}function BI(n){return Q_.apply(this,arguments)}function Q_(){return Q_=(0,ve.Z)(function*(n){const e=kl(n);for(const t of n.au)e.Ho(t.mutations)}),Q_.apply(this,arguments)}function VI(n,e,t){return X_.apply(this,arguments)}function X_(){return X_=(0,ve.Z)(function*(n,e,t){const r=n.au.shift(),i=om.from(r,e,t);yield K_(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Kc(n)}),X_.apply(this,arguments)}function UI(n,e){return J_.apply(this,arguments)}function J_(){return J_=(0,ve.Z)(function*(n,e){var t;e&&kl(n).zo&&(yield(t=(0,ve.Z)(function*(r,i){if(eI(l=i.code)&&l!==fe.ABORTED){const c=r.au.shift();kl(r).No(),yield K_(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Kc(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),g0(n)&&m0(n)}),J_.apply(this,arguments)}function y0(n,e){return ev.apply(this,arguments)}function ev(){return ev=(0,ve.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Rl(t);t.lu.add(3),yield Ra(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield yp(t)}),ev.apply(this,arguments)}function tv(n,e){return nv.apply(this,arguments)}function nv(){return nv=(0,ve.Z)(function*(n,e){const t=Ze(n);e?(t.lu.delete(2),yield yp(t)):e||(t.lu.add(2),yield Ra(t),t._u.set("Unknown"))}),nv.apply(this,arguments)}function Oh(n){return n.mu||(n.mu=function(e,t,r){const i=Ze(e);return i.tu(),new h0(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:q_.bind(null,n),Jr:W_.bind(null,n),Go:p0.bind(null,n)}),n.fu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.mu.No(),$_(n)?Rh(n):n._u.set("Unknown")):(yield n.mu.stop(),z_(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function kl(n){return n.gu||(n.gu=function(e,t,r){const i=Ze(e);return i.tu(),new f0(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:LI.bind(null,n),Jr:UI.bind(null,n),Yo:BI.bind(null,n),Jo:VI.bind(null,n)}),n.fu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.gu.No(),yield Kc(n)):(yield n.gu.stop(),n.au.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class xm{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,l){const c=Date.now()+r,p=new xm(e,t,c,i,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zc(n,e){if(Kt("AsyncQueue",`${e}: ${n}`),wu(n))return new Oe(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class Yc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ze.comparator(t.key,r.key):(t,r)=>ze.comparator(t.key,r.key),this.keyedMap=Zg(),this.sortedSet=new sr(this.comparator)}static emptySet(e){return new Yc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Yc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class rv{constructor(){this.yu=new sr(ze.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):it():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Qc{constructor(e,t,r,i,l,c,p,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new Qc(e,t,Yc.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class _0{constructor(){this.Iu=void 0,this.listeners=[]}}class v0{constructor(){this.queries=new Fc(e=>fw(e),dh),this.onlineState="Unknown",this.Tu=new Set}}function Cm(n,e){return Am.apply(this,arguments)}function Am(){return Am=(0,ve.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new _0),i)try{l.Iu=yield t.onListen(r)}catch(c){const p=Zc(c,`Initialization of query '${Bg(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,l),l.listeners.push(e),e.Eu(t.onlineState),l.Iu&&e.Au(l.Iu)&&Mu(t)}),Am.apply(this,arguments)}function Sm(n,e){return Ol.apply(this,arguments)}function Ol(){return Ol=(0,ve.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const c=l.listeners.indexOf(e);c>=0&&(l.listeners.splice(c,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Ol.apply(this,arguments)}function jI(n,e){const t=Ze(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.Au(i)&&(r=!0);c.Iu=i}}r&&Mu(t)}function HI(n,e,t){const r=Ze(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function Mu(n){n.Tu.forEach(e=>{e.next()})}class b0{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Qc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Qc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class iv{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class GI{constructor(e){this.wt=e}Wi(e){return zs(this.wt,e)}zi(e){return e.metadata.exists?u_(this.wt,e.document,!1):Dn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Qr(e)}}class w0{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sv(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Jt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new GI(this.wt);for(const i of e)if(i.metadata.queries){const l=r.Wi(i.metadata.name);for(const c of i.metadata.queries){const p=(t.get(c)||Pt()).add(l);t.set(c,p)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function MI(n,e,t,r){return Er.apply(this,arguments)}(e.localStore,new GI(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield a0(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function sv(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class $I{constructor(e){this.key=e}}class Dt{constructor(e){this.key=e}}class E0{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Pt(),this.mutatedKeys=Pt(),this.Lu=WD(e),this.Uu=new Yc(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new rv,i=t?t.Uu:this.Uu;let l=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const v="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,E="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,M)=>{const V=i.get(S),K=Vg(this.query,M)?M:null,Q=!!V&&this.mutatedKeys.has(V.key),ae=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Te=!1;V&&K?V.data.isEqual(K.data)?Q!==ae&&(r.track({type:3,doc:K}),Te=!0):this.Qu(V,K)||(r.track({type:2,doc:K}),Te=!0,(v&&this.Lu(K,v)>0||E&&this.Lu(K,E)<0)&&(p=!0)):!V&&K?(r.track({type:0,doc:K}),Te=!0):V&&!K&&(r.track({type:1,doc:V}),Te=!0,(v||E)&&(p=!0)),Te&&(K?(c=c.add(K),l=ae?l.add(S):l.delete(S)):(c=c.delete(S),l=l.delete(S)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const S="F"===this.query.limitType?c.last():c.first();c=c.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{Uu:c,Gu:r,Mi:p,mutatedKeys:l}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const l=e.Gu.pu();l.sort((E,S)=>function(M,V){const K=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return K(M)-K(V)}(E.type,S.type)||this.Lu(E.doc,S.doc)),this.ju(r);const c=t?this.Wu():[],p=0===this.Bu.size&&this.current?1:0,v=p!==this.$u;return this.$u=p,0!==l.length||v?{snapshot:new Qc(this.query,e.Uu,i,l,e.mutatedKeys,0===p,v,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new rv,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Pt(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new Dt(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new $I(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=Pt();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Qc.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class zI{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class qI{constructor(e){this.key=e,this.Xu=!1}}class Fh{constructor(e,t,r,i,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new Fc(p=>fw(p),dh),this.ec=new Map,this.nc=new Set,this.sc=new sr(ze.comparator),this.ic=new Map,this.rc=new Sh,this.oc={},this.uc=new Map,this.cc=qs.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function WI(n,e){return Nh.apply(this,arguments)}function Nh(){return Nh=(0,ve.Z)(function*(n,e){const t=vv(n);let r,i;const l=t.tc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.Yu();else{const c=yield qc(t.localStore,Gi(e));t.isPrimaryClient&&vp(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield Ph(t,e,r,"current"===p)}return i}),Nh.apply(this,arguments)}function Ph(n,e,t,r){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,ve.Z)(function*(n,e,t,r){n.hc=(S,M,V)=>{return(K=(0,ve.Z)(function*(Q,ae,Te,Be){let st=ae.view.Ku(Te);st.Mi&&(st=yield O_(Q.localStore,ae.query,!1).then(({documents:Tt})=>ae.view.Ku(Tt,st)));const bt=Be&&Be.targetChanges.get(ae.targetId),lt=ae.view.applyChanges(st,Q.isPrimaryClient,bt);return pv(Q,ae.targetId,lt.zu),lt.snapshot}),function(Q,ae,Te,Be){return K.apply(this,arguments)})(n,S,M,V);var K};const i=yield O_(n.localStore,e,!0),l=new E0(e,i.ji),c=l.Ku(i.documents),p=$s.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=l.applyChanges(c,n.isPrimaryClient,p);pv(n,t,v.zu);const E=new zI(e,t,l);return n.tc.set(e,E),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),v.snapshot}),Xn.apply(this,arguments)}function SA(n,e){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,ve.Z)(function*(n,e){const t=Ze(n),r=t.tc.get(e),i=t.ec.get(r.targetId);if(i.length>1)return t.ec.set(r.targetId,i.filter(l=>!dh(l,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Wc(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),bp(t.remoteStore,r.targetId),Xc(t,r.targetId)}).catch(bu))):(Xc(t,r.targetId),yield Wc(t.localStore,r.targetId,!0))}),Tm.apply(this,arguments)}function ov(){return ov=(0,ve.Z)(function*(n,e,t){const r=bv(n);try{const i=yield function(l,c){const p=Ze(l),v=ir.now(),E=c.reduce((V,K)=>V.add(K.key),Pt());let S,M;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let K=gs(),Q=Pt();return p.Ui.getEntries(V,E).next(ae=>{K=ae,K.forEach((Te,Be)=>{Be.isValidDocument()||(Q=Q.add(Te))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,K)).next(ae=>{S=ae;const Te=[];for(const Be of c){const st=YD(Be,S.get(Be.key).overlayedDocument);null!=st&&Te.push(new Aa(Be.key,st,e_(st.value.mapValue),Rn.exists(!0)))}return p.mutationQueue.addMutationBatch(V,v,Te,c)}).next(ae=>{M=ae;const Te=ae.applyToLocalDocumentSet(S,Q);return p.documentOverlayCache.saveOverlays(V,ae.batchId,Te)})}).then(()=>({batchId:M.batchId,changes:rI(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,p){let v=l.oc[l.currentUser.toKey()];v||(v=new sr(Et)),v=v.insert(c,p),l.oc[l.currentUser.toKey()]=v}(r,i.batchId,t),yield Fl(r,i.changes),yield Kc(r.remoteStore)}catch(i){const l=Zc(i,"Failed to persist write");t.reject(l)}}),ov.apply(this,arguments)}function av(n,e){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,ve.Z)(function*(n,e){const t=Ze(n);try{const r=yield n0(t.localStore,e);e.targetChanges.forEach((i,l)=>{const c=t.ic.get(l);c&&(at(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Xu=!0:i.modifiedDocuments.size>0?at(c.Xu):i.removedDocuments.size>0&&(at(c.Xu),c.Xu=!1))}),yield Fl(t,r,e)}catch(r){yield bu(r)}}),Mm.apply(this,arguments)}function lv(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.tc.forEach((l,c)=>{const p=c.view.Eu(e);p.snapshot&&i.push(p.snapshot)}),function(l,c){const p=Ze(l);p.onlineState=c;let v=!1;p.queries.forEach((E,S)=>{for(const M of S.listeners)M.Eu(c)&&(v=!0)}),v&&Mu(p)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function I0(n,e,t){return uv.apply(this,arguments)}function uv(){return uv=(0,ve.Z)(function*(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ic.get(e),l=i&&i.key;if(l){let c=new sr(ze.comparator);c=c.insert(l,Dn.newNoDocument(l,Rt.min()));const p=Pt().add(l),v=new np(Rt.min(),new Map,new un(Et),c,p);yield av(r,v),r.sc=r.sc.remove(l),r.ic.delete(e),Jc(r)}else yield Wc(r.localStore,e,!1).then(()=>Xc(r,e,t)).catch(bu)}),uv.apply(this,arguments)}function KI(n,e){return cv.apply(this,arguments)}function cv(){return cv=(0,ve.Z)(function*(n,e){const t=Ze(n),r=e.batch.batchId;try{const i=yield t0(t.localStore,e);Rm(t,r,null),Lh(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Fl(t,i)}catch(i){yield bu(i)}}),cv.apply(this,arguments)}function Dp(n,e,t){return dv.apply(this,arguments)}function dv(){return dv=(0,ve.Z)(function*(n,e,t){const r=Ze(n);try{const i=yield function(l,c){const p=Ze(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let E;return p.mutationQueue.lookupMutationBatch(v,c).next(S=>(at(null!==S),E=S.keys(),p.mutationQueue.removeMutationBatch(v,S))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,E,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E)).next(()=>p.localDocuments.getDocuments(v,E))})}(r.localStore,e);Rm(r,e,t),Lh(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Fl(r,i)}catch(i){yield bu(i)}}),dv.apply(this,arguments)}function hv(){return hv=(0,ve.Z)(function*(n,e){const t=Ze(n);Rl(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const c=Ze(l);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.uc.get(r)||[];i.push(e),t.uc.set(r,i)}catch(r){const i=Zc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),hv.apply(this,arguments)}function Lh(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function Rm(n,e,t){const r=Ze(n);let i=r.oc[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function Xc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||fv(n,r)})}function fv(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(bp(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),Jc(n))}function pv(n,e,t){for(const r of t)r instanceof $I?(n.rc.addReference(r.key,e),Ip(n,r)):r instanceof Dt?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||fv(n,r.key)):it()}function Ip(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.nc.add(r),Jc(n))}function Jc(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new ze(Jt.fromString(e)),r=n.cc.next();n.ic.set(r,new qI(t)),n.sc=n.sc.insert(t,r),vp(n.remoteStore,new hi(Gi(Cl(t.path)),r,2,Ei.ot))}}function Fl(n,e,t){return gv.apply(this,arguments)}function gv(){return gv=(0,ve.Z)(function*(n,e,t){const r=Ze(n),i=[],l=[],c=[];var p;r.tc.isEmpty()||(r.tc.forEach((p,v)=>{c.push(r.hc(v,e,t).then(E=>{if(E){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,E.fromCache?"not-current":"current"),i.push(E);const S=_m.Vi(v.targetId,E);l.push(S)}}))}),yield Promise.all(c),r.Zu.Go(i),yield(p=(0,ve.Z)(function*(v,E){const S=Ze(v);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>ce.forEach(E,V=>ce.forEach(V.Pi,K=>S.persistence.referenceDelegate.addReference(M,V.targetId,K)).next(()=>ce.forEach(V.vi,K=>S.persistence.referenceDelegate.removeReference(M,V.targetId,K)))))}catch(M){if(!wu(M))throw M;Pe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of E){const V=M.targetId;if(!M.fromCache){const K=S.$i.get(V),ae=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);S.$i=S.$i.insert(V,ae)}}}),function(v,E){return p.apply(this,arguments)})(r.localStore,l))}),gv.apply(this,arguments)}function YI(n,e){return km.apply(this,arguments)}function km(){return km=(0,ve.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield M_(t.localStore,e);t.currentUser=e,(i=t).uc.forEach(c=>{c.forEach(p=>{p.reject(new Oe(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Fl(t,r.Ki)}var i}),km.apply(this,arguments)}function x0(n,e){const t=Ze(n),r=t.ic.get(e);if(r&&r.Xu)return Pt().add(r.key);{let i=Pt();const l=t.ec.get(e);if(!l)return i;for(const c of l){const p=t.tc.get(c);i=i.unionWith(p.view.qu)}return i}}function C0(n,e){return mv.apply(this,arguments)}function mv(){return mv=(0,ve.Z)(function*(n,e){const t=Ze(n),r=yield O_(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&pv(t,e.targetId,i.zu),i}),mv.apply(this,arguments)}function A0(n,e){return yv.apply(this,arguments)}function yv(){return yv=(0,ve.Z)(function*(n,e){const t=Ze(n);return o0(t.localStore,e).then(r=>Fl(t,r))}),yv.apply(this,arguments)}function QI(n,e,t,r){return S0.apply(this,arguments)}function S0(){return S0=(0,ve.Z)(function*(n,e,t,r){const i=Ze(n),l=yield function(c,p){const v=Ze(c),E=Ze(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",S=>E.yn(S,p).next(M=>M?v.localDocuments.getDocuments(S,M):ce.resolve(null)))}(i.localStore,e);var p;null!==l?("pending"===t?yield Kc(i.remoteStore):"acknowledged"===t||"rejected"===t?(Rm(i,e,r||null),Lh(i,e),p=e,Ze(Ze(i.localStore).mutationQueue).In(p)):it(),yield Fl(i,l)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),S0.apply(this,arguments)}function T0(){return T0=(0,ve.Z)(function*(n,e){const t=Ze(n);if(vv(t),bv(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield XI(t,r.toArray());t.ac=!0,yield tv(t.remoteStore,!0);for(const l of i)vp(t.remoteStore,l)}else if(!1===e&&!1!==t.ac){const r=[];let i=Promise.resolve();t.ec.forEach((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(Xc(t,c),Wc(t.localStore,c,!0))),bp(t.remoteStore,c)}),yield i,yield XI(t,r),function(l){const c=Ze(l);c.ic.forEach((p,v)=>{bp(c.remoteStore,v)}),c.rc.cs(),c.ic=new Map,c.sc=new sr(ze.comparator)}(t),t.ac=!1,yield tv(t.remoteStore,!1)}}),T0.apply(this,arguments)}function XI(n,e,t){return Om.apply(this,arguments)}function Om(){return Om=(0,ve.Z)(function*(n,e,t){const r=Ze(n),i=[],l=[];for(const c of e){let p;const v=r.ec.get(c);if(v&&0!==v.length){p=yield qc(r.localStore,Gi(v[0]));for(const E of v){const S=r.tc.get(E),M=yield C0(r,S);M.snapshot&&l.push(M.snapshot)}}else{const E=yield s0(r.localStore,c);p=yield qc(r.localStore,E),yield Ph(r,xp(E),c,!1)}i.push(p)}return r.Zu.Go(l),i}),Om.apply(this,arguments)}function xp(n){return r_(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function JI(n){const e=Ze(n);return Ze(Ze(e.localStore).persistence).Ri()}function ex(n,e,t,r){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,ve.Z)(function*(n,e,t,r){const i=Ze(n);if(i.ac)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const l=i.ec.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=yield o0(i.localStore,Ug(l[0])),p=np.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Fl(i,c,p);break}case"rejected":yield Wc(i.localStore,e,!0),Xc(i,e,r);break;default:it()}}),Fm.apply(this,arguments)}function Cp(n,e,t){return _v.apply(this,arguments)}function _v(){return _v=(0,ve.Z)(function*(n,e,t){const r=vv(n);if(r.ac){for(const i of e){if(r.ec.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const l=yield s0(r.localStore,i),c=yield qc(r.localStore,l);yield Ph(r,xp(l),c.targetId,!1),vp(r.remoteStore,c)}for(const i of t)r.ec.has(i)&&(yield Wc(r.localStore,i,!1).then(()=>{bp(r.remoteStore,i),Xc(r,i)}).catch(bu))}}),_v.apply(this,arguments)}function vv(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=av.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I0.bind(null,e),e.Zu.Go=jI.bind(null,e.eventManager),e.Zu.lc=HI.bind(null,e.eventManager),e}function bv(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dp.bind(null,e),e}class M0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.wt=zi(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return T_(this.persistence,new Jw,e.initialUser,this.wt)}_c(e){return new C_(fp.Os,this.wt)}dc(e){return new u0}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wv extends M0{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield bv(r.yc.syncEngine),yield Kc(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return T_(this.persistence,new Jw,e.initialUser,this.wt)}mc(e,t){return new qw(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new VD(t,this.persistence);return new BD(e.asyncQueue,r)}_c(e){const t=ym(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?kr.withCacheSize(this.cacheSizeBytes):kr.DEFAULT;return new S_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,d0(),wm(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new u0}}class nx extends wv{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e);const i=r.yc.syncEngine;r.sharedClientState instanceof bm&&(r.sharedClientState.syncEngine={kr:QI.bind(null,i),Mr:ex.bind(null,i),Or:Cp.bind(null,i),Ri:JI.bind(null,i),Nr:A0.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var l=(0,ve.Z)(function*(c){yield function TA(n,e){return T0.apply(this,arguments)}(r.yc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return l.apply(this,arguments)}}())})()}dc(e){const t=d0();if(!bm.V(t))throw new Oe(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=ym(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bm(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ev{initialize(e,t){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>lv(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=YI.bind(null,r.syncEngine),yield tv(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new v0}createDatastore(e){const t=zi(e.databaseInfo.databaseId),r=new Ma(e.databaseInfo);return new kI(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=p=>lv(this.syncEngine,p,0),c=RI.V()?new RI:new c0,new FI(t,r,i,l,c);var t,r,i,l,c}createSyncEngine(e,t){return function(r,i,l,c,p,v,E){const S=new Fh(r,i,l,c,p,v);return E&&(S.ac=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const r=Ze(t);Pe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Ra(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function ed(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Nm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):Kt("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class R0{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new jr,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),i=Number(r);isNaN(i)&&e.Pc(`length string (${r}) is not valid number`);const l=yield e.vc(i);return new iv(JSON.parse(l),t.length+i)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,ve.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class rx{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ve.Z)(function*(l,c){const p=Ze(l),v=op(p.wt)+"/documents",E={documents:c.map(K=>Pc(p.wt,K))},S=yield p.ao("BatchGetDocuments",v,E,c.length),M=new Map;S.forEach(K=>{const Q=function oI(n,e){return"found"in e?function(t,r){at(!!r.found);const i=zs(t,r.found.name),l=Qr(r.found.updateTime),c=new Zr({mapValue:{fields:r.found.fields}});return Dn.newFoundDocument(i,l,c)}(n,e):"missing"in e?function(t,r){at(!!r.missing),at(!!r.readTime);const i=zs(t,r.missing),l=Qr(r.readTime);return Dn.newNoDocument(i,l)}(n,e):it()}(p.wt,K);M.set(Q.key.toString(),Q)});const V=[];return c.forEach(K=>{const Q=M.get(K.toString());at(!!Q),V.push(Q)}),V}),function(l,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Oc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=ze.fromPath(i);e.mutations.push(new Kg(l,e.precondition(l)))}),yield(r=(0,ve.Z)(function*(i,l){const c=Ze(i),p=op(c.wt)+"/documents",v={writes:l.map(E=>_h(c.wt,E))};yield c.ro("Commit",p,v)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw it();t=Rt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Oe(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Rn.updateTime(t):Rn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rt.min()))throw new Oe(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rn.updateTime(t)}return Rn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class k0{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.Dc=r.maxAttempts,this.So=new vs(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,ve.Z)(function*(){const t=new rx(e.datastore),r=e.xc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Nc(l)}))}).catch(i=>{e.Nc(i)})}))}xc(e){try{const t=this.updateFunction(e);return!ih(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!eI(t)}return!1}}class ix{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Kr.UNAUTHENTICATED,this.clientId=wc.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,ve.Z)(function*(p){Pe("FirestoreClient","Received user=",p.uid),yield l.authCredentialListener(p),l.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Pe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Zc(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Dv(n,e){return Iv.apply(this,arguments)}function Iv(){return Iv=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ve.Z)(function*(l){r.isEqual(l)||(yield M_(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Iv.apply(this,arguments)}function Pm(n,e){return xv.apply(this,arguments)}function xv(){return xv=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Lm(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>y0(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>y0(e.remoteStore,l)),n.onlineComponents=e}),xv.apply(this,arguments)}function Lm(n){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,ve.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield Dv(n,new M0)),n.offlineComponents}),Bm.apply(this,arguments)}function Vm(n){return Cv.apply(this,arguments)}function Cv(){return Cv=(0,ve.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield Pm(n,new Ev)),n.onlineComponents}),Cv.apply(this,arguments)}function O0(n){return Lm(n).then(e=>e.persistence)}function Bh(n){return Lm(n).then(e=>e.localStore)}function F0(n){return Vm(n).then(e=>e.remoteStore)}function Um(n){return Vm(n).then(e=>e.syncEngine)}function Vh(n){return Av.apply(this,arguments)}function Av(){return Av=(0,ve.Z)(function*(n){const e=yield Vm(n),t=e.eventManager;return t.onListen=WI.bind(null,e.syncEngine),t.onUnlisten=SA.bind(null,e.syncEngine),t}),Av.apply(this,arguments)}function N0(n,e,t={}){const r=new jr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,l,c,p,v){const E=new Nm({next:M=>{l.enqueueAndForget(()=>Sm(i,S));const V=M.docs.has(c);!V&&M.fromCache?v.reject(new Oe(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&M.fromCache&&p&&"server"===p.source?v.reject(new Oe(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(M)},error:M=>v.reject(M)}),S=new b0(Cl(c.path),E,{includeMetadataChanges:!0,Du:!0});return Cm(i,S)}(yield Vh(n),n.asyncQueue,e,t,r)})),r.promise}function P0(n,e,t={}){const r=new jr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,l,c,p,v){const E=new Nm({next:M=>{l.enqueueAndForget(()=>Sm(i,S)),M.fromCache&&"server"===p.source?v.reject(new Oe(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(M)},error:M=>v.reject(M)}),S=new b0(c,E,{includeMetadataChanges:!0,Du:!0});return Cm(i,S)}(yield Vh(n),n.asyncQueue,e,t,r)})),r.promise}const Sv=new Map;function Tv(n,e,t){if(!t)throw new Oe(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function V0(n,e,t,r){if(!0===e&&!0===r)throw new Oe(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function U0(n){if(!ze.isDocumentKey(n))throw new Oe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jm(n){if(ze.isDocumentKey(n))throw new Oe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Uh(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":it()}function Wt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uh(n);throw new Oe(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Hm(n,e){if(e<=0)throw new Oe(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class j0{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,V0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ap{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j0({}),this._settingsFrozen=!1,e instanceof El?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Oe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new El(i.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j0(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Qb;switch(t.type){case"gapi":const r=t.client;return at(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new FD(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Sv.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),Sv.delete(e),t.terminate())}(this),Promise.resolve()}}class Vn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class fi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fi(this.firestore,e,this._query)}}class Ci extends fi{constructor(e,t,r){super(e,t,Cl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new ze(e))}withConverter(e){return new Ci(this.firestore,e,this._path)}}function H0(n,e,...t){if(n=(0,Mt.m9)(n),Tv("collection","path",e),n instanceof Ap){const r=Jt.fromString(e,...t);return jm(r),new Ci(n,null,r)}{if(!(n instanceof Vn||n instanceof Ci))throw new Oe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return jm(r),new Ci(n.firestore,null,r)}}function Rv(n,e,...t){if(n=(0,Mt.m9)(n),1===arguments.length&&(e=wc.I()),Tv("doc","path",e),n instanceof Ap){const r=Jt.fromString(e,...t);return U0(r),new Vn(n,null,new ze(r))}{if(!(n instanceof Vn||n instanceof Ci))throw new Oe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return U0(r),new Vn(n.firestore,n instanceof Ci?n.converter:null,new ze(r))}}function kv(n,e){return n=(0,Mt.m9)(n),e=(0,Mt.m9)(e),(n instanceof Vn||n instanceof Ci)&&(e instanceof Vn||e instanceof Ci)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Gm(n,e){return n=(0,Mt.m9)(n),e=(0,Mt.m9)(e),n instanceof fi&&e instanceof fi&&n.firestore===e.firestore&&dh(n._query,e._query)&&n.converter===e.converter}class hx{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new vs(this,"async_queue_retry"),this.Kc=()=>{const t=wm();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=wm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=wm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new jr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(t){if(!wu(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Mc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,Kt("INTERNAL UNHANDLED ERROR: ",function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),c}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Mc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const i=xm.createAndSchedule(this,e,t,r,l=>this.Wc(l));return this.$c.push(i),i}Gc(){this.Bc&&it()}verifyOperationInProgress(){}zc(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Mc,yield t}while(t!==e.Mc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function $m(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class fx{constructor(){this._progressObserver={},this._taskCompletionResolver=new jr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class kn extends Ap{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new hx,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ov(this),this._firestoreClient.terminate()}}function Dr(n){return n._firestoreClient||Ov(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Ov(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Xf(n._databaseId,l,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var l,p;n._firestoreClient=new ix(n._authCredentials,n._appCheckCredentials,n._queue,r)}function G0(n,e,t){const r=new jr;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield Dv(n,t),yield Pm(n,e),r.resolve()}catch(i){const l=i;if(!("FirebaseError"===(c=l).name?c.code===fe.FAILED_PRECONDITION||c.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw l;bl("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var c})).then(()=>r.promise)}function wx(n){if(n._initialized||n._terminated)throw new Oe(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Nl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ka{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ka(wr.fromBase64String(e))}catch(t){throw new Oe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ka(wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class td{constructor(e){this._methodName=e}}class zm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Et(this._lat,e._lat)||Et(this._long,e._long)}}const Ex=/^__.*__$/;class Dx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Aa(e,this.data,this.fieldMask,t,this.fieldTransforms):new gh(e,this.data,t,this.fieldTransforms)}}class q0{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Aa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function W0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class qm{constructor(e,t,r,i,l,c){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=i,void 0===l&&this.Xc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new qm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return bs(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(W0(this.Zc)&&Ex.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class Ix{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||zi(e)}aa(e,t,r,i=!1){return new qm({Zc:e,methodName:t,ca:r,path:Qn.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function nd(n){const e=n._freezeSettings(),t=zi(n._databaseId);return new Ix(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ru(n,e,t,r,i,l={}){const c=n.aa(l.merge||l.mergeFields?2:0,e,t,i);Lv("Data must be an object, but it was:",c,r);const p=X0(r,c);let v,E;if(l.merge)v=new Hi(c.fieldMask),E=c.fieldTransforms;else if(l.mergeFields){const S=[];for(const M of l.mergeFields){const V=id(e,M,t);if(!c.contains(V))throw new Oe(fe.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);eE(S,V)||S.push(V)}v=new Hi(S),E=c.fieldTransforms.filter(M=>v.covers(M.field))}else v=null,E=c.fieldTransforms;return new Dx(new Zr(p),v,E)}class jh extends td{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}function Fv(n,e,t){return new qm({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class Wm extends td{_toFieldTransform(e){return new hh(e.path,new Mc)}isEqual(e){return e instanceof Wm}}class K0 extends td{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=Fv(this,e,!0),r=this.ha.map(l=>rd(l,t)),i=new Rc(r);return new hh(e.path,i)}isEqual(e){return this===e}}class Z0 extends td{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=Fv(this,e,!0),r=this.ha.map(l=>rd(l,t)),i=new Di(r);return new hh(e.path,i)}isEqual(e){return this===e}}class Y0 extends td{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new kc(e.wt,Tc(e.wt,this.la));return new hh(e.path,t)}isEqual(e){return this===e}}function Nv(n,e,t,r){const i=n.aa(1,e,t);Lv("Data must be an object, but it was:",i,r);const l=[],c=Zr.empty();ps(r,(v,E)=>{const S=Hh(e,v,t);E=(0,Mt.m9)(E);const M=i.ia(S);if(E instanceof jh)l.push(S);else{const V=rd(E,M);null!=V&&(l.push(S),c.set(S,V))}});const p=new Hi(l);return new q0(c,p,i.fieldTransforms)}function Q0(n,e,t,r,i,l){const c=n.aa(1,e,t),p=[id(e,r,t)],v=[i];if(l.length%2!=0)throw new Oe(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<l.length;V+=2)p.push(id(e,l[V])),v.push(l[V+1]);const E=[],S=Zr.empty();for(let V=p.length-1;V>=0;--V)if(!eE(E,p[V])){const K=p[V];let Q=v[V];Q=(0,Mt.m9)(Q);const ae=c.ia(K);if(Q instanceof jh)E.push(K);else{const Te=rd(Q,ae);null!=Te&&(E.push(K),S.set(K,Te))}}const M=new Hi(E);return new q0(S,M,c.fieldTransforms)}function Pv(n,e,t,r=!1){return rd(t,n.aa(r?4:3,e))}function rd(n,e){if(J0(n=(0,Mt.m9)(n)))return Lv("Unsupported field value:",e,n),X0(n,e);if(n instanceof td)return function(t,r){if(!W0(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const c of t){let p=rd(c,r.ra(l));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Mt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tc(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ir.fromDate(t);return{timestampValue:Sa(r.wt,i)}}if(t instanceof ir){const i=new ir(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Sa(r.wt,i)}}if(t instanceof zm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ka)return{bytesValue:ip(r.wt,t._byteString)};if(t instanceof Vn){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.oa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Xg(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${Uh(t)}`)}(n,e)}function X0(n,e){const t={};return Ky(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(n,(r,i)=>{const l=rd(i,e.ea(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function J0(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ir||n instanceof zm||n instanceof ka||n instanceof Vn||n instanceof td)}function Lv(n,e,t){if(!J0(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Uh(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function id(n,e,t){if((e=(0,Mt.m9)(e))instanceof Nl)return e._internalPath;if("string"==typeof e)return Hh(n,e);throw bs("Field path arguments must be of type string or ",n,!1,void 0,t)}const xx=new RegExp("[~\\*/\\[\\]]");function Hh(n,e,t){if(e.search(xx)>=0)throw bs(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Nl(...e.split("."))._internalPath}catch{throw bs(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bs(n,e,t,r,i){const l=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(l||c)&&(v+=" (found",l&&(v+=` in field ${r}`),c&&(v+=` in document ${i}`),v+=")"),new Oe(fe.INVALID_ARGUMENT,p+n+v)}function eE(n,e){return n.some(t=>t.isEqual(e))}class sd{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Km("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Sp extends sd{data(){return super.data()}}function Km(n,e){return"string"==typeof e?Hh(n,e):e instanceof Nl?e._internalPath:e._delegate._internalPath}class od{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pl extends sd{constructor(e,t,r,i,l,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Km("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ku extends Pl{data(e={}){return super.data(e)}}class Ao{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new od(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ku(this._firestore,this._userDataWriter,r.key,r,new od(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new ku(r._firestore,r._userDataWriter,c.doc.key,c.doc,new od(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new ku(r._firestore,r._userDataWriter,c.doc.key,c.doc,new od(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,E=-1;return 0!==c.type&&(v=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),1!==c.type&&(l=l.add(c.doc),E=l.indexOf(c.doc.key)),{type:Cx(c.type),doc:p,oldIndex:v,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Cx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function tE(n,e){return n instanceof Pl&&e instanceof Pl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ao&&e instanceof Ao&&n._firestore===e._firestore&&Gm(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Bv(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gh{}function Oa(n,...e){for(const t of e)n=t._apply(n);return n}class nE extends Gh{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=nd(e.firestore),r=function(i,l,c,p,v,E,S){let M;if(v.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){Hv(S,E);const K=[];for(const Q of S)K.push(Qm(p,i,Q));M={arrayValue:{values:K}}}else M=Qm(p,i,S)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||Hv(S,E),M=Pv(c,"where",S,"in"===E||"not-in"===E);const V=Yr.create(v,E,M);return function(K,Q){if(Q.ht()){const Te=i_(K);if(null!==Te&&!Te.isEqual(Q.field))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Te.toString()}' and '${Q.field.toString()}'`);const Be=Pg(K);null!==Be&&Gv(0,Q.field,Be)}const ae=function(Te,Be){for(const st of Te.filters)if(Be.indexOf(st.op)>=0)return st.op;return null}(K,function(Te){switch(Te){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Q.op));if(null!==ae)throw new Oe(fe.INVALID_ARGUMENT,ae===Q.op?`Invalid query. You cannot use more than one '${Q.op.toString()}' filter.`:`Invalid query. You cannot use '${Q.op.toString()}' filters with '${ae.toString()}' filters.`)}(i,V),V}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new fi(e.firestore,e.converter,function(i,l){const c=i.filters.concat([l]);return new xl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class Sx extends Gh{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Ac(i,l);return function(p,v){if(null===Pg(p)){const E=i_(p);null!==E&&Gv(0,E,v.field)}}(r,c),c}(e._query,this.fa,this.wa);return new fi(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new xl(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Zm extends Gh{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new fi(e.firestore,e.converter,Lg(e._query,this.ma,this.ga))}}class Ym extends Gh{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=jv(e,this.type,this.ya,this.pa);return new fi(e.firestore,e.converter,(i=t,new xl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class iE extends Gh{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=jv(e,this.type,this.ya,this.pa);return new fi(e.firestore,e.converter,(i=t,new xl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function jv(n,e,t,r){if(t[0]=(0,Mt.m9)(t[0]),t[0]instanceof sd)return function(i,l,c,p,v){if(!p)throw new Oe(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const E=[];for(const S of ch(i))if(S.field.isKeyField())E.push(ti(l,p.key));else{const M=p.data.field(S.field);if(Qf(M))throw new Oe(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const V=S.field.canonicalString();throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}E.push(M)}return new Cu(E,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=nd(n.firestore);return function(l,c,p,v,E,S){const M=l.explicitOrderBy;if(E.length>M.length)throw new Oe(fe.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let K=0;K<E.length;K++){const Q=E[K];if(M[K].field.isKeyField()){if("string"!=typeof Q)throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Q}`);if(!s_(l)&&-1!==Q.indexOf("/"))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Q}' contains a slash.`);const ae=l.path.child(Jt.fromString(Q));if(!ze.isDocumentKey(ae))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${ae}' is not because it contains an odd number of segments.`);const Te=new ze(ae);V.push(ti(c,Te))}else{const ae=Pv(p,v,Q);V.push(ae)}}return new Cu(V,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Qm(n,e,t){if("string"==typeof(t=(0,Mt.m9)(t))){if(""===t)throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!s_(e)&&-1!==t.indexOf("/"))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Jt.fromString(t));if(!ze.isDocumentKey(r))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ti(n,new ze(r))}if(t instanceof Vn)return ti(n,t._key);throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(t)}.`)}function Hv(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Gv(n,e,t){if(!t.isEqual(e))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const sE={maxAttempts:5};class Xm{convertValue(e,t="none"){switch(Du(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Eu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw it()}}convertObject(e,t){const r={};return ps(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new zm(Bn(e.latitude),Bn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Zy(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(xc(e));default:return null}}convertTimestamp(e){const t=Do(e);return new ir(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Jt.fromString(e);at(Rw(r));const i=new El(r.get(1),r.get(3)),l=new ze(r.popFirst(5));return i.isEqual(t)||Kt(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Jm(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class oE extends Xm{constructor(e){super(),this.firestore=e}convertBytes(e){return new ka(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}class $v{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=nd(e)}set(e,t,r){this._verifyNotCommitted();const i=Ou(e,this._firestore),l=Jm(i.converter,t,r),c=Ru(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Rn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=Ou(e,this._firestore);let c;return c="string"==typeof(t=(0,Mt.m9)(t))||t instanceof Nl?Q0(this._dataReader,"WriteBatch.update",l._key,t,r,i):Nv(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Rn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ou(e,this._firestore);return this._mutations=this._mutations.concat(new Oc(t._key,Rn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ou(n,e){if((n=(0,Mt.m9)(n)).firestore!==e)throw new Oe(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ad extends Xm{constructor(e){super(),this.firestore=e}convertBytes(e){return new ka(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}function Fx(n,e,t){n=Wt(n,Vn);const r=Wt(n.firestore,kn),i=Jm(n.converter,e,t);return zh(r,[Ru(nd(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Rn.none())])}function zv(n,e,t,...r){n=Wt(n,Vn);const i=Wt(n.firestore,kn),l=nd(i);let c;return c="string"==typeof(e=(0,Mt.m9)(e))||e instanceof Nl?Q0(l,"updateDoc",n._key,e,t,r):Nv(l,"updateDoc",n._key,e),zh(i,[c.toMutation(n._key,Rn.exists(!0))])}function uE(n,...e){var t,r,i;n=(0,Mt.m9)(n);let l={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||$m(e[c])||(l=e[c],c++);const p={includeMetadataChanges:l.includeMetadataChanges};if($m(e[c])){const M=e[c];e[c]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[c+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[c+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let v,E,S;if(n instanceof Vn)E=Wt(n.firestore,kn),S=Cl(n._key.path),v={next:M=>{e[c]&&e[c](ey(E,n,M))},error:e[c+1],complete:e[c+2]};else{const M=Wt(n,fi);E=Wt(M.firestore,kn),S=M._query;const V=new ad(E);v={next:K=>{e[c]&&e[c](new Ao(E,V,M,K))},error:e[c+1],complete:e[c+2]},Bv(n._query)}return function(M,V,K,Q){const ae=new Nm(Q),Te=new b0(V,ae,K);return M.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return Cm(yield Vh(M),Te)})),()=>{ae.Tc(),M.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return Sm(yield Vh(M),Te)}))}}(Dr(E),S,p,v)}function zh(n,e){return function(t,r){const i=new jr;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function D0(n,e,t){return ov.apply(this,arguments)}(yield Um(t),r,i)})),i.promise}(Dr(n),e)}function ey(n,e,t){const r=t.docs.get(e._key),i=new ad(n);return new Pl(n,i,e._key,r,new od(t.hasPendingWrites,t.fromCache),e.converter)}class Nx extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=nd(e)}get(e){const t=Ou(e,this._firestore),r=new oE(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return it();const l=i[0];if(l.isFoundDocument())return new sd(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new sd(this._firestore,r,t._key,null,t.converter);throw it()})}set(e,t,r){const i=Ou(e,this._firestore),l=Jm(i.converter,t,r),c=Ru(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const l=Ou(e,this._firestore);let c;return c="string"==typeof(t=(0,Mt.m9)(t))||t instanceof Nl?Q0(this._dataReader,"Transaction.update",l._key,t,r,i):Nv(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=Ou(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ou(e,this._firestore),r=new ad(this._firestore);return super.get(e).then(i=>new Pl(this._firestore,r,t._key,i._document,new od(!1,!1),t.converter))}}function ty(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function ld(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function pE(){if(!function iw(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){th=ao.SDK_VERSION,(0,ao._registerComponent)(new aa.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new kn(i,new Xb(t.getProvider("auth-internal")),new ND(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,ao.registerVersion)(Eg,"3.4.14",n),(0,ao.registerVersion)(Eg,"3.4.14","esm2017")}();class qh{constructor(e){this._delegate=e}static fromBase64String(e){return pE(),new qh(ka.fromBase64String(e))}static fromUint8Array(e){return ld(),new qh(ka.fromUint8Array(e))}toBase64(){return pE(),this._delegate.toBase64()}toUint8Array(){return ld(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Rp(n){return function PA(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Ux{enableIndexedDbPersistence(e,t){return function yx(n,e){wx(n=Wt(n,kn));const t=Dr(n),r=n._freezeSettings(),i=new Ev;return G0(t,i,new wv(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function _x(n){wx(n=Wt(n,kn));const e=Dr(n),t=n._freezeSettings(),r=new Ev;return G0(e,r,new nx(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function vx(n){if(n._initialized&&!n._terminated)throw new Oe(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new jr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(r){if(!Eo.V())return Promise.resolve();const i=r+"main";yield Eo.delete(i)}),function(r){return t.apply(this,arguments)})(ym(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class jx{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof El||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&bl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Mv(n,e,t,r={}){var i;const l=(n=Wt(n,Ap))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&bl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,p;if("string"==typeof r.mockUserToken)c=r.mockUserToken,p=Kr.MOCK_USER;else{c=(0,Mt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Oe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Kr(v)}n._authCredentials=new kD(new Yb(c,p))}}(this._delegate,e,t,r)}enableNetwork(){return function MA(n){return function sx(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield O0(n),t=yield F0(n);return e.setNetworkEnabled(!0),function(r){const i=Ze(r);return i.lu.delete(0),yp(i)}(t)}))}(Dr(n=Wt(n,kn)))}(this._delegate)}disableNetwork(){return function z0(n){return function ox(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield O0(n),t=yield F0(n);return e.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(i){const l=Ze(i);l.lu.add(0),yield Ra(l),l._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Dr(n=Wt(n,kn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,V0("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function $0(n){return function(e){const t=new jr;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function ZI(n,e){return hv.apply(this,arguments)}(yield Um(e),t)})),t.promise}(Dr(n=Wt(n,kn)))}(this._delegate)}onSnapshotsInSync(e){return function qv(n,e){return function L0(n,e){const t=new Nm(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Vh(n),i=t,Ze(r).Tu.add(i),void i.next();var r,i})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield Vh(n),i=t,void Ze(r).Tu.delete(i);var r,i}))}}(Dr(n=Wt(n,kn)),$m(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ud(this,H0(this._delegate,e))}catch(t){throw pi(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ks(this,Rv(this._delegate,e))}catch(t){throw pi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Si(this,function dx(n,e){if(n=Wt(n,Ap),Tv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fi(n,null,(t=e,new xl(Jt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw pi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Px(n,e,t){n=Wt(n,kn);const r=Object.assign(Object.assign({},sE),t);return function(i){if(i.maxAttempts<1)throw new Oe(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function B0(n,e,t){const r=new jr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const i=yield(l=n,Vm(l).then(c=>c.datastore));var l;new k0(n.asyncQueue,i,t,e,r).run()})),r.promise}(Dr(n),i=>e(new Nx(n,i)),r)}(this._delegate,t=>e(new gE(this,t)))}batch(){return Dr(this._delegate),new Zv(new $v(this._delegate,e=>zh(this._delegate,e)))}loadBundle(e){return function bx(n,e){const t=Dr(n=Wt(n,kn)),r=new fx;return function ux(n,e,t,r){const i=function(l,c){let p;return p="string"==typeof l?(new TextEncoder).encode(l):l,v=function(v,E){if(v instanceof Uint8Array)return ed(v,E);if(v instanceof ArrayBuffer)return ed(new Uint8Array(v),E);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new R0(v,c);var v}(t,zi(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function tx(n,e,t){const r=Ze(n);var i;(i=(0,ve.Z)(function*(l,c,p){try{const v=yield c.getMetadata();if(yield function(V,K){const Q=Ze(V),ae=Qr(K.createTime);return Q.persistence.runTransaction("hasNewerBundle","readonly",Te=>Q.Ds.getBundleMetadata(Te,K.id)).then(Te=>!!Te&&Te.createTime.compareTo(ae)>=0)}(l.localStore,v))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(V=v).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);p._updateProgress(sv(v));const E=new w0(v,l.localStore,c.wt);let S=yield c.fc();for(;S;){const V=yield E.Nu(S);V&&p._updateProgress(V),S=yield c.fc()}const M=yield E.complete();return yield Fl(l,M.Ou,void 0),yield function(V,K){const Q=Ze(V);return Q.persistence.runTransaction("Save bundle","readwrite",ae=>Q.Ds.saveBundleMetadata(ae,K))}(l.localStore,v),p._completeWith(M.progress),Promise.resolve(M.Mu)}catch(v){return bl("SyncEngine",`Loading bundle failed with ${v}`),p._failWith(v),Promise.resolve(new Set)}var V}),function(l,c,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Um(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function kA(n,e){return function cx(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,r){const i=Ze(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ds.getNamedQuery(l,r))}(yield Bh(n),e)}))}(Dr(n=Wt(n,kn)),e).then(t=>t?new fi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Si(this,t):null)}}class ny extends Xm{constructor(e){super(),this.firestore=e}convertBytes(e){return new qh(new ka(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ks.forKey(t,this.firestore,null)}}class gE{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ny(e)}get(e){const t=Nu(e);return this._delegate.get(t).then(r=>new kp(this._firestore,new Pl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Nu(e);return r?(ty("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Nu(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Nu(e);return this._delegate.delete(t),this}}class Zv{constructor(e){this._delegate=e}set(e,t,r){const i=Nu(e);return r?(ty("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=Nu(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=Nu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Fu{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new ku(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Wh(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Fu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new Fu(e,new ny(e),t),i.set(t,l)),l}}Fu.INSTANCES=new WeakMap;class Ks{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ny(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ks(t,new Vn(t._delegate,r,new ze(e)))}static forKey(e,t,r){return new Ks(t,new Vn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ud(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ud(this.firestore,H0(this._delegate,e))}catch(t){throw pi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Mt.m9)(e))instanceof Vn&&kv(this._delegate,e)}set(e,t){t=ty("DocumentReference.set",t);try{return t?Fx(this._delegate,e,t):Fx(this._delegate,e)}catch(r){throw pi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?zv(this._delegate,e):zv(this._delegate,e,t,...r)}catch(i){throw pi(i,"updateDoc()","DocumentReference.update()")}}delete(){return function lE(n){return zh(Wt(n.firestore,kn),[new Oc(n._key,Rn.none())])}(this._delegate)}onSnapshot(...e){const t=Yv(e),r=mE(e,i=>new kp(this.firestore,new Pl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return uE(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Ai(n){n=Wt(n,Vn);const e=Wt(n.firestore,kn),t=Dr(e),r=new ad(e);return function ax(n,e){const t=new jr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,l,c){try{const p=yield function(v,E){const S=Ze(v);return S.persistence.runTransaction("read document","readonly",M=>S.localDocuments.getDocument(M,E))}(i,l);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Oe(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const v=Zc(p,`Failed to get document '${l} from cache`);c.reject(v)}}),function(i,l,c){return r.apply(this,arguments)})(yield Bh(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Pl(e,r,n._key,i,new od(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function $h(n){n=Wt(n,Vn);const e=Wt(n.firestore,kn);return N0(Dr(e),n._key,{source:"server"}).then(t=>ey(e,n,t))}(this._delegate):function aE(n){n=Wt(n,Vn);const e=Wt(n.firestore,kn);return N0(Dr(e),n._key).then(t=>ey(e,n,t))}(this._delegate),t.then(r=>new kp(this.firestore,new Pl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ks(this.firestore,this._delegate.withConverter(e?Fu.getInstance(this.firestore,e):null))}}function pi(n,e,t){return n.message=n.message.replace(e,t),n}function Yv(n){for(const e of n)if("object"==typeof e&&!Rp(e))return e;return{}}function mE(n,e){var t,r;let i;return i=Rp(n[0])?n[0]:Rp(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class kp{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ks(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return tE(this._delegate,e._delegate)}}class Wh extends kp{data(e){const t=this._delegate.data(e);return function qf(n,e){n||it()}(void 0!==t),t}}class Si{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ny(e)}where(e,t,r){try{return new Si(this.firestore,Oa(this._delegate,function Ax(n,e,t){const r=e,i=Km("where",n);return new nE(i,r,t)}(e,t,r)))}catch(i){throw pi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Si(this.firestore,Oa(this._delegate,function FA(n,e="asc"){const t=e,r=Km("orderBy",n);return new Sx(r,t)}(e,t)))}catch(r){throw pi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Si(this.firestore,Oa(this._delegate,function Vv(n){return Hm("limit",n),new Zm("limit",n,"F")}(e)))}catch(t){throw pi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Si(this.firestore,Oa(this._delegate,function rE(n){return Hm("limitToLast",n),new Zm("limitToLast",n,"L")}(e)))}catch(t){throw pi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Si(this.firestore,Oa(this._delegate,function Uv(...n){return new Ym("startAt",n,!0)}(...e)))}catch(t){throw pi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Si(this.firestore,Oa(this._delegate,function Tx(...n){return new Ym("startAfter",n,!1)}(...e)))}catch(t){throw pi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Si(this.firestore,Oa(this._delegate,function Mx(...n){return new iE("endBefore",n,!1)}(...e)))}catch(t){throw pi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Si(this.firestore,Oa(this._delegate,function Rx(...n){return new iE("endAt",n,!0)}(...e)))}catch(t){throw pi(t,"endAt()","Query.endAt()")}}isEqual(e){return Gm(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Ox(n){n=Wt(n,fi);const e=Wt(n.firestore,kn),t=Dr(e),r=new ad(e);return function lx(n,e){const t=new jr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,l,c){try{const p=yield O_(i,l,!0),v=new E0(l,p.ji),E=v.Ku(p.documents),S=v.applyChanges(E,!1);c.resolve(S.snapshot)}catch(p){const v=Zc(p,`Failed to execute query '${l} against cache`);c.reject(v)}}),function(i,l,c){return r.apply(this,arguments)})(yield Bh(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Ao(e,r,n,i))}(this._delegate):"server"===e?.source?function NA(n){n=Wt(n,fi);const e=Wt(n.firestore,kn),t=Dr(e),r=new ad(e);return P0(t,n._query,{source:"server"}).then(i=>new Ao(e,r,n,i))}(this._delegate):function kx(n){n=Wt(n,fi);const e=Wt(n.firestore,kn),t=Dr(e),r=new ad(e);return Bv(n._query),P0(t,n._query).then(i=>new Ao(e,r,n,i))}(this._delegate),t.then(r=>new ry(this.firestore,new Ao(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Yv(e),r=mE(e,i=>new ry(this.firestore,new Ao(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return uE(this._delegate,t,r)}withConverter(e){return new Si(this.firestore,this._delegate.withConverter(e?Fu.getInstance(this.firestore,e):null))}}class yE{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Wh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ry{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Si(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Wh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new yE(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Wh(this._firestore,r))})}isEqual(e){return tE(this._delegate,e._delegate)}}class ud extends Si{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ks(this.firestore,e):null}doc(e){try{return new Ks(this.firestore,void 0===e?Rv(this._delegate):Rv(this._delegate,e))}catch(t){throw pi(t,"doc()","CollectionReference.doc()")}}add(e){return function Tp(n,e){const t=Wt(n.firestore,kn),r=Rv(n),i=Jm(n.converter,e);return zh(t,[Ru(nd(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Rn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ks(this.firestore,t))}isEqual(e){return kv(this._delegate,e._delegate)}withConverter(e){return new ud(this.firestore,this._delegate.withConverter(e?Fu.getInstance(this.firestore,e):null))}}function Nu(n){return Wt(n,Vn)}class Qv{constructor(...e){this._delegate=new Nl(...e)}static documentId(){return new Qv(Qn.keyField().canonicalString())}isEqual(e){return(e=(0,Mt.m9)(e))instanceof Nl&&this._delegate._internalPath.isEqual(e._internalPath)}}class cd{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Lx(){return new Wm("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new cd(e)}static delete(){const e=function Mp(){return new jh("deleteField")}();return e._methodName="FieldValue.delete",new cd(e)}static arrayUnion(...e){const t=function Wv(...n){return new K0("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new cd(t)}static arrayRemove(...e){const t=function cE(...n){return new Z0("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new cd(t)}static increment(e){const t=function dE(n){return new Y0("increment",n)}(e);return t._methodName="FieldValue.increment",new cd(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const LA={Firestore:jx,GeoPoint:zm,Timestamp:ir,Blob:qh,Transaction:gE,WriteBatch:Zv,DocumentReference:Ks,DocumentSnapshot:kp,Query:Si,QueryDocumentSnapshot:Wh,QuerySnapshot:ry,CollectionReference:ud,FieldPath:Qv,FieldValue:cd,setLogLevel:function Hx(n){!function RD(n){_u.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function BA(n){(function _E(n,e){n.INTERNAL.registerComponent(new aa.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},LA)))})(n,(e,t)=>new jx(e,t,new Ux)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(Xl.Z);var Zs=F(7579),iy=F(6451),Xv=F(5363),dd=F(8421);function So(n,e){return(0,Cn.e)((t,r)=>{let i=null,l=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,gn.x)(r,v=>{i?.unsubscribe();let E=0;const S=l++;(0,dd.Xf)(n(v,S)).subscribe(i=(0,gn.x)(r,M=>r.next(e?e(v,M,S,E++):M),()=>{i=null,p()}))},()=>{c=!0,p()}))})}var VA=F(6063);class UA extends Zs.x{constructor(e=1/0,t=1/0,r=VA.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:c}=this;t||(r.push(e),!i&&r.push(l.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let c=0;c<l.length&&!e.closed;c+=r?1:2)e.next(l[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const c=t.now();let p=0;for(let v=1;v<r.length&&r[v]<=c;v+=2)p=v;p&&r.splice(0,p+1)}}}var Op=F(3099);function Gx(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Op.B)({connector:()=>new UA(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const Fp=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var bE=F(515);function Ys(n){return n<=0?()=>bE.E:(0,Cn.e)((e,t)=>{let r=0;e.subscribe((0,gn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function jA(n){return(0,Cn.e)((e,t)=>{let r=!1;e.subscribe((0,gn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Jv(n=wE){return(0,Cn.e)((e,t)=>{let r=!1;e.subscribe((0,gn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function wE(){return new Fp}var ws=F(576);function zx(n,e){return(0,ws.m)(e)?So(()=>n,e):So(()=>n)}var eb=F(9468);F(5867);const IE=new Map,Es={activated:!1,tokenObservers:[]},Yx={initialized:!1,enabled:!1};function Fr(n){return IE.get(n)||Es}function To(n,e){IE.set(n,e)}function ay(){return Yx}class Xx{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new Mt.BH,yield function SE(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Mt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ri=new Mt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function nb(n){if(!Fr(n).activated)throw ri.create("use-before-activation",{appName:n.name})}function rb(n,e){return TE.apply(this,arguments)}function TE(){return TE=(0,ve.Z)(function*({url:n,body:e},t){var r,i;const l={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const K=yield c.getHeartbeatsHeader();K&&(l["X-Firebase-Client"]=K)}const p={method:"POST",body:JSON.stringify(e),headers:l};let v,E;try{v=yield fetch(n,p)}catch(K){throw ri.create("fetch-network-error",{originalErrorMessage:null===(r=K)||void 0===r?void 0:r.message})}if(200!==v.status)throw ri.create("fetch-status-error",{httpStatus:v.status});try{E=yield v.json()}catch(K){throw ri.create("fetch-parse-error",{originalErrorMessage:null===(i=K)||void 0===i?void 0:i.message})}const S=E.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw ri.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const M=1e3*Number(S[1]),V=Date.now();return{token:E.token,expireTimeMillis:V+M,issuedAtTimeMillis:V}}),TE.apply(this,arguments)}function tC(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const ly="firebase-app-check-store";let uy=null;function sb(){return uy||(uy=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var l;e(ri.create("storage-open",{originalErrorMessage:null===(l=i.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ly,{keyPath:"compositeKey"})}}catch(r){e(ri.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),uy)}function cy(){return cy=(0,ve.Z)(function*(n,e){const r=(yield sb()).transaction(ly,"readwrite"),l=r.objectStore(ly).put({compositeKey:n,value:e});return new Promise((c,p)=>{l.onsuccess=v=>{c()},r.onerror=v=>{var E;p(ri.create("storage-set",{originalErrorMessage:null===(E=v.target.error)||void 0===E?void 0:E.message}))}})}),cy.apply(this,arguments)}const Zh=new Br.Yd("@firebase/app-check");function lb(n,e){return(0,Mt.hl)()?function ob(n,e){return function OE(n,e){return cy.apply(this,arguments)}(function Lp(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Zh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function sC(){return ay().enabled}function oC(){return hy.apply(this,arguments)}function hy(){return hy=(0,ve.Z)(function*(){const n=ay();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),hy.apply(this,arguments)}const lC={error:"UNKNOWN_ERROR"};function uC(n){return Mt.US.encodeString(JSON.stringify(n),!1)}function cb(n){return FE.apply(this,arguments)}function FE(){return FE=(0,ve.Z)(function*(n,e=!1){const t=n.app;nb(t);const r=Fr(t);let l,i=r.token;if(!i){const v=yield r.cachedTokenPromise;v&&fy(v)&&(i=v)}if(!e&&i&&fy(i))return{token:i.token};let p,c=!1;if(sC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=rb(tC(t,yield oC()),n.heartbeatServiceProvider).then(E=>(r.exchangeTokenPromise=void 0,E)),c=!0);const v=yield r.exchangeTokenPromise;return yield lb(t,v),To(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),c=!0),i=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?Zh.warn(v.message):Zh.error(v),l=v}return i?(p={token:i.token},To(t,Object.assign(Object.assign({},r),{token:i})),yield lb(t,i)):p=hC(l),c&&Bp(t,p),p}),FE.apply(this,arguments)}function PE(n,e){const t=Fr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),To(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function cC(n){const{app:e}=n,t=Fr(e);let r=t.tokenRefresher;r||(r=function dC(n){const{app:e}=n;return new Xx((0,ve.Z)(function*(){let r;if(r=Fr(e).token?yield cb(n,!0):yield cb(n),r.error)throw r.error}),()=>!0,()=>{const t=Fr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),To(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Bp(n,e){const t=Fr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function fy(n){return n.expireTimeMillis-Date.now()>0}function hC(n){return{token:uC(lC),error:n}}class LE{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Fr(this.app);for(const t of e)PE(this.app,t.next);return Promise.resolve()}}const zE="app-check-internal";!function wC(){(0,ao._registerComponent)(new aa.wA("app-check",n=>function hd(n,e){return new LE(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(zE).initialize()})),(0,ao._registerComponent)(new aa.wA(zE,n=>function BE(n){return{getToken:e=>cb(n,e),addTokenListener:e=>function NE(n,e,t,r){const{app:i}=n,l=Fr(i),c={next:t,error:r,type:e};if(To(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,c]})),l.token&&fy(l.token)){const p=l.token;Promise.resolve().then(()=>{t({token:p.token}),cC(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>cC(n))}(n,"INTERNAL",e),removeTokenListener:e=>PE(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ao.registerVersion)("@firebase/app-check","0.5.12")}();class bb{constructor(){return(0,Pn.vb)("app-check")}}typeof window<"u"&&window;var o=F(127);const u=new h.OlP("angularfire2.auth.use-emulator"),d=new h.OlP("angularfire2.auth.settings"),g=new h.OlP("angularfire2.auth.tenant-id"),_=new h.OlP("angularfire2.auth.langugage-code"),w=new h.OlP("angularfire2.auth.use-device-language"),D=new h.OlP("angularfire.auth.persistence"),C=(n,e,t,r,i,l,c,p)=>(0,Lr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,l&&v.useDeviceLanguage(),c)for(const[E,S]of Object.entries(c))v.settings[E]=S;return p&&v.setPersistence(p),v},[t,r,i,l,c,p]);let k=(()=>{class n{constructor(t,r,i,l,c,p,v,E,S,M,V,K){const Q=new Zs.x,ae=Nn(void 0).pipe((0,Xv.Q)(c.outsideAngular),So(()=>l.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,1451)))),(0,jt.U)(()=>(0,Lr.on)(t,l,r)),(0,jt.U)(Te=>C(Te,l,p,E,S,M,v,V)),Gx({bufferSize:1,refCount:!1}));if(er(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Nn(null);else{ae.pipe(function $x(n,e){const t=arguments.length>=2;return r=>r.pipe(n?An((i,l)=>n(i,l,r)):sa.y,Ys(1),t?jA(e):Jv(()=>new Fp))}()).subscribe();const Be=ae.pipe(So(lt=>lt.getRedirectResult().then(Tt=>Tt,()=>null)),Pn.iC,Gx({bufferSize:1,refCount:!1})),st=ae.pipe(So(lt=>new pn.y(Tt=>({unsubscribe:l.runOutsideAngular(()=>lt.onAuthStateChanged(Ot=>Tt.next(Ot),Ot=>Tt.error(Ot),()=>Tt.complete()))})))),bt=ae.pipe(So(lt=>new pn.y(Tt=>({unsubscribe:l.runOutsideAngular(()=>lt.onIdTokenChanged(Ot=>Tt.next(Ot),Ot=>Tt.error(Ot),()=>Tt.complete()))}))));this.authState=Be.pipe(zx(st),(0,eb.R)(c.outsideAngular),(0,Xv.Q)(c.insideAngular)),this.user=Be.pipe(zx(bt),(0,eb.R)(c.outsideAngular),(0,Xv.Q)(c.insideAngular)),this.idToken=this.user.pipe(So(lt=>lt?(0,rn.D)(lt.getIdToken()):Nn(null))),this.idTokenResult=this.user.pipe(So(lt=>lt?(0,rn.D)(lt.getIdTokenResult()):Nn(null))),this.credential=(0,iy.T)(Be,Q,this.authState.pipe(An(lt=>!lt))).pipe((0,jt.U)(lt=>lt?.user?lt:null),(0,eb.R)(c.outsideAngular),(0,Xv.Q)(c.insideAngular))}return(0,Lr.pX)(this,ae,l,{spy:{apply:(Te,Be,st)=>{(Te.startsWith("signIn")||Te.startsWith("createUser"))&&st.then(bt=>Q.next(bt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Lr.Dh),h.LFG(Lr.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Pn.HU),h.LFG(u,8),h.LFG(d,8),h.LFG(g,8),h.LFG(_,8),h.LFG(w,8),h.LFG(D,8),h.LFG(bb,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function ne(n,e){return function z(n,e=as.z){return new pn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function Fe(n,e){return ne(n,e).pipe((0,jt.U)(t=>({payload:t,type:"query"})))}function qe(n,e){return Fe(n,e).pipe(il(void 0),sl(),(0,jt.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const v=i.find(S=>S.doc.ref.isEqual(c.ref)),E=t?.payload.docs.find(S=>S.ref.isEqual(c.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(c.metadata)||!v&&E&&JSON.stringify(E.metadata)===JSON.stringify(c.metadata)||l.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),l}))}function nt(n,e,t){return qe(n,t).pipe(ls((r,i)=>function Ct(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function vt(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ke(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ke(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ke(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),oa(),(0,jt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function ke(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function zt(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class On{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=qe(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,jt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(il(void 0),sl(),An(([r,i])=>i.length>0||!r),(0,jt.U)(([r,i])=>i),Pn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ls((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=zt(e);return nt(this.query,t,this.afs.schedulers.outsideAngular).pipe(Pn.iC)}valueChanges(e={}){return Fe(this.query,this.afs.schedulers.outsideAngular).pipe((0,jt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Pn.iC)}get(e){return(0,rn.D)(this.query.get(e)).pipe(Pn.iC)}add(e){return this.ref.add(e)}doc(e){return new Pu(this.ref.doc(e),this.afs)}}class Pu{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=yy(r,t);return new On(i,l,this.afs)}snapshotChanges(){return function Ee(n,e){return ne(n,e).pipe(il(void 0),sl(),(0,jt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Pn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,jt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,rn.D)(this.ref.get(e)).pipe(Pn.iC)}}class wb{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?qe(this.query,this.afs.schedulers.outsideAngular).pipe((0,jt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),An(t=>t.length>0),Pn.iC):qe(this.query,this.afs.schedulers.outsideAngular).pipe(Pn.iC)}auditTrail(e){return this.stateChanges(e).pipe(ls((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=zt(e);return nt(this.query,t,this.afs.schedulers.outsideAngular).pipe(Pn.iC)}valueChanges(e={}){return Fe(this.query,this.afs.schedulers.outsideAngular).pipe((0,jt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Pn.iC)}get(e){return(0,rn.D)(this.query.get(e)).pipe(Pn.iC)}}const gy=new h.OlP("angularfire2.enableFirestorePersistence"),my=new h.OlP("angularfire2.firestore.persistenceSettings"),Eb=new h.OlP("angularfire2.firestore.settings"),Db=new h.OlP("angularfire2.firestore.use-emulator");function yy(n,e=(t=>t)){return{query:e(n),ref:n}}let _y=(()=>{class n{constructor(t,r,i,l,c,p,v,E,S,M,V,K,Q,ae,Te,Be,st){this.schedulers=v;const bt=(0,Lr.on)(t,p,r),lt=S;M&&C(bt,p,V,Q,ae,Te,K,Be),[this.firestore,this.persistenceEnabled$]=(0,Lr.cc)(`${bt.name}.firestore`,"AngularFirestore",bt.name,()=>{const Tt=p.runOutsideAngular(()=>bt.firestore());if(l&&Tt.settings(l),lt&&Tt.useEmulator(...lt),i&&!er(c)){const Ot=()=>{try{return(0,rn.D)(Tt.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(tn){return typeof console<"u"&&console.warn(tn),Nn(!1)}};return[Tt,p.runOutsideAngular(Ot)]}return[Tt,Nn(!1)]},[l,lt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:c}=yy(i,r),p=this.schedulers.ngZone.run(()=>l);return new On(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),l=this.firestore.collectionGroup(t);return new wb(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Pu(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Lr.Dh),h.LFG(Lr.xv,8),h.LFG(gy,8),h.LFG(Eb,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Pn.HU),h.LFG(my,8),h.LFG(Db,8),h.LFG(k,8),h.LFG(u,8),h.LFG(d,8),h.LFG(g,8),h.LFG(_,8),h.LFG(w,8),h.LFG(D,8),h.LFG(bb,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ib=(()=>{class n{constructor(){o.Z.registerVersion("angularfire",Pn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:gy,useValue:!0},{provide:my,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[_y]}),n})(),DC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();class iS extends Zs.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function sS(n){for(let e in n){let t=n[e]??"";switch(e){case"display":n.display="flex"===t?["-webkit-flex","flex"]:"inline-flex"===t?["-webkit-inline-flex","inline-flex"]:t;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+e]=t;break;case"flex-direction":n["-webkit-flex-direction"]=t,n["flex-direction"]=t;break;case"order":n.order=n["-webkit-"+e]=isNaN(+t)?"0":t}}return n}const IC="inline",KE=["row","column","row-reverse","column-reverse"];function oS(n){let[e,t,r]=aS(n);return function GM(n,e=null,t=!1){return{display:t?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":e||null}}(e,t,r)}function aS(n){n=n?.toLowerCase()??"";let[e,t,r]=n.split(" ");return KE.find(i=>i===e)||(e=KE[0]),t===IC&&(t=r!==IC?r:"",r=IC),[e,HM(t),!!r]}function Cb(n){let[e]=aS(n);return e.indexOf("row")>-1}function HM(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function fd(n,...e){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let t of e)if(null!=t)for(let r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}var Ab=F(8505);const zM={provide:h.tb,useFactory:function $M(n,e){return()=>{if(vi(e)){const t=Array.from(n.querySelectorAll(`[class*=${lS}]`)),r=/\bflex-layout-.+?\b/g;t.forEach(i=>{i.classList.contains(`${lS}ssr`)&&i.parentNode?i.parentNode.removeChild(i):i.className.replace(r,"")})}}},deps:[ue,h.Lbi],multi:!0},lS="flex-layout-";let xC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[zM]}),n})();class Vp{constructor(e=!1,t="all",r="",i="",l=0){this.matches=e,this.mediaQuery=t,this.mqAlias=r,this.suffix=i,this.priority=l,this.property=""}clone(){return new Vp(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let qM=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(t,r,i){const l=this.stylesheet.get(t);l?l.set(r,i):this.stylesheet.set(t,new Map([[r,i]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,r){const i=this.stylesheet.get(t);let l="";if(i){const c=i.get(r);("number"==typeof c||"string"==typeof c)&&(l=c+"")}return l}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CC={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Ll=new h.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>CC}),vy=new h.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),AC=new h.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function uS(n,e){return n=n?.clone()??new Vp,e&&(n.mqAlias=e.alias,n.mediaQuery=e.mediaQuery,n.suffix=e.suffix,n.priority=e.priority),n}class Nr{constructor(){this.shouldCache=!0}sideEffect(e,t,r){}}let or=(()=>{class n{constructor(t,r,i,l){this._serverStylesheet=t,this._serverModuleLoaded=r,this._platformId=i,this.layoutConfig=l}applyStyleToElement(t,r,i=null){let l={};"string"==typeof r&&(l[r]=i,r=l),l=this.layoutConfig.disableVendorPrefixes?r:sS(r),this._applyMultiValueStyleToElement(l,t)}applyStyleToElements(t,r=[]){const i=this.layoutConfig.disableVendorPrefixes?t:sS(t);r.forEach(l=>{this._applyMultiValueStyleToElement(i,l)})}getFlowDirection(t){const r="flex-direction";let i=this.lookupStyle(t,r);return[i||"row",this.lookupInlineStyle(t,r)||er(this._platformId)&&this._serverModuleLoaded?i:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,r){return t.getAttribute(r)??""}lookupInlineStyle(t,r){return vi(this._platformId)?t.style.getPropertyValue(r):function WM(n,e){return cS(n)[e]??""}(t,r)}lookupStyle(t,r,i=!1){let l="";return t&&((l=this.lookupInlineStyle(t,r))||(vi(this._platformId)?i||(l=getComputedStyle(t).getPropertyValue(r)):this._serverModuleLoaded&&(l=this._serverStylesheet.getStyleForElement(t,r)))),l?l.trim():""}_applyMultiValueStyleToElement(t,r){Object.keys(t).sort().forEach(i=>{const l=t[i],c=Array.isArray(l)?l:[l];c.sort();for(let p of c)p=p?p+"":"",vi(this._platformId)||!this._serverModuleLoaded?vi(this._platformId)?r.style.setProperty(i,p):KM(r,i,p):this._serverStylesheet.addStyleToElement(r,i,p)})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(qM),h.LFG(vy),h.LFG(h.Lbi),h.LFG(Ll))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KM(n,e,t){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const r=cS(n);r[e]=t??"",function ZM(n,e){let t="";for(const r in e)e[r]&&(t+=`${r}:${e[r]};`);n.setAttribute("style",t)}(n,r)}function cS(n){const e={},t=n.getAttribute("style");if(t){const r=t.split(/;+/g);for(let i=0;i<r.length;i++){const l=r[i].trim();if(l.length>0){const c=l.indexOf(":");if(-1===c)throw new Error(`Invalid CSS style: ${l}`);e[l.substr(0,c).trim()]=l.substr(c+1).trim()}}}return e}function Sb(n,e){return(e&&e.priority||0)-(n&&n.priority||0)}function YM(n,e){return(n.priority||0)-(e.priority||0)}let SC=(()=>{class n{constructor(t,r,i){this._zone=t,this._platformId=r,this._document=i,this.source=new iS(new Vp(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((r,i)=>{r.matches&&t.push(i)}),t}isActive(t){return this.registry.get(t)?.matches??this.registerQuery(t).some(i=>i.matches)}observe(t,r=!1){if(t&&t.length){const i=this._observable$.pipe(An(c=>!r||t.indexOf(c.mediaQuery)>-1)),l=new pn.y(c=>{const p=this.registerQuery(t);if(p.length){const v=p.pop();p.forEach(E=>{c.next(E)}),this.source.next(v)}c.complete()});return(0,iy.T)(l,i)}return this._observable$}registerQuery(t){const r=Array.isArray(t)?t:[t],i=[];return function QM(n,e){const t=n.filter(r=>!dS[r]);if(t.length>0){const r=t.join(", ");try{const i=e.createElement("style");i.setAttribute("type","text/css"),i.styleSheet||i.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${r} {.fx-query-test{ }}\n`)),e.head.appendChild(i),t.forEach(l=>dS[l]=i)}catch(i){console.error(i)}}}(r,this._document),r.forEach(l=>{const c=v=>{this._zone.run(()=>this.source.next(new Vp(v.matches,l)))};let p=this.registry.get(l);p||(p=this.buildMQL(l),p.addListener(c),this.pendingRemoveListenerFns.push(()=>p.removeListener(c)),this.registry.set(l,p)),p.matches&&i.push(new Vp(!0,l))}),i}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function XM(n,e){return e&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,vi(this._platformId))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b),h.LFG(h.Lbi),h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dS={},JM=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],hS="(orientation: portrait) and (max-width: 599.98px)",fS="(orientation: landscape) and (max-width: 959.98px)",pS="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",gS="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",mS="(orientation: portrait) and (min-width: 840px)",yS="(orientation: landscape) and (min-width: 1280px)",pd={HANDSET:`${hS}, ${fS}`,TABLET:`${pS} , ${gS}`,WEB:`${mS}, ${yS} `,HANDSET_PORTRAIT:`${hS}`,TABLET_PORTRAIT:`${pS} `,WEB_PORTRAIT:`${mS}`,HANDSET_LANDSCAPE:`${fS}`,TABLET_LANDSCAPE:`${gS}`,WEB_LANDSCAPE:`${yS}`},eR=[{alias:"handset",priority:2e3,mediaQuery:pd.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:pd.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:pd.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:pd.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:pd.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:pd.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:pd.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:pd.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:pd.WEB_PORTRAIT,overlapping:!0}],tR=/(\.|-|_)/g;function nR(n){let e=n.length>0?n.charAt(0):"",t=n.length>1?n.slice(1):"";return e.toUpperCase()+t}const oR=new h.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,h.f3M)(AC),e=(0,h.f3M)(Ll),t=[].concat.apply([],(n||[]).map(i=>Array.isArray(i)?i:[i]));return function sR(n,e=[]){const t={};return n.forEach(r=>{t[r.alias]=r}),e.forEach(r=>{t[r.alias]?fd(t[r.alias],r):t[r.alias]=r}),function iR(n){return n.forEach(e=>{e.suffix||(e.suffix=function rR(n){return n.replace(tR,"|").split("|").map(nR).join("")}(e.alias),e.overlapping=!!e.overlapping)}),n}(Object.keys(t).map(r=>t[r]))}((e.disableDefaultBps?[]:JM).concat(e.addOrientationBps?eR:[]),t)}});let TC=(()=>{class n{constructor(t){this.findByMap=new Map,this.items=[...t].sort(YM)}findByAlias(t){return t?this.findWithPredicate(t,r=>r.alias===t):null}findByQuery(t){return this.findWithPredicate(t,r=>r.mediaQuery===t)}get overlappings(){return this.items.filter(t=>t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t?.suffix??"")}findWithPredicate(t,r){let i=this.findByMap.get(t);return i||(i=this.items.find(r)??null,this.findByMap.set(t,i)),i??null}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(oR))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const by="print",aR={alias:by,mediaQuery:by,priority:1e3};let lR=(()=>{class n{constructor(t,r,i){this.breakpoints=t,this.layoutConfig=r,this._document=i,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new uR,this.deactivations=[]}withPrintQuery(t){return[...t,by]}isPrintEvent(t){return t.mediaQuery.startsWith(by)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const r=this.breakpoints.findByQuery(t);return(r?[...this.printBreakPoints,r]:this.printBreakPoints).sort(Sb)}updateEvent(t){let r=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(r=this.getEventBreakpoints(t)[0],t.mediaQuery=r?.mediaQuery??""),uS(t,r)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const r=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new Vp(!0,by))),t.updateStyles())},i=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",r),this._document.defaultView.addEventListener("afterprint",i),this.beforePrintEventListeners.push(r),this.afterPrintEventListeners.push(i)}interceptEvents(t){return r=>{this.isPrintEvent(r)?r.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(r)),t.updateStyles()):!r.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(t,r)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,r){this.isPrinting=!0,this.formerActivations=t.activatedBreakpoints,t.activatedBreakpoints=this.queue.addPrintBreakpoints(r)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(t,r){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!r.matches){const i=this.breakpoints.findByQuery(r.mediaQuery);if(i){const l=this.formerActivations&&this.formerActivations.includes(i),c=!this.formerActivations&&t.activatedBreakpoints.includes(i);(l||c)&&(this.deactivations.push(i),this.deactivations.sort(Sb))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(TC),h.LFG(Ll),h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class uR{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(e){return e.push(aR),e.sort(Sb),e.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(e){e&&void 0===this.printBreakpoints.find(r=>r.mediaQuery===e.mediaQuery)&&(this.printBreakpoints=function cR(n){return n?.mediaQuery.startsWith(by)??!1}(e)?[e,...this.printBreakpoints]:[...this.printBreakpoints,e])}clear(){this.printBreakpoints=[]}}let pr=(()=>{class n{constructor(t,r,i){this.matchMedia=t,this.breakpoints=r,this.hook=i,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Zs.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(t){this._activatedBreakpoints=[...t]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(t){this._useFallbacks=t}onMediaChange(t){const r=this.findByQuery(t.mediaQuery);if(r){t=uS(t,r);const i=this.activatedBreakpoints.indexOf(r);t.matches&&-1===i?(this._activatedBreakpoints.push(r),this._activatedBreakpoints.sort(Sb),this.updateStyles()):!t.matches&&-1!==i&&(this._activatedBreakpoints.splice(i,1),this._activatedBreakpoints.sort(Sb),this.updateStyles())}}init(t,r,i,l,c=[]){_S(this.updateMap,t,r,i),_S(this.clearMap,t,r,l),this.buildElementKeyMap(t,r),this.watchExtraTriggers(t,r,c)}getValue(t,r,i){const l=this.elementMap.get(t);if(l){const c=void 0!==i?l.get(i):this.getActivatedValues(l,r);if(c)return c.get(r)}}hasValue(t,r){const i=this.elementMap.get(t);if(i){const l=this.getActivatedValues(i,r);if(l)return void 0!==l.get(r)||!1}return!1}setValue(t,r,i,l){let c=this.elementMap.get(t);if(c){const v=(c.get(l)??new Map).set(r,i);c.set(l,v),this.elementMap.set(t,c)}else c=(new Map).set(l,(new Map).set(r,i)),this.elementMap.set(t,c);const p=this.getValue(t,r);void 0!==p&&this.updateElement(t,r,p)}trackValue(t,r){return this.subject.asObservable().pipe(An(i=>i.element===t&&i.key===r))}updateStyles(){this.elementMap.forEach((t,r)=>{const i=new Set(this.elementKeyMap.get(r));let l=this.getActivatedValues(t);l&&l.forEach((c,p)=>{this.updateElement(r,p,c),i.delete(p)}),i.forEach(c=>{if(l=this.getActivatedValues(t,c),l){const p=l.get(c);this.updateElement(r,c,p)}else this.clearElement(r,c)})})}clearElement(t,r){const i=this.clearMap.get(t);if(i){const l=i.get(r);l&&(l(),this.subject.next({element:t,key:r,value:""}))}}updateElement(t,r,i){const l=this.updateMap.get(t);if(l){const c=l.get(r);c&&(c(i),this.subject.next({element:t,key:r,value:i}))}}releaseElement(t){const r=this.watcherMap.get(t);r&&(r.forEach(l=>l.unsubscribe()),this.watcherMap.delete(t));const i=this.elementMap.get(t);i&&(i.forEach((l,c)=>i.delete(c)),this.elementMap.delete(t))}triggerUpdate(t,r){const i=this.elementMap.get(t);if(i){const l=this.getActivatedValues(i,r);l&&(r?this.updateElement(t,r,l.get(r)):l.forEach((c,p)=>this.updateElement(t,p,c)))}}buildElementKeyMap(t,r){let i=this.elementKeyMap.get(t);i||(i=new Set,this.elementKeyMap.set(t,i)),i.add(r)}watchExtraTriggers(t,r,i){if(i&&i.length){let l=this.watcherMap.get(t);if(l||(l=new Map,this.watcherMap.set(t,l)),!l.get(r)){const p=(0,iy.T)(...i).subscribe(()=>{const v=this.getValue(t,r);this.updateElement(t,r,v)});l.set(r,p)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,r){for(let l=0;l<this.activatedBreakpoints.length;l++){const p=t.get(this.activatedBreakpoints[l].alias);if(p&&(void 0===r||p.has(r)&&null!=p.get(r)))return p}if(!this._useFallbacks)return;const i=t.get("");return void 0===r||i&&i.has(r)?i:void 0}observeActivations(){const t=this.breakpoints.items.map(r=>r.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe((0,Ab.b)(this.hook.interceptEvents(this)),An(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(SC),h.LFG(TC),h.LFG(lR))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _S(n,e,t,r){if(void 0!==r){const i=n.get(e)??new Map;i.set(t,r),n.set(e,i)}}let Ir=(()=>{class n{constructor(t,r,i,l){this.elementRef=t,this.styleBuilder=r,this.styler=i,this.marshal=l,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Zs.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(r=>{if(-1!==this.inputs.indexOf(r)){const i=r.split(".").slice(1).join(".");this.setValue(t[r].currentValue,i)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,r){const i=this.styleBuilder,l=i.shouldCache;let c=this.styleCache.get(t);(!c||!l)&&(c=i.buildStyles(t,r),l&&this.styleCache.set(t,c)),this.mru={...c},this.applyStyleToElement(c),i.sideEffect(t,c,r)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,r=!1){if(t){const[i,l]=this.styler.getFlowDirection(t);if(!l&&r){const c=oS(i);this.styler.applyStyleToElements(c,[t])}return i.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,r,i=this.nativeElement){this.styler.applyStyleToElement(i,t,r)}setValue(t,r){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,r)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(Nr),h.Y36(or),h.Y36(pr))},n.\u0275dir=h.lG2({type:n,features:[h.TTD]}),n})();function vS(n,e="1",t="1"){let r=[e,t,n],i=n.indexOf("calc");if(i>0){r[2]=bS(n.substring(i).trim());let l=n.substr(0,i).trim().split(" ");2==l.length&&(r[0]=l[0],r[1]=l[1])}else if(0==i)r[2]=bS(n.trim());else{let l=n.split(" ");r=3===l.length?l:[e,t,n]}return r}function bS(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}var MC=F(5032);function Yh(n){return(0,Cn.e)((e,t)=>{(0,dd.Xf)(n).subscribe((0,gn.x)(t,()=>t.complete(),MC.Z)),!t.closed&&e.subscribe(t)})}let fR=(()=>{class n extends Nr{buildStyles(t,{display:r}){const i=oS(t);return{...i,display:"none"===r?r:i.display}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pR=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let gR=(()=>{class n extends Ir{constructor(t,r,i,l,c){super(t,i,r,l),this._config=c,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(t){const i=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=DS.get(i)??new Map,DS.set(i,this.styleCache),this.currentValue!==t&&(this.addStyles(t,{display:i}),this.currentValue=t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(or),h.Y36(fR),h.Y36(pr),h.Y36(Ll))},n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})(),ES=(()=>{class n extends gR{constructor(){super(...arguments),this.inputs=pR}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[h.qOj]}),n})();const DS=new Map;let AR=(()=>{class n extends Nr{constructor(t){super(),this.layoutConfig=t}buildStyles(t,r){let[i,l,...c]=t.split(" "),p=c.join(" ");const v=r.direction.indexOf("column")>-1?"column":"row",E=Cb(v)?"max-width":"max-height",S=Cb(v)?"min-width":"min-height",M=String(p).indexOf("calc")>-1,V=M||"auto"===p,K=String(p).indexOf("%")>-1&&!M,Q=String(p).indexOf("px")>-1||String(p).indexOf("rem")>-1||String(p).indexOf("em")>-1||String(p).indexOf("vw")>-1||String(p).indexOf("vh")>-1;let ae=M||Q;i="0"==i?0:i,l="0"==l?0:l;const Te=!i&&!l;let Be={};const st={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(p||""){case"":const bt=!1!==this.layoutConfig.useColumnBasisZero;p="row"===v?"0%":bt?"0.000000001px":"auto";break;case"initial":case"nogrow":i=0,p="auto";break;case"grow":p="100%";break;case"noshrink":l=0,p="auto";break;case"auto":break;case"none":i=0,l=0,p="auto";break;default:!ae&&!K&&!isNaN(p)&&(p+="%"),"0%"===p&&(ae=!0),"0px"===p&&(p="0%"),Be=fd(st,M?{"flex-grow":i,"flex-shrink":l,"flex-basis":ae?p:"100%"}:{flex:`${i} ${l} ${ae?p:"100%"}`})}return Be.flex||Be["flex-grow"]||(Be=fd(st,M?{"flex-grow":i,"flex-shrink":l,"flex-basis":p}:{flex:`${i} ${l} ${p}`})),"0%"!==p&&"0px"!==p&&"0.000000001px"!==p&&"auto"!==p&&(Be[S]=Te||ae&&i?p:null,Be[E]=Te||!V&&l?p:null),Be[S]||Be[E]?r.hasWrap&&(Be[M?"flex-basis":"flex"]=Be[E]?M?Be[E]:`${i} ${l} ${Be[E]}`:M?Be[S]:`${i} ${l} ${Be[S]}`):Be=fd(st,M?{"flex-grow":i,"flex-shrink":l,"flex-basis":p}:{flex:`${i} ${l} ${p}`}),fd(Be,{"box-sizing":"border-box"})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ll))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SR=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let TR=(()=>{class n extends Ir{constructor(t,r,i,l,c){super(t,l,r,c),this.layoutConfig=i,this.marshal=c,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Yh(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Yh(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(t){const i=t.value.split(" ");this.direction=i[0],this.wrap=void 0!==i[1]&&"wrap"===i[1],this.triggerUpdate()}updateWithValue(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const i=this.direction,l=i.startsWith("row"),c=this.wrap;l&&c?this.styleCache=kR:l&&!c?this.styleCache=MR:!l&&c?this.styleCache=OR:!l&&!c&&(this.styleCache=RR);const v=vS(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(v.join(" "),{direction:i,hasWrap:c})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const r=vS(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,r.join(" "))}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(or),h.Y36(Ll),h.Y36(AR),h.Y36(pr))},n.\u0275dir=h.lG2({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[h.qOj]}),n})(),CS=(()=>{class n extends TR{constructor(){super(...arguments),this.inputs=SR}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[h.qOj]}),n})();const MR=new Map,RR=new Map,kR=new Map,OR=new Map;let nk=(()=>{class n extends Nr{buildStyles(t,r){const i={},[l,c]=t.split(" ");switch(l){case"center":i["justify-content"]="center";break;case"space-around":i["justify-content"]="space-around";break;case"space-between":i["justify-content"]="space-between";break;case"space-evenly":i["justify-content"]="space-evenly";break;case"end":case"flex-end":i["justify-content"]="flex-end";break;default:i["justify-content"]="flex-start"}switch(c){case"start":case"flex-start":i["align-items"]=i["align-content"]="flex-start";break;case"center":i["align-items"]=i["align-content"]="center";break;case"end":case"flex-end":i["align-items"]=i["align-content"]="flex-end";break;case"space-between":i["align-content"]="space-between",i["align-items"]="stretch";break;case"space-around":i["align-content"]="space-around",i["align-items"]="stretch";break;case"baseline":i["align-content"]="stretch",i["align-items"]="baseline";break;default:i["align-items"]=i["align-content"]="stretch"}return fd(i,{display:r.inline?"inline-flex":"flex","flex-direction":r.layout,"box-sizing":"border-box","max-width":"stretch"===c?Cb(r.layout)?null:"100%":null,"max-height":"stretch"===c&&Cb(r.layout)?"100%":null})}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rk=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let ik=(()=>{class n extends Ir{constructor(t,r,i,l){super(t,i,r,l),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Yh(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const r=this.layout||"row",i=this.inline;"row"===r&&i?this.styleCache=uk:"row"!==r||i?"row-reverse"===r&&i?this.styleCache=dk:"row-reverse"!==r||i?"column"===r&&i?this.styleCache=ck:"column"!==r||i?"column-reverse"===r&&i?this.styleCache=hk:"column-reverse"===r&&!i&&(this.styleCache=lk):this.styleCache=ok:this.styleCache=ak:this.styleCache=sk,this.addStyles(t,{layout:r,inline:i})}onLayoutChange(t){const r=t.value.split(" ");this.layout=r[0],this.inline=t.value.includes("inline"),KE.find(i=>i===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(or),h.Y36(nk),h.Y36(pr))},n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})(),AS=(()=>{class n extends ik{constructor(){super(...arguments),this.inputs=rk}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[h.qOj]}),n})();const sk=new Map,ok=new Map,ak=new Map,lk=new Map,uk=new Map,ck=new Map,dk=new Map,hk=new Map;let RC,SS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[xC,DC]}),n})();try{RC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{RC=!1}let Tb,OC,Qh=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?vi(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!RC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kC(n){return function fk(){if(null==Tb&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Tb=!0}))}finally{Tb=Tb||!1}return Tb}()?n:!!n.capture}function MS(n){if(function pk(){if(null==OC){const n=typeof document<"u"?document.head:null;OC=!(!n||!n.createShadowRoot&&!n.attachShadow)}return OC}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Mb(n){return n.composedPath?n.composedPath()[0]:n.target}function RS(n){return An((e,t)=>n<=t)}function Ro(n){return null!=n&&"false"!=`${n}`}function FC(n,e=0){return function wk(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function kS(n){return Array.isArray(n)?n:[n]}function Rb(n){return n instanceof h.SBq?n.nativeElement:n}let Ek=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Ek]}),n})();const{isArray:Ik}=Array,{getPrototypeOf:xk,prototype:Ck,keys:Ak}=Object;function OS(n){if(1===n.length){const e=n[0];if(Ik(e))return{args:e,keys:null};if(function Sk(n){return n&&"object"==typeof n&&xk(n)===Ck}(e)){const t=Ak(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Tk}=Array;function NC(n){return(0,jt.U)(e=>function Mk(n,e){return Tk(e)?n(...e):n(e)}(n,e))}function FS(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Rk=F(9672);function NS(n,e,t){n?(0,Rk.f)(t,n,e):e()}const PS=new Set;let Ey,Nk=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Lk}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Pk(n){if(!PS.has(n))try{Ey||(Ey=document.createElement("style"),Ey.setAttribute("type","text/css"),document.head.appendChild(Ey)),Ey.sheet&&(Ey.sheet.insertRule(`@media ${n} {body{ }}`,0),PS.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Qh))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lk(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Bk=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Zs.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return LS(kS(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let l=function kk(...n){const e=(0,ci.yG)(n),t=(0,ci.jO)(n),{args:r,keys:i}=OS(n);if(0===r.length)return(0,rn.D)([],e);const l=new pn.y(function Ok(n,e,t=sa.y){return r=>{NS(e,()=>{const{length:i}=n,l=new Array(i);let c=i,p=i;for(let v=0;v<i;v++)NS(e,()=>{const E=(0,rn.D)(n[v],e);let S=!1;E.subscribe((0,gn.x)(r,M=>{l[v]=M,S||(S=!0,p--),p||r.next(t(l.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>FS(i,c):sa.y));return t?l.pipe(NC(t)):l}(LS(kS(t)).map(c=>this._registerQuery(c).observable));return l=rl(l.pipe(Ys(1)),l.pipe(RS(1),function Fk(n,e=as.z){return(0,Cn.e)((t,r)=>{let i=null,l=null,c=null;const p=()=>{if(i){i.unsubscribe(),i=null;const E=l;l=null,r.next(E)}};function v(){const E=c+n,S=e.now();if(S<E)return i=this.schedule(void 0,E-S),void r.add(i);p()}t.subscribe((0,gn.x)(r,E=>{l=E,c=e.now(),i||(i=e.schedule(v,n),r.add(i))},()=>{p(),r.complete()},void 0,()=>{l=i=null}))})}(0))),l.pipe((0,jt.U)(c=>{const p={matches:!1,breakpoints:{}};return c.forEach(({matches:v,query:E})=>{p.matches=p.matches||v,p.breakpoints[E]=v}),p}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),l={observable:new pn.y(c=>{const p=v=>this._zone.run(()=>c.next(v));return r.addListener(p),()=>{r.removeListener(p)}}).pipe(il(r),(0,jt.U)(({matches:c})=>({query:t,matches:c})),Yh(this._destroySubject)),mql:r};return this._queries.set(t,l),l}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Nk),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LS(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function jS(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function HS(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const qk=new h.OlP("cdk-input-modality-detector-options"),Wk={ignoreKeys:[18,17,224,91,16]},Dy=kC({passive:!0,capture:!0});let Kk=(()=>{class n{constructor(t,r,i,l){this._platform=t,this._mostRecentTarget=null,this._modality=new iS(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(p=>p===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Mb(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(jS(c)?"keyboard":"mouse"),this._mostRecentTarget=Mb(c))},this._onTouchstart=c=>{HS(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Mb(c))},this._options={...Wk,...l},this.modalityDetected=this._modality.pipe(RS(1)),this.modalityChanged=this.modalityDetected.pipe(oa()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Dy),i.addEventListener("mousedown",this._onMousedown,Dy),i.addEventListener("touchstart",this._onTouchstart,Dy)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Dy),document.removeEventListener("mousedown",this._onMousedown,Dy),document.removeEventListener("touchstart",this._onTouchstart,Dy))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Qh),h.LFG(h.R0b),h.LFG(ue),h.LFG(qk,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yk=new h.OlP("cdk-focus-monitor-default-options"),XE=kC({passive:!0,capture:!0});let Qk=(()=>{class n{constructor(t,r,i,l,c){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Zs.x,this._rootNodeFocusAndBlurListener=p=>{for(let E=Mb(p);E;E=E.parentElement)"focus"===p.type?this._onFocus(p,E):this._onBlur(p,E)},this._document=l,this._detectionMode=c?.detectionMode||0}monitor(t,r=!1){const i=Rb(t);if(!this._platform.isBrowser||1!==i.nodeType)return Nn(null);const l=MS(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const p={checkChildren:r,subject:new Zs.x,rootNode:l};return this._elementInfo.set(i,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(t){const r=Rb(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const l=Rb(t);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([p,v])=>this._originChanged(p,r,v)):(this._setOrigin(r),"function"==typeof l.focus&&l.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),l=Mb(t);!i||!i.checkChildren&&r!==l||this._originChanged(r,this._getFocusOrigin(l),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,XE),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,XE)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Yh(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,XE),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,XE),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,l)=>{(l===t||i.checkChildren&&l.contains(t))&&r.push([l,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const l=t.labels;if(l)for(let c=0;c<l.length;c++)if(l[c].contains(r))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b),h.LFG(Qh),h.LFG(Kk),h.LFG(ue,8),h.LFG(Yk,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $S="cdk-high-contrast-black-on-white",zS="cdk-high-contrast-white-on-black",PC="cdk-high-contrast-active";let qS=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,h.f3M)(Bk).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,l=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(PC,$S,zS),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(PC,$S):2===r&&t.add(PC,zS)}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Qh),h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xk=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(qS))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Dk]}),n})();const eO=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function Jk(){return!0}});let qi=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function gk(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(qS),h.LFG(eO,8),h.LFG(ue))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[DC,DC]}),n})();function tO(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Ro(e)}}}function JE(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function nO(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ro(e)}}}class iO{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ZS={enterDuration:225,exitDuration:150},LC=kC({passive:!0}),YS=["mousedown","touchstart"],QS=["mouseup","mouseleave","touchend","touchcancel"];class oO{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Rb(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l={...ZS,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const c=r.radius||function aO(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),p=e-i.left,v=t-i.top,E=l.enterDuration,S=document.createElement("div");S.classList.add("mat-ripple-element"),S.style.left=p-c+"px",S.style.top=v-c+"px",S.style.height=2*c+"px",S.style.width=2*c+"px",null!=r.color&&(S.style.backgroundColor=r.color),S.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(S);const M=window.getComputedStyle(S),K=M.transitionDuration,Q="none"===M.transitionProperty||"0s"===K||"0s, 0s"===K,ae=new iO(this,S,r,Q);S.style.transform="scale3d(1, 1, 1)",ae.state=0,r.persistent||(this._mostRecentTransientRipple=ae);let Te=null;return!Q&&(E||l.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Be=()=>this._finishRippleTransition(ae),st=()=>this._destroyRipple(ae);S.addEventListener("transitionend",Be),S.addEventListener("transitioncancel",st),Te={onTransitionEnd:Be,onTransitionCancel:st}}),this._activeRipples.set(ae,Te),(Q||!E)&&this._finishRippleTransition(ae),ae}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...ZS,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Rb(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(YS))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(QS),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=jS(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!HS(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,LC)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(YS.forEach(e=>{this._triggerElement.removeEventListener(e,this,LC)}),this._pointerUpEventsRegistered&&QS.forEach(e=>{this._triggerElement.removeEventListener(e,this,LC)}))}}const lO=new h.OlP("mat-ripple-global-options");let XS=(()=>{class n{constructor(t,r,i,l,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new oO(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(Qh),h.Y36(lO,8),h.Y36(h.QbO,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&h.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),uO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[qi,qi]}),n})();const cO=["*",[["mat-toolbar-row"]]],dO=["*","mat-toolbar-row"],hO=JE(class{constructor(n){this._elementRef=n}});let fO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),pO=(()=>{class n extends hO{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(Qh),h.Y36(ue))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&h.Suo(i,fO,5),2&t){let l;h.iGM(l=h.CRH())&&(r._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&h.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[h.qOj],ngContentSelectors:dO,decls:2,vars:0,template:function(t,r){1&t&&(h.F$t(cO),h.Hsn(0),h.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),gO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[qi,qi]}),n})();function JS(n,e){const t=(0,ws.m)(n)?n:()=>n,r=i=>i.error(t());return new pn.y(e?i=>e.schedule(r,0,i):r)}var Ob=F(727);function eT(n){return(0,Cn.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,gn.x)(t,void 0,void 0,c=>{l=(0,dd.Xf)(n(c,eT(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}var eD=F(5577);class vO{}class Xh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),l=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,l),this.headers.has(l)?this.headers.get(l).push(c):this.headers.set(l,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Xh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Xh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Xh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const l=e.value;if(l){let c=this.headers.get(t);if(!c)return;c=c.filter(p=>-1===l.indexOf(p)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class bO{encodeKey(e){return tT(e)}encodeValue(e){return tT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const EO=/%(\d[a-f0-9])/gi,DO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tT(n){return encodeURIComponent(n).replace(EO,(e,t)=>DO[t]??e)}function tD(n){return`${n}`}class Jh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new bO,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function wO(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const l=i.indexOf("="),[c,p]=-1==l?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,l)),e.decodeValue(i.slice(l+1))],v=t.get(c)||[];v.push(p),t.set(c,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(tD):[tD(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Jh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(tD(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(tD(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class IO{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function nT(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function rT(n){return typeof Blob<"u"&&n instanceof Blob}function iT(n){return typeof FormData<"u"&&n instanceof FormData}class Fb{constructor(e,t,r,i){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function xO(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,l=i):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Xh),this.context||(this.context=new IO),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+c}}else this.params=new Jh,this.urlWithParams=t}serializeBody(){return null===this.body?null:nT(this.body)||rT(this.body)||iT(this.body)||function CO(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||iT(this.body)?null:rT(this.body)?this.body.type||null:nT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,l=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,E=e.params||this.params;const S=e.context??this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((M,V)=>M.set(V,e.setHeaders[V]),v)),e.setParams&&(E=Object.keys(e.setParams).reduce((M,V)=>M.set(V,e.setParams[V]),E)),new Fb(t,r,l,{params:E,headers:v,context:S,reportProgress:p,responseType:i,withCredentials:c})}}var Ti=(()=>((Ti=Ti||{})[Ti.Sent=0]="Sent",Ti[Ti.UploadProgress=1]="UploadProgress",Ti[Ti.ResponseHeader=2]="ResponseHeader",Ti[Ti.DownloadProgress=3]="DownloadProgress",Ti[Ti.Response=4]="Response",Ti[Ti.User=5]="User",Ti))();class BC extends class AO{constructor(e,t=200,r="OK"){this.headers=e.headers||new Xh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Ti.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new BC({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function VC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let oT=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let l;if(t instanceof Fb)l=t;else{let v,E;v=i.headers instanceof Xh?i.headers:new Xh(i.headers),i.params&&(E=i.params instanceof Jh?i.params:new Jh({fromObject:i.params})),l=new Fb(t,r,void 0!==i.body?i.body:null,{headers:v,context:i.context,params:E,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=Nn(l).pipe(function _O(n,e){return(0,ws.m)(e)?(0,eD.z)(n,e,1):(0,eD.z)(n,1)}(v=>this.handler.handle(v)));if(t instanceof Fb||"events"===i.observe)return c;const p=c.pipe(An(v=>v instanceof BC));switch(i.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return p.pipe((0,jt.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return p.pipe((0,jt.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return p.pipe((0,jt.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return p.pipe((0,jt.U)(v=>v.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Jh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,VC(i,r))}post(t,r,i={}){return this.request("POST",t,VC(i,r))}put(t,r,i={}){return this.request("PUT",t,VC(i,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(vO))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const TO=["*"];let nD;function Nb(n){return function MO(){if(void 0===nD&&(nD=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(nD=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return nD}()?.createHTML(n)||n}function aT(n){return Error(`Unable to find icon with the name "${n}"`)}function lT(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function uT(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class jp{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let rD=(()=>{class n{constructor(t,r,i,l){this._httpClient=t,this._sanitizer=r,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,l){return this._addSvgIconConfig(t,r,new jp(i,null,l))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,l){const c=this._sanitizer.sanitize(h.q3G.HTML,i);if(!c)throw uT(i);const p=Nb(c);return this._addSvgIconConfig(t,r,new jp("",p,l))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new jp(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const l=this._sanitizer.sanitize(h.q3G.HTML,r);if(!l)throw uT(r);const c=Nb(l);return this._addSvgIconSetConfig(t,new jp("",c,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,t);if(!r)throw lT(t);const i=this._cachedIconsByUrl.get(r);return i?Nn(iD(i)):this._loadSvgIconFromConfig(new jp(t,null)).pipe((0,Ab.b)(l=>this._cachedIconsByUrl.set(r,l)),(0,jt.U)(l=>iD(l)))}getNamedSvgIcon(t,r=""){const i=cT(r,t);let l=this._svgIconConfigs.get(i);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(r,t),l)return this._svgIconConfigs.set(i,l),this._getSvgFromConfig(l);const c=this._iconSetConfigs.get(r);return c?this._getSvgFromIconSetConfigs(t,c):JS(aT(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Nn(iD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,jt.U)(r=>iD(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?Nn(i):function mO(...n){const e=(0,ci.jO)(n),{args:t,keys:r}=OS(n),i=new pn.y(l=>{const{length:c}=t;if(!c)return void l.complete();const p=new Array(c);let v=c,E=c;for(let S=0;S<c;S++){let M=!1;(0,dd.Xf)(t[S]).subscribe((0,gn.x)(l,V=>{M||(M=!0,E--),p[S]=V},()=>v--,void 0,()=>{(!v||!M)&&(E||l.next(r?FS(r,p):p),l.complete())}))}});return e?i.pipe(NC(e)):i}(r.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(eT(p=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(h.q3G.RESOURCE_URL,c.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(E)),Nn(null)})))).pipe((0,jt.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,r);if(!c)throw aT(t);return c}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const l=r[i];if(l.svgText&&l.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(l),p=this._extractSvgIconFromSet(c,t,l.options);if(p)return p}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Ab.b)(r=>t.svgText=r),(0,jt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Nn(null):this._fetchIcon(t).pipe((0,Ab.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const l=t.querySelector(`[id="${r}"]`);if(!l)return null;const c=l.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,i);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),i);const p=this._svgElementFromString(Nb("<svg></svg>"));return p.appendChild(c),this._setSvgAttributes(p,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Nb("<svg></svg>")),i=t.attributes;for(let l=0;l<i.length;l++){const{name:c,value:p}=i[l];"id"!==c&&r.setAttribute(c,p)}for(let l=0;l<t.childNodes.length;l++)t.childNodes[l].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[l].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){const{url:r,options:i}=t,l=i?.withCredentials??!1;if(!this._httpClient)throw function RO(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const c=this._sanitizer.sanitize(h.q3G.RESOURCE_URL,r);if(!c)throw lT(r);const p=this._inProgressUrlFetches.get(c);if(p)return p;const v=this._httpClient.get(c,{responseType:"text",withCredentials:l}).pipe((0,jt.U)(E=>Nb(E)),function yO(n){return(0,Cn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>this._inProgressUrlFetches.delete(c)),(0,Op.B)());return this._inProgressUrlFetches.set(c,v),v}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(cT(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const l=this._resolvers[i](r,t);if(l)return OO(l)?new jp(l.url,null,l.options):new jp(l,null)}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(oT,8),h.LFG(os),h.LFG(ue,8),h.LFG(h.qLn))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iD(n){return n.cloneNode(!0)}function cT(n,e){return n+":"+e}function OO(n){return!(!n.url||!n.options)}const FO=JE(class{constructor(n){this._elementRef=n}}),NO=new h.OlP("MAT_ICON_DEFAULT_OPTIONS"),PO=new h.OlP("mat-icon-location",{providedIn:"root",factory:function LO(){const n=(0,h.f3M)(ue),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),dT=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],BO=dT.map(n=>`[${n}]`).join(", "),VO=/^url\(['"]?#(.*?)['"]?\)$/;let UO=(()=>{class n extends FO{constructor(t,r,i,l,c,p){super(t),this._iconRegistry=r,this._location=l,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ob.w0.EMPTY,p&&(p.color&&(this.color=this.defaultColor=p.color),p.fontSet&&(this.fontSet=p.fontSet)),i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Ro(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,l)=>{i.forEach(c=>{l.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(BO),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<r.length;l++)dT.forEach(c=>{const p=r[l],v=p.getAttribute(c),E=v?v.match(VO):null;if(E){let S=i.get(p);S||(S=[],i.set(p,S)),S.push({name:c,value:E[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Ys(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${l.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(rD),h.$8M("aria-hidden"),h.Y36(PO),h.Y36(h.qLn),h.Y36(NO,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(h.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),h.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[h.qOj],ngContentSelectors:TO,decls:1,vars:0,template:function(t,r){1&t&&(h.F$t(),h.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),jO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[qi,qi]}),n})();const HO=["*",[["mat-card-footer"]]],GO=["*","mat-card-footer"];let $O=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.QbO,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&h.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:GO,decls:2,vars:0,template:function(t,r){1&t&&(h.F$t(HO),h.Hsn(0),h.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),zO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[qi,qi]}),n})();const qO=["mat-button",""],WO=["*"],ZO=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],YO=JE(tO(nO(class{constructor(n){this._elementRef=n}})));let QO=(()=>{class n extends YO{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of ZO)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(Qk),h.Y36(h.QbO,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&h.Gf(XS,5),2&t){let i;h.iGM(i=h.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(h.uIk("disabled",r.disabled||null),h.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[h.qOj],attrs:qO,ngContentSelectors:WO,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(h.F$t(),h.TgZ(0,"span",0),h.Hsn(1),h.qZA(),h._UZ(2,"span",1)(3,"span",2)),2&t&&(h.xp6(2),h.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),h.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},dependencies:[XS],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),XO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[uO,qi,qi]}),n})(),JO=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Ro(t)}get inset(){return this._inset}set inset(t){this._inset=Ro(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,r){2&t&&(h.uIk("aria-orientation",r.vertical?"vertical":"horizontal"),h.ekj("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,r){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),eF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[qi,qi]}),n})();function tF(n,e){if(1&n&&(h.TgZ(0,"a",8),h._uU(1),h.qZA()),2&n){const t=e.$implicit;h.Q6J("href","#"+t,h.LSH),h.xp6(1),h.hij("| ",t," |")}}function nF(n,e){if(1&n&&(h.TgZ(0,"a",8),h._uU(1),h.qZA()),2&n){const t=e.$implicit;h.Q6J("href","#"+t.name,h.LSH),h.xp6(1),h.hij("| ",t.acr," |")}}function rF(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",12)(1,"mat-icon",13),h.NdJ("click",function(){const l=h.CHM(t).$implicit,c=h.oxw().$implicit,p=h.oxw();return h.KtG(p.dec(l,c))}),h.qZA(),h._uU(2),h.TgZ(3,"mat-icon",14),h.NdJ("click",function(){const l=h.CHM(t).$implicit,c=h.oxw().$implicit,p=h.oxw();return h.KtG(p.inc(l,c))}),h.qZA()()}if(2&n){const t=e.$implicit,r=h.oxw().$implicit,i=h.oxw();h.Q6J("color",0==i.getQtd(t,r)?"warn":1==i.getQtd(t,r)?"success":"primary"),h.xp6(2),h.AsE(" ",t,": ",i.getQtd(t,r)," ")}}function iF(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"mat-card",9)(1,"button",10),h.NdJ("click",function(){h.CHM(t);const i=h.oxw();return h.KtG(i.topFunction())}),h._uU(2),h.qZA(),h.YNc(3,rF,4,3,"button",11),h.qZA()}if(2&n){const t=e.$implicit,r=h.oxw();h.Q6J("id",t.name),h.xp6(2),h.Oqu(r.getPageDesc(t)),h.xp6(1),h.Q6J("ngForOf",t.stickers)}}let sF=(()=>{class n{constructor(t){this.firestore=t,this.title="copa",this.listaAcr=[],this.listaOrder=[],this.listaAlfa=[],this.total=0,this.uniq=0,this.dups=0,this.lista=t.collection("copa",r=>r.orderBy("order")).valueChanges(),t.collection("copa").get().forEach(r=>{r.forEach(i=>{let l=i.data(),c=this.getAcr(l),p=c;"000"==c?(c="000",p="000"):"FWC 8"==l.stickers[0]?(c="fwc8-18",p="001"):"FWC"==c?(c="fwc19-29",p="zz1"):"C"==c&&(c="Coca",p="zz2");let v=l.stickers.length,E=0,S=0;for(let M=0;M<l.stickers.length;M++)l.qtds[M]>0&&(E++,S+=l.qtds[M]-1);if(this.total+=v,this.uniq+=E,this.dups+=S,0==this.listaAlfa.length)this.listaAlfa.push(l.name);else if("Museu"==l.name||"PaginaInicial"==l.name||"Estadios"==l.name)console.log();else for(let M=0;M<this.listaAlfa.length;M++){if(l.name<this.listaAlfa[M]){this.listaAlfa.splice(M,0,l.name);break}if(M==this.listaAlfa.length-1){this.listaAlfa.push(l.name);break}}if(0==this.listaAcr.length)this.listaAcr.push({acr:c,name:l.name,total:v,uniq:E,dups:S}),this.listaOrder.push(p);else for(let M=0;M<this.listaAcr.length;M++){if(p<this.listaOrder[M]){this.listaAcr.splice(M,0,{acr:c,name:l.name,total:v,uniq:E,dups:S}),this.listaOrder.splice(M,0,p);break}if(M==this.listaAcr.length-1){this.listaAcr.push({acr:c,name:l.name,total:v,uniq:E,dups:S}),this.listaOrder.push(p);break}}})})}getQtd(t,r){let i=r.stickers.indexOf(t);return r.qtds[i]}updatePage(t){var r=this;return(0,ve.Z)(function*(){yield(yield r.firestore.doc("copa/"+t.name)).update(t)})()}getAcrItem(t){for(const r of this.listaAcr)if(r.name==t.name)return r;return this.listaAcr[0]}inc(t,r){var i=this;return(0,ve.Z)(function*(){let l=r.stickers.indexOf(t);r.qtds[l]++,yield i.updatePage(r);let c=i.getAcrItem(r);r.qtds[l]>1?(i.dups++,c.dups++):(i.uniq++,c.uniq++)})()}dec(t,r){var i=this;return(0,ve.Z)(function*(){let l=r.stickers.indexOf(t);if(r.qtds[l]>0){r.qtds[l]--,yield i.updatePage(r);let c=i.getAcrItem(r);0==r.qtds[l]?(i.uniq--,c.uniq--):(i.dups--,c.dups--)}})()}showvars(t){return console.log(JSON.stringify(t)),""}getAcr(t){return t.stickers[0].split(" ")[0]}topFunction(){document.body.scrollTop=0,document.documentElement.scrollTop=0}getPageDesc(t){for(let r=0;r<this.listaAcr.length;r++){let i=this.listaAcr[r];if(i.name==t.name)return t.name+" "+i.uniq+";"+i.dups}return t.name}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(_y))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:18,vars:8,consts:[["color","primary"],[1,"container-wrapper"],["href","#PaginaInicial"],["href","#Estadios"],["href","#Museu"],[3,"href",4,"ngFor","ngForOf"],[1,"container"],["fxLayout","row wrap","fxLayoutAlign","space-between",3,"id",4,"ngFor","ngForOf"],[3,"href"],["fxLayout","row wrap","fxLayoutAlign","space-between",3,"id"],["mat-button","","color","basic","fxFlex","0 1 calc(16%)","fxFlex.lt-md","0 1 calc(25%)","fxFlex.lt-sm","0 1 calc(50%)","fxFlex.lt-xs","0 1 calc(50%)",3,"click"],["mat-raised-button","","fxFlex","0 1 calc(16%)","fxFlex.lt-md","0 1 calc(25%)","fxFlex.lt-sm","0 1 calc(50%)","fxFlex.lt-xs","0 1 calc(50%)",3,"color",4,"ngFor","ngForOf"],["mat-raised-button","","fxFlex","0 1 calc(16%)","fxFlex.lt-md","0 1 calc(25%)","fxFlex.lt-sm","0 1 calc(50%)","fxFlex.lt-xs","0 1 calc(50%)",3,"color"],["aria-hidden","true","fontIcon","do_not_disturb_on",3,"click"],["aria-hidden","true","fontIcon","add_circle",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"mat-toolbar",0)(1,"mat-icon"),h._uU(2,"local_fire_department"),h.qZA(),h.TgZ(3,"span"),h._uU(4),h.qZA()(),h.TgZ(5,"div",1)(6,"a",2),h._uU(7,"| Inicial |"),h.qZA(),h.TgZ(8,"a",3),h._uU(9,"| Est\xe1dios |"),h.qZA(),h.TgZ(10,"a",4),h._uU(11,"| Museu |"),h.qZA(),h.YNc(12,tF,2,2,"a",5),h._UZ(13,"mat-divider"),h.YNc(14,nF,2,2,"a",5),h.TgZ(15,"div",6),h.YNc(16,iF,4,3,"mat-card",7),h.ALo(17,"async"),h.qZA()()),2&t&&(h.xp6(4),h.lnq("tem:",r.uniq," - repetidas:",r.dups," - faltam:",r.total-r.uniq,""),h.xp6(8),h.Q6J("ngForOf",r.listaAlfa),h.xp6(2),h.Q6J("ngForOf",r.listaAcr),h.xp6(2),h.Q6J("ngForOf",h.lcZ(17,6,r.lista)))},dependencies:[Qi,ES,AS,CS,pO,UO,$O,QO,JO,Hu],styles:[".mat-success[_ngcontent-%COMP%]{background-color:green;color:#fff}body[_ngcontent-%COMP%]{margin:0}.center[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%) translateY(-50%)}.overlay[_ngcontent-%COMP%]{height:100vh;width:100%;background-color:#00000049;z-index:10;top:0;left:0;position:fixed}"]}),n})(),yT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[xC]}),n})(),xT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[xC]}),n})(),zN=(()=>{class n{constructor(t,r){er(r)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,r=[]){return{ngModule:n,providers:t.serverLoaded?[{provide:Ll,useValue:{...CC,...t}},{provide:AC,useValue:r,multi:!0},{provide:vy,useValue:!0}]:[{provide:Ll,useValue:{...CC,...t}},{provide:AC,useValue:r,multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(vy),h.LFG(h.Lbi))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[SS,yT,xT,SS,yT,xT]}),n})();class CT{}const gd="*";function AT(n,e=null){return{type:2,steps:n,options:e}}function ST(n){return{type:6,styles:n,offset:null}}function TT(n){Promise.resolve(null).then(n)}class Pb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){TT(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class MT{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?TT(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==l&&this._onFinish()}),c.onDestroy(()=>{++r==l&&this._onDestroy()}),c.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((c,p)=>Math.max(c,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function RT(n){return new h.vHH(3e3,!1)}function AP(){return typeof window<"u"&&typeof window.document<"u"}function HC(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ef(n){switch(n.length){case 0:return new Pb;case 1:return n[0];default:return new MT(n)}}function kT(n,e,t,r,i=new Map,l=new Map){const c=[],p=[];let v=-1,E=null;if(r.forEach(S=>{const M=S.get("offset"),V=M==v,K=V&&E||new Map;S.forEach((Q,ae)=>{let Te=ae,Be=Q;if("offset"!==ae)switch(Te=e.normalizePropertyName(Te,c),Be){case"!":Be=i.get(ae);break;case gd:Be=l.get(ae);break;default:Be=e.normalizeStyleValue(ae,Te,Be,c)}K.set(Te,Be)}),V||p.push(K),E=K,v=M}),c.length)throw function gP(n){return new h.vHH(3502,!1)}();return p}function GC(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&$C(t,"start",n)));break;case"done":n.onDone(()=>r(t&&$C(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&$C(t,"destroy",n)))}}function $C(n,e,t){const l=zC(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(l._data=c),l}function zC(n,e,t,r,i="",l=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!c}}function ko(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function OT(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let qC=(n,e)=>!1,FT=(n,e,t)=>[],NT=null;function WC(n){const e=n.parentNode||n.host;return e===NT?null:e}(HC()||typeof Element<"u")&&(AP()?(NT=(()=>document.documentElement)(),qC=(n,e)=>{for(;e;){if(e===n)return!0;e=WC(e)}return!1}):qC=(n,e)=>n.contains(e),FT=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Hp=null,PT=!1;const LT=qC,BT=FT;let VT=(()=>{class n{validateStyleProperty(t){return function TP(n){Hp||(Hp=function MP(){return typeof document<"u"?document.body:null}()||{},PT=!!Hp.style&&"WebkitAppearance"in Hp.style);let e=!0;return Hp.style&&!function SP(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Hp.style,!e&&PT&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Hp.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return LT(t,r)}getParentElement(t){return WC(t)}query(t,r,i){return BT(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,c,p=[],v){return new Pb(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),KC=(()=>{class n{}return n.NOOP=new VT,n})();const ZC="ng-enter",sD="ng-leave",oD="ng-trigger",aD=".ng-trigger",jT="ng-animating",YC=".ng-animating";function tf(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:QC(parseFloat(e[1]),e[2])}function QC(n,e){return"s"===e?1e3*n:n}function lD(n,e,t){return n.hasOwnProperty("duration")?n:function OP(n,e,t){let i,l=0,c="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(RT()),{duration:0,delay:0,easing:""};i=QC(parseFloat(p[1]),p[2]);const v=p[3];null!=v&&(l=QC(parseFloat(v),p[4]));const E=p[5];E&&(c=E)}else i=n;if(!t){let p=!1,v=e.length;i<0&&(e.push(function WN(){return new h.vHH(3100,!1)}()),p=!0),l<0&&(e.push(function KN(){return new h.vHH(3101,!1)}()),p=!0),p&&e.splice(v,0,RT())}return{duration:i,delay:l,easing:c}}(n,e,t)}function Lb(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function HT(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function nf(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function $T(n,e,t){return t?e+":"+t+";":""}function zT(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=$T(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=$T(0,LP(t),n.style[t]));n.setAttribute("style",e)}function Lu(n,e,t){n.style&&(e.forEach((r,i)=>{const l=JC(i);t&&!t.has(i)&&t.set(i,n.style[l]),n.style[l]=r}),HC()&&zT(n))}function Gp(n,e){n.style&&(e.forEach((t,r)=>{const i=JC(r);n.style[i]=""}),HC()&&zT(n))}function Bb(n){return Array.isArray(n)?1==n.length?n[0]:AT(n):n}const XC=new RegExp("{{\\s*(.+?)\\s*}}","g");function qT(n){let e=[];if("string"==typeof n){let t;for(;t=XC.exec(n);)e.push(t[1]);XC.lastIndex=0}return e}function uD(n,e,t){const r=n.toString(),i=r.replace(XC,(l,c)=>{let p=e[c];return null==p&&(t.push(function YN(n){return new h.vHH(3003,!1)}()),p=""),p.toString()});return i==r?n:i}function cD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const PP=/-+([a-z0-9])/g;function JC(n){return n.replace(PP,(...e)=>e[1].toUpperCase())}function LP(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Oo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function QN(n){return new h.vHH(3004,!1)}()}}function WT(n,e){return window.getComputedStyle(n)[e]}function GP(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function $P(n,e,t){if(":"==n[0]){const v=function zP(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function dP(n){return new h.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function cP(n){return new h.vHH(3015,!1)}()),e;const i=r[1],l=r[2],c=r[3];e.push(KT(i,c));"<"==l[0]&&!("*"==i&&"*"==c)&&e.push(KT(c,i))}(r,t,e)):t.push(n),t}const pD=new Set(["true","1"]),gD=new Set(["false","0"]);function KT(n,e){const t=pD.has(n)||gD.has(n),r=pD.has(e)||gD.has(e);return(i,l)=>{let c="*"==n||n==i,p="*"==e||e==l;return!c&&t&&"boolean"==typeof i&&(c=i?pD.has(n):gD.has(n)),!p&&r&&"boolean"==typeof l&&(p=l?pD.has(e):gD.has(e)),c&&p}}const qP=new RegExp("s*:selfs*,?","g");function eA(n,e,t,r){return new WP(n).build(e,t,r)}class WP{constructor(e){this._driver=e}build(e,t,r){const i=new YP(t);return this._resetContextStyleTimingState(i),Oo(this,Bb(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function JN(){return new h.vHH(3006,!1)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const v=p,E=v.name;E.toString().split(/\s*,\s*/).forEach(S=>{v.name=S,l.push(this.visitState(v,t))}),v.name=E}else if(1==p.type){const v=this.visitTransition(p,t);r+=v.queryCount,i+=v.depCount,c.push(v)}else t.errors.push(function eP(){return new h.vHH(3007,!1)}())}),{type:7,name:e.name,states:l,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,c=i||{};r.styles.forEach(p=>{p instanceof Map&&p.forEach(v=>{qT(v).forEach(E=>{c.hasOwnProperty(E)||l.add(E)})})}),l.size&&(cD(l.values()),t.errors.push(function tP(n,e){return new h.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Oo(this,Bb(e.animation),t);return{type:1,matchers:GP(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:$p(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Oo(this,r,t)),options:$p(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(c=>{t.currentTime=r;const p=Oo(this,c,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:l,options:$p(e.options)}}visitAnimate(e,t){const r=function XP(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return tA(lD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=tA(0,0,"");return l.dynamic=!0,l.strValue=t,l}const i=lD(t,e);return tA(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:ST({});if(5==l.type)i=this.visitKeyframes(l,t);else{let c=e.styles,p=!1;if(!c){p=!0;const E={};r.easing&&(E.easing=r.easing),c=ST(E)}t.currentTime+=r.duration+r.delay;const v=this.visitStyle(c,t);v.isEmptyStep=p,i=v}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let p of i)"string"==typeof p?p===gd?r.push(p):t.errors.push(new h.vHH(3002,!1)):r.push(HT(p));let l=!1,c=null;return r.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(c=p.get("easing"),p.delete("easing")),!l))for(let v of p.values())if(v.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((p,v)=>{const E=t.collectedStyles.get(t.currentQuerySelector),S=E.get(v);let M=!0;S&&(l!=i&&l>=S.startTime&&i<=S.endTime&&(t.errors.push(function rP(n,e,t,r,i){return new h.vHH(3010,!1)}()),M=!1),l=S.startTime),M&&E.set(v,{startTime:l,endTime:i}),t.options&&function NP(n,e,t){const r=e.params||{},i=qT(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(function ZN(n){return new h.vHH(3001,!1)}())})}(p,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function iP(){return new h.vHH(3011,!1)}()),r;let l=0;const c=[];let p=!1,v=!1,E=0;const S=e.steps.map(Be=>{const st=this._makeStyleAst(Be,t);let bt=null!=st.offset?st.offset:function QP(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(st.styles),lt=0;return null!=bt&&(l++,lt=st.offset=bt),v=v||lt<0||lt>1,p=p||lt<E,E=lt,c.push(lt),st});v&&t.errors.push(function sP(){return new h.vHH(3012,!1)}()),p&&t.errors.push(function oP(){return new h.vHH(3200,!1)}());const M=e.steps.length;let V=0;l>0&&l<M?t.errors.push(function aP(){return new h.vHH(3202,!1)}()):0==l&&(V=1/(M-1));const K=M-1,Q=t.currentTime,ae=t.currentAnimateTimings,Te=ae.duration;return S.forEach((Be,st)=>{const bt=V>0?st==K?1:V*st:c[st],lt=bt*Te;t.currentTime=Q+ae.delay+lt,ae.duration=lt,this._validateStyleAst(Be,t),Be.offset=bt,r.styles.push(Be)}),r}visitReference(e,t){return{type:8,animation:Oo(this,Bb(e.animation),t),options:$p(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:$p(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:$p(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,c]=function KP(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(qP,"")),n=n.replace(/@\*/g,aD).replace(/@\w+/g,t=>aD+"-"+t.slice(1)).replace(/:animating/g,YC),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,ko(t.collectedStyles,t.currentQuerySelector,new Map);const p=Oo(this,Bb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:p,originalSelector:e.selector,options:$p(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function lP(){return new h.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:lD(e.timings,t.errors,!0);return{type:12,animation:Oo(this,Bb(e.animation),t),timings:r,options:null}}}class YP{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function $p(n){return n?(n=Lb(n)).params&&(n.params=function ZP(n){return n?Lb(n):null}(n.params)):n={},n}function tA(n,e,t){return{duration:n,delay:e,easing:t}}function nA(n,e,t,r,i,l,c=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:c,subTimeline:p}}class mD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const t1=new RegExp(":enter","g"),r1=new RegExp(":leave","g");function rA(n,e,t,r,i,l=new Map,c=new Map,p,v,E=[]){return(new s1).buildKeyframes(n,e,t,r,i,l,c,p,v,E)}class s1{buildKeyframes(e,t,r,i,l,c,p,v,E,S=[]){E=E||new mD;const M=new iA(e,t,E,i,l,S,[]);M.options=v;const V=v.delay?tf(v.delay):0;M.currentTimeline.delayNextStep(V),M.currentTimeline.setStyles([c],null,M.errors,v),Oo(this,r,M);const K=M.timelines.filter(Q=>Q.containsAnimation());if(K.length&&p.size){let Q;for(let ae=K.length-1;ae>=0;ae--){const Te=K[ae];if(Te.element===t){Q=Te;break}}Q&&!Q.allowOnlyTimelineStyles()&&Q.setStyles([p],null,M.errors,v)}return K.length?K.map(Q=>Q.buildKeyframes()):[nA(t,[],[],[],0,V,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);l!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const c=null!=r.duration?tf(r.duration):null,p=null!=r.delay?tf(r.delay):null;return 0!==c&&e.forEach(v=>{const E=t.appendInstructionToTimeline(v,c,p);l=Math.max(l,E.duration+E.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),Oo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=yD);const c=tf(l.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Oo(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?tf(e.options.delay):0;e.steps.forEach(c=>{const p=t.createSubContext(e.options);l&&p.delayNextStep(l),Oo(this,c,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return lD(t.params?uD(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(v=>{p.forwardTime((v.offset||0)*l),p.setStyles(v.styles,v.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?tf(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=yD);let c=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let v=null;p.forEach((E,S)=>{t.currentQueryIndex=S;const M=t.createSubContext(e.options,E);l&&M.delayNextStep(l),E===t.element&&(v=M.currentTimeline),Oo(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,c=Math.abs(l.duration),p=c*(t.currentQueryTotal-1);let v=c*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":v=p-v;break;case"full":v=r.currentStaggerTime}const S=t.currentTimeline;v&&S.delayNextStep(v);const M=S.currentTime;Oo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const yD={};class iA{constructor(e,t,r,i,l,c,p,v){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=c,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new _D(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=tf(r.duration)),null!=r.delay&&(i.delay=tf(r.delay));const l=r.params;if(l){let c=i.params;c||(c=this.options.params={}),Object.keys(l).forEach(p=>{(!t||!c.hasOwnProperty(p))&&(c[p]=uD(l[p],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new iA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=yD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},l=new o1(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,c){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(t1,"."+this._enterClassName)).replace(r1,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),p.push(...E)}return!l&&0==p.length&&c.push(function uP(n){return new h.vHH(3014,!1)}()),p}}class _D{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new _D(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||gd),this._currentKeyframe.set(t,gd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const l=i&&i.params||{},c=function a1(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let l of r)t.set(l,gd)}else nf(i,t)}),t}(e,this._globalTimelineStyles);for(let[p,v]of c){const E=uD(v,l,r);this._pendingStyles.set(p,E),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??gd),this._updateStyle(p,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,v)=>{const E=nf(p,new Map,this._backFill);E.forEach((S,M)=>{"!"===S?e.add(M):S===gd&&t.add(M)}),r||E.set("offset",v/this.duration),i.push(E)});const l=e.size?cD(e.values()):[],c=t.size?cD(t.values()):[];if(r){const p=i[0],v=new Map(p);p.set("offset",0),v.set("offset",1),i=[p,v]}return nA(this.element,i,l,c,this.duration,this.startTime,this.easing,!1)}}class o1 extends _D{constructor(e,t,r,i,l,c,p=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=p,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],c=r+t,p=t/c,v=nf(e[0]);v.set("offset",0),l.push(v);const E=nf(e[0]);E.set("offset",QT(p)),l.push(E);const S=e.length-1;for(let M=1;M<=S;M++){let V=nf(e[M]);const K=V.get("offset");V.set("offset",QT((t+K*r)/c)),l.push(V)}r=c,t=0,i="",e=l}return nA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function QT(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class sA{}const l1=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class u1 extends sA{normalizePropertyName(e,t){return JC(e)}normalizeStyleValue(e,t,r,i){let l="";const c=r.toString().trim();if(l1.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function XN(n,e){return new h.vHH(3005,!1)}())}return c+l}}function XT(n,e,t,r,i,l,c,p,v,E,S,M,V){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:c,timelines:p,queriedElements:v,preStyleProps:E,postStyleProps:S,totalTime:M,errors:V}}const oA={};class JT{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function c1(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,l,c,p,v,E,S){const M=[],V=this.ast.options&&this.ast.options.params||oA,Q=this.buildStyles(r,p&&p.params||oA,M),ae=v&&v.params||oA,Te=this.buildStyles(i,ae,M),Be=new Set,st=new Map,bt=new Map,lt="void"===i,Tt={params:d1(ae,V),delay:this.ast.options?.delay},Ot=S?[]:rA(e,t,this.ast.animation,l,c,Q,Te,Tt,E,M);let tn=0;if(Ot.forEach(md=>{tn=Math.max(md.duration+md.delay,tn)}),M.length)return XT(t,this._triggerName,r,i,lt,Q,Te,[],[],st,bt,tn,M);Ot.forEach(md=>{const yd=md.element,xM=ko(st,yd,new Set);md.preStyleProps.forEach(zp=>xM.add(zp));const Hb=ko(bt,yd,new Set);md.postStyleProps.forEach(zp=>Hb.add(zp)),yd!==t&&Be.add(yd)});const Ds=cD(Be.values());return XT(t,this._triggerName,r,i,lt,Q,Te,Ot,Ds,st,bt,tn)}}function d1(n,e){const t=Lb(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class h1{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Lb(this.defaultParams);return Object.keys(e).forEach(l=>{const c=e[l];null!==c&&(i[l]=c)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((c,p)=>{c&&(c=uD(c,i,t));const v=this.normalizer.normalizePropertyName(p,t);c=this.normalizer.normalizeStyleValue(p,v,c,t),r.set(v,c)})}),r}}class p1{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new h1(i.style,i.options&&i.options.params||{},r))}),eM(this.states,"true","1"),eM(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new JT(e,i,this.states))}),this.fallbackTransition=function g1(n,e,t){return new JT(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function eM(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const m1=new mD;class y1{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],l=eA(this._driver,t,r,[]);if(r.length)throw function mP(n){return new h.vHH(3503,!1)}();this._animations.set(e,l)}_buildPlayer(e,t,r){const i=e.element,l=kT(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations.get(e);let c;const p=new Map;if(l?(c=rA(this._driver,t,l,ZC,sD,new Map,new Map,r,m1,i),c.forEach(S=>{const M=ko(p,S.element,new Map);S.postStyleProps.forEach(V=>M.set(V,null))})):(i.push(function yP(){return new h.vHH(3300,!1)}()),c=[]),i.length)throw function _P(n){return new h.vHH(3504,!1)}();p.forEach((S,M)=>{S.forEach((V,K)=>{S.set(K,this._driver.computeStyle(M,K,gd))})});const E=ef(c.map(S=>{const M=p.get(S.element);return this._buildPlayer(S,new Map,M)}));return this._playersById.set(e,E),E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function vP(n){return new h.vHH(3301,!1)}();return t}listen(e,t,r,i){const l=zC(t,"","","");return GC(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const tM="ng-animate-queued",aA="ng-animate-disabled",E1=[],nM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},D1={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Na="__ng_removed";class lA{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function A1(n){return n??null}(r?e.value:e),r){const l=Lb(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Vb="void",uA=new lA(Vb);class I1{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Pa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function bP(n,e){return new h.vHH(3302,!1)}();if(null==r||0==r.length)throw function wP(n){return new h.vHH(3303,!1)}();if(!function S1(n){return"start"==n||"done"==n}(r))throw function EP(n,e){return new h.vHH(3400,!1)}();const l=ko(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};l.push(c);const p=ko(this._engine.statesByElement,e,new Map);return p.has(t)||(Pa(e,oD),Pa(e,oD+"-"+t),p.set(t,uA)),()=>{this._engine.afterFlush(()=>{const v=l.indexOf(c);v>=0&&l.splice(v,1),this._triggers.has(t)||p.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function DP(n){return new h.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),c=new cA(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(Pa(e,oD),Pa(e,oD+"-"+t),this._engine.statesByElement.set(e,p=new Map));let v=p.get(t);const E=new lA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&E.absorbOptions(v.options),p.set(t,E),v||(v=uA),E.value!==Vb&&v.value===E.value){if(!function R1(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(v.params,E.params)){const ae=[],Te=l.matchStyles(v.value,v.params,ae),Be=l.matchStyles(E.value,E.params,ae);ae.length?this._engine.reportError(ae):this._engine.afterFlush(()=>{Gp(e,Te),Lu(e,Be)})}return}const V=ko(this._engine.playersByElement,e,[]);V.forEach(ae=>{ae.namespaceId==this.id&&ae.triggerName==t&&ae.queued&&ae.destroy()});let K=l.matchTransition(v.value,E.value,e,E.params),Q=!1;if(!K){if(!i)return;K=l.fallbackTransition,Q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:K,fromState:v,toState:E,player:c,isFallbackTransition:Q}),Q||(Pa(e,tM),c.onStart(()=>{Iy(e,tM)})),c.onDone(()=>{let ae=this.players.indexOf(c);ae>=0&&this.players.splice(ae,1);const Te=this._engine.playersByElement.get(e);if(Te){let Be=Te.indexOf(c);Be>=0&&Te.splice(Be,1)}}),this.players.push(c),V.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,aD,!0);r.forEach(i=>{if(i[Na])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),c=new Map;if(l){const p=[];if(l.forEach((v,E)=>{if(c.set(E,v.value),this._triggers.has(E)){const S=this.trigger(e,E,Vb,i);S&&p.push(S)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&ef(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const c=l.name;if(i.has(c))return;i.add(c);const v=this._triggers.get(c).fallbackTransition,E=r.get(c)||uA,S=new lA(Vb),M=new cA(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:v,fromState:E,toState:S,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Na];(!l||l===nM)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Pa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,c=this._elementListeners.get(l);c&&c.forEach(p=>{if(p.name==r.triggerName){const v=zC(l,r.triggerName,r.fromState.value,r.toState.value);v._data=e,GC(r.player,p.phase,v,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==l||0==c?l-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class x1{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new I1(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,p=this.driver.getParentElement(t);for(;p;){const v=i.get(p);if(v){const E=r.indexOf(v);r.splice(E+1,0,e),c=!0;break}p=this.driver.getParentElement(p)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const l=this._fetchNamespace(i.namespaceId);l&&t.add(l)}return t}trigger(e,t,r,i){if(vD(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!vD(t))return;const l=t[Na];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Pa(e,aA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Iy(e,aA))}removeNode(e,t,r,i){if(vD(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[Na]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return vD(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,aD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,YC,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ef(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Na];if(t&&t.setForRemoval){if(e[Na]=nM,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(aA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Pa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ef(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function IP(n){return new h.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new mD,i=[],l=new Map,c=[],p=new Map,v=new Map,E=new Map,S=new Set;this.disabledNodes.forEach(dt=>{S.add(dt);const At=this.driver.query(dt,".ng-animate-queued",!0);for(let Ft=0;Ft<At.length;Ft++)S.add(At[Ft])});const M=this.bodyNode,V=Array.from(this.statesByElement.keys()),K=sM(V,this.collectedEnterElements),Q=new Map;let ae=0;K.forEach((dt,At)=>{const Ft=ZC+ae++;Q.set(At,Ft),dt.forEach(cn=>Pa(cn,Ft))});const Te=[],Be=new Set,st=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const At=this.collectedLeaveElements[dt],Ft=At[Na];Ft&&Ft.setForRemoval&&(Te.push(At),Be.add(At),Ft.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(cn=>Be.add(cn)):st.add(At))}const bt=new Map,lt=sM(V,Array.from(Be));lt.forEach((dt,At)=>{const Ft=sD+ae++;bt.set(At,Ft),dt.forEach(cn=>Pa(cn,Ft))}),e.push(()=>{K.forEach((dt,At)=>{const Ft=Q.get(At);dt.forEach(cn=>Iy(cn,Ft))}),lt.forEach((dt,At)=>{const Ft=bt.get(At);dt.forEach(cn=>Iy(cn,Ft))}),Te.forEach(dt=>{this.processLeaveNode(dt)})});const Tt=[],Ot=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(t).forEach(Ft=>{const cn=Ft.player,gi=Ft.element;if(Tt.push(cn),this.collectedEnterElements.length){const Wi=gi[Na];if(Wi&&Wi.setForMove){if(Wi.previousTriggersValues&&Wi.previousTriggersValues.has(Ft.triggerName)){const qp=Wi.previousTriggersValues.get(Ft.triggerName),La=this.statesByElement.get(Ft.element);if(La&&La.has(Ft.triggerName)){const CD=La.get(Ft.triggerName);CD.value=qp,La.set(Ft.triggerName,CD)}}return void cn.destroy()}}const Bu=!M||!this.driver.containsElement(M,gi),Fo=bt.get(gi),af=Q.get(gi),xr=this._buildInstruction(Ft,r,af,Fo,Bu);if(xr.errors&&xr.errors.length)return void Ot.push(xr);if(Bu)return cn.onStart(()=>Gp(gi,xr.fromStyles)),cn.onDestroy(()=>Lu(gi,xr.toStyles)),void i.push(cn);if(Ft.isFallbackTransition)return cn.onStart(()=>Gp(gi,xr.fromStyles)),cn.onDestroy(()=>Lu(gi,xr.toStyles)),void i.push(cn);const SM=[];xr.timelines.forEach(Wi=>{Wi.stretchStartingKeyframe=!0,this.disabledNodes.has(Wi.element)||SM.push(Wi)}),xr.timelines=SM,r.append(gi,xr.timelines),c.push({instruction:xr,player:cn,element:gi}),xr.queriedElements.forEach(Wi=>ko(p,Wi,[]).push(cn)),xr.preStyleProps.forEach((Wi,qp)=>{if(Wi.size){let La=v.get(qp);La||v.set(qp,La=new Set),Wi.forEach((CD,yA)=>La.add(yA))}}),xr.postStyleProps.forEach((Wi,qp)=>{let La=E.get(qp);La||E.set(qp,La=new Set),Wi.forEach((CD,yA)=>La.add(yA))})});if(Ot.length){const dt=[];Ot.forEach(At=>{dt.push(function xP(n,e){return new h.vHH(3505,!1)}())}),Tt.forEach(At=>At.destroy()),this.reportError(dt)}const tn=new Map,Ds=new Map;c.forEach(dt=>{const At=dt.element;r.has(At)&&(Ds.set(At,At),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,tn))}),i.forEach(dt=>{const At=dt.element;this._getPreviousPlayers(At,!1,dt.namespaceId,dt.triggerName,null).forEach(cn=>{ko(tn,At,[]).push(cn),cn.destroy()})});const md=Te.filter(dt=>aM(dt,v,E)),yd=new Map;iM(yd,this.driver,st,E,gd).forEach(dt=>{aM(dt,v,E)&&md.push(dt)});const Hb=new Map;K.forEach((dt,At)=>{iM(Hb,this.driver,new Set(dt),v,"!")}),md.forEach(dt=>{const At=yd.get(dt),Ft=Hb.get(dt);yd.set(dt,new Map([...Array.from(At?.entries()??[]),...Array.from(Ft?.entries()??[])]))});const zp=[],CM=[],AM={};c.forEach(dt=>{const{element:At,player:Ft,instruction:cn}=dt;if(r.has(At)){if(S.has(At))return Ft.onDestroy(()=>Lu(At,cn.toStyles)),Ft.disabled=!0,Ft.overrideTotalTime(cn.totalTime),void i.push(Ft);let gi=AM;if(Ds.size>1){let Fo=At;const af=[];for(;Fo=Fo.parentNode;){const xr=Ds.get(Fo);if(xr){gi=xr;break}af.push(Fo)}af.forEach(xr=>Ds.set(xr,gi))}const Bu=this._buildAnimation(Ft.namespaceId,cn,tn,l,Hb,yd);if(Ft.setRealPlayer(Bu),gi===AM)zp.push(Ft);else{const Fo=this.playersByElement.get(gi);Fo&&Fo.length&&(Ft.parentPlayer=ef(Fo)),i.push(Ft)}}else Gp(At,cn.fromStyles),Ft.onDestroy(()=>Lu(At,cn.toStyles)),CM.push(Ft),S.has(At)&&i.push(Ft)}),CM.forEach(dt=>{const At=l.get(dt.element);if(At&&At.length){const Ft=ef(At);dt.setRealPlayer(Ft)}}),i.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<Te.length;dt++){const At=Te[dt],Ft=At[Na];if(Iy(At,sD),Ft&&Ft.hasAnimation)continue;let cn=[];if(p.size){let Bu=p.get(At);Bu&&Bu.length&&cn.push(...Bu);let Fo=this.driver.query(At,YC,!0);for(let af=0;af<Fo.length;af++){let xr=p.get(Fo[af]);xr&&xr.length&&cn.push(...xr)}}const gi=cn.filter(Bu=>!Bu.destroyed);gi.length?T1(this,At,gi):this.processLeaveNode(At)}return Te.length=0,zp.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const At=this.players.indexOf(dt);this.players.splice(At,1)}),dt.play()}),zp}elementContainsData(e,t){let r=!1;const i=t[Na];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let c=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(c=p)}else{const p=this.playersByElement.get(e);if(p){const v=!l||l==Vb;p.forEach(E=>{E.queued||!v&&E.triggerName!=i||c.push(E)})}}return(r||i)&&(c=c.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),c}_beforeAnimationBuild(e,t,r){const l=t.element,c=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const E=v.element,S=E!==l,M=ko(r,E,[]);this._getPreviousPlayers(E,S,c,p,t.toState).forEach(K=>{const Q=K.getRealPlayer();Q.beforeDestroy&&Q.beforeDestroy(),K.destroy(),M.push(K)})}Gp(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,c){const p=t.triggerName,v=t.element,E=[],S=new Set,M=new Set,V=t.timelines.map(Q=>{const ae=Q.element;S.add(ae);const Te=ae[Na];if(Te&&Te.removedBeforeQueried)return new Pb(Q.duration,Q.delay);const Be=ae!==v,st=function M1(n){const e=[];return oM(n,e),e}((r.get(ae)||E1).map(tn=>tn.getRealPlayer())).filter(tn=>!!tn.element&&tn.element===ae),bt=l.get(ae),lt=c.get(ae),Tt=kT(0,this._normalizer,0,Q.keyframes,bt,lt),Ot=this._buildPlayer(Q,Tt,st);if(Q.subTimeline&&i&&M.add(ae),Be){const tn=new cA(e,p,ae);tn.setRealPlayer(Ot),E.push(tn)}return Ot});E.forEach(Q=>{ko(this.playersByQueriedElement,Q.element,[]).push(Q),Q.onDone(()=>function C1(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,Q.element,Q))}),S.forEach(Q=>Pa(Q,jT));const K=ef(V);return K.onDestroy(()=>{S.forEach(Q=>Iy(Q,jT)),Lu(v,t.toStyles)}),M.forEach(Q=>{ko(i,Q,[]).push(K)}),K}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Pb(e.duration,e.delay)}}class cA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Pb,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>GC(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ko(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function vD(n){return n&&1===n.nodeType}function rM(n,e){const t=n.style.display;return n.style.display=e??"none",t}function iM(n,e,t,r,i){const l=[];t.forEach(v=>l.push(rM(v)));const c=[];r.forEach((v,E)=>{const S=new Map;v.forEach(M=>{const V=e.computeStyle(E,M,i);S.set(M,V),(!V||0==V.length)&&(E[Na]=D1,c.push(E))}),n.set(E,S)});let p=0;return t.forEach(v=>rM(v,l[p++])),c}function sM(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),l=new Map;function c(p){if(!p)return 1;let v=l.get(p);if(v)return v;const E=p.parentNode;return v=t.has(E)?E:i.has(E)?1:c(E),l.set(p,v),v}return e.forEach(p=>{const v=c(p);1!==v&&t.get(v).push(p)}),t}function Pa(n,e){n.classList?.add(e)}function Iy(n,e){n.classList?.remove(e)}function T1(n,e,t){ef(t).onDone(()=>n.processLeaveNode(e))}function oM(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof MT?oM(r.players,e):e.push(r)}}function aM(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class bD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new x1(e,t,r),this._timelineEngine=new y1(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const c=e+"-"+i;let p=this._triggerCache[c];if(!p){const v=[],S=eA(this._driver,l,v,[]);if(v.length)throw function pP(n,e){return new h.vHH(3404,!1)}();p=function f1(n,e,t){return new p1(n,e,t)}(i,S,this._normalizer),this._triggerCache[c]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,c]=OT(r);this._timelineEngine.command(l,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[c,p]=OT(r);return this._timelineEngine.listen(c,t,p,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let O1=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Lu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Lu(this._element,this._initialStyles),this._endStyles&&(Lu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Gp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gp(this._element,this._endStyles),this._endStyles=null),Lu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function dA(n){let e=null;return n.forEach((t,r)=>{(function F1(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class lM{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:WT(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class N1{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return LT(e,t)}getParentElement(e){return WC(e)}query(e,t,r){return BT(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,l,c=[]){const v={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(v.easing=l);const E=new Map,S=c.filter(K=>K instanceof lM);(function BP(n,e){return 0===n||0===e})(r,i)&&S.forEach(K=>{K.currentSnapshot.forEach((Q,ae)=>E.set(ae,Q))});let M=function FP(n){return n.length?n[0]instanceof Map?n:n.map(e=>HT(e)):[]}(t).map(K=>nf(K));M=function VP(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((l,c)=>{r.has(c)||i.push(c),r.set(c,l)}),i.length)for(let l=1;l<e.length;l++){let c=e[l];i.forEach(p=>c.set(p,WT(n,p)))}}return e}(e,M,E);const V=function k1(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=dA(e[0]),e.length>1&&(r=dA(e[e.length-1]))):e instanceof Map&&(t=dA(e)),t||r?new O1(n,t,r):null}(e,M);return new lM(e,M,v,V)}}let P1=(()=>{class n extends CT{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?AT(t):t;return uM(this._renderer,null,r,"register",[i]),new L1(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class L1 extends class qN{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new B1(this._id,e,t||{},this._renderer)}}class B1{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return uM(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function uM(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const cM="@.disabled";let V1=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,c)=>{const p=c?.parentNode(l);p&&c.removeChild(p,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(l);return S||(S=new dM("",l,this.engine),this._rendererCache.set(l,S)),S}const c=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const v=S=>{Array.isArray(S)?S.forEach(v):this.engine.registerTrigger(c,p,t,S.name,S)};return r.data.animation.forEach(v),new U1(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[c,p]=l;c(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(bD),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class dM{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==cM?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class U1 extends dM{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==cM?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function j1(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.slice(1),c="";return"@"!=l.charAt(0)&&([l,c]=function H1(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,c,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let G1=(()=>{class n extends bD{constructor(t,r,i,l){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue),h.LFG(KC),h.LFG(sA),h.LFG(h.z2F))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const hM=[{provide:CT,useClass:P1},{provide:sA,useFactory:function $1(){return new u1}},{provide:bD,useClass:G1},{provide:h.FYo,useFactory:function z1(n,e,t){return new V1(n,e,t)},deps:[is,bD,h.R0b]}],hA=[{provide:KC,useFactory:()=>new N1},{provide:h.QbO,useValue:"BrowserAnimations"},...hM],fM=[{provide:KC,useClass:VT},{provide:h.QbO,useValue:"NoopAnimations"},...hM];let q1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?fM:hA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:hA,imports:[wn]}),n})(),W1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Xk,qi,qi]}),n})();var pM=F(4408);const Ub={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Ub;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(l=>{t=void 0,n(l)});return new Ob.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Ub;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Ub;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var gM=F(7565);new class Z1 extends gM.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class K1 extends pM.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ub.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Ub.cancelAnimationFrame(t),e._scheduled=void 0)}});let fA,Q1=1;const ED={};function mM(n){return n in ED&&(delete ED[n],!0)}const X1={setImmediate(n){const e=Q1++;return ED[e]=!0,fA||(fA=Promise.resolve()),fA.then(()=>mM(e)&&n()),e},clearImmediate(n){mM(n)}},{setImmediate:J1,clearImmediate:eL}=X1,DD={setImmediate(...n){const{delegate:e}=DD;return(e?.setImmediate||J1)(...n)},clearImmediate(n){const{delegate:e}=DD;return(e?.clearImmediate||eL)(n)},delegate:void 0};new class nL extends gM.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class tL extends pM.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=DD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(DD.clearImmediate(t),e._scheduled=void 0)}});var sL=F(3532);function yM(n=0,e,t=as.P){let r=-1;return null!=e&&((0,sL.K)(e)?t=e:r=e),new pn.y(i=>{let l=function oL(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},l)})}let uL=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Zs.x,this._changeListener=l=>{this._change.next(l)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,l=i.getBoundingClientRect();return{top:-l.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-l.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(function aL(n,e=as.z){return function iL(n){return(0,Cn.e)((e,t)=>{let r=!1,i=null,l=null,c=!1;const p=()=>{if(l?.unsubscribe(),l=null,r){r=!1;const E=i;i=null,t.next(E)}c&&t.complete()},v=()=>{l=null,c&&t.complete()};e.subscribe((0,gn.x)(t,E=>{r=!0,i=E,l||(0,dd.Xf)(n(E)).subscribe(l=(0,gn.x)(t,p,v))},()=>{c=!0,(!r||!l||l.closed)&&t.complete()}))})}(()=>yM(n,e))}(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Qh),h.LFG(h.R0b),h.LFG(ue,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cL(n,e){if(1&n&&(h.O4$(),h._UZ(0,"circle",4)),2&n){const t=h.oxw(),r=h.MAs(1);h.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),h.uIk("r",t._getCircleRadius())}}function dL(n,e){if(1&n&&(h.O4$(),h._UZ(0,"circle",4)),2&n){const t=h.oxw(),r=h.MAs(1);h.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),h.uIk("r",t._getCircleRadius())}}const fL=JE(class{constructor(n){this._elementRef=n}},"primary"),pL=new h.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function gL(){return{diameter:100}}});class rf extends fL{constructor(e,t,r,i,l,c,p,v){super(e),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=Ob.w0.EMPTY,this.mode="determinate";const E=rf._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),E.has(r.head)||E.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===i&&!!l&&!l._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),l&&(l.color&&(this.color=this.defaultColor=l.color),l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth)),t.isBrowser&&t.SAFARI&&p&&c&&v&&(this._resizeSubscription=p.change(150).subscribe(()=>{"indeterminate"===this.mode&&v.run(()=>c.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=FC(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=FC(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,FC(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=MS(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){const t=50*(e.currentScale??1);return`${t}% ${t}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,r=rf._diameters;let i=r.get(e);if(!i||!i.has(t)){const l=this._document.createElement("style");l.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),l.textContent=this._getAnimationText(),e.appendChild(l),i||(i=new Set,r.set(e,i)),i.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}rf._diameters=new WeakMap,rf.\u0275fac=function(e){return new(e||rf)(h.Y36(h.SBq),h.Y36(Qh),h.Y36(ue,8),h.Y36(h.QbO,8),h.Y36(pL),h.Y36(h.sBO),h.Y36(uL),h.Y36(h.R0b))},rf.\u0275cmp=h.Xpm({type:rf,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(h.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),h.Udp("width",t.diameter,"px")("height",t.diameter,"px"),h.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[h.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(h.O4$(),h.TgZ(0,"svg",0,1),h.YNc(2,cL,1,11,"circle",2),h.YNc(3,dL,1,9,"circle",3),h.qZA()),2&e&&(h.Udp("width",t.diameter,"px")("height",t.diameter,"px"),h.Q6J("ngSwitch","indeterminate"===t.mode),h.uIk("viewBox",t._getViewBox()),h.xp6(2),h.Q6J("ngSwitchCase",!0),h.xp6(1),h.Q6J("ngSwitchCase",!1))},dependencies:[jo,Jr],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let yL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[qi,qo,qi]}),n})();const gA_firebase={projectId:"copa-b2abd",appId:"1:75383122449:web:a9b67f027fcf2c5929dfb0",storageBucket:"copa-b2abd.appspot.com",locationId:"us-central",apiKey:"AIzaSyAnt5IfH33ZBvde1L3bctlwjjpqHkDjEGY",authDomain:"copa-b2abd.firebaseapp.com",messagingSenderId:"75383122449"};function _M(n){return new pn.y(e=>{(0,dd.Xf)(n()).subscribe(e)})}var _L=F(1144);const vL=["addListener","removeListener"],bL=["addEventListener","removeEventListener"],wL=["on","off"];function ID(n,e,t,r){if((0,ws.m)(t)&&(r=t,t=void 0),r)return ID(n,e,t).pipe(NC(r));const[i,l]=function IL(n){return(0,ws.m)(n.addEventListener)&&(0,ws.m)(n.removeEventListener)}(n)?bL.map(c=>p=>n[c](e,p,t)):function EL(n){return(0,ws.m)(n.addListener)&&(0,ws.m)(n.removeListener)}(n)?vL.map(vM(n,e)):function DL(n){return(0,ws.m)(n.on)&&(0,ws.m)(n.off)}(n)?wL.map(vM(n,e)):[];if(!i&&(0,_L.z)(n))return(0,eD.z)(c=>ID(c,e,t))((0,dd.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new pn.y(c=>{const p=(...v)=>c.next(1<v.length?v:v[0]);return i(p),()=>l(p)})}function vM(n,e){return t=>r=>n[t](e,r)}const sf=new pn.y(MC.Z);class CL extends pn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Cn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ob.w0;const t=this.getSubject();e.add(this.source.subscribe((0,gn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ob.w0.EMPTY)}return e}refCount(){return function xL(){return(0,Cn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,gn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}()(this)}}const SL={connector:()=>new Zs.x};function bM(n,e=SL){const{connector:t}=e;return(0,Cn.e)((r,i)=>{const l=t();(0,dd.Xf)(n(function AL(n){return new pn.y(e=>n.subscribe(e))}(l))).subscribe(i),i.add(r.subscribe(l))})}function wM(n,e){return e?t=>rl(e.pipe(Ys(1),function RL(){return(0,Cn.e)((n,e)=>{n.subscribe((0,gn.x)(e,MC.Z))})}()),t.pipe(wM(n))):(0,eD.z)((t,r)=>n(t,r).pipe(Ys(1),function kL(n){return(0,jt.U)(()=>n)}(t)))}const jb="Service workers are disabled or not supported by this browser";class xD{constructor(e){if(this.serviceWorker=e,e){const r=ID(e,"controllerchange").pipe((0,jt.U)(()=>e.controller)),l=rl(_M(()=>Nn(e.controller)),r);this.worker=l.pipe(An(S=>!!S)),this.registration=this.worker.pipe(So(()=>e.getRegistration()));const E=ID(e,"message").pipe((0,jt.U)(S=>S.data)).pipe(An(S=>S&&S.type)).pipe(function ML(n){return n?e=>bM(n)(e):e=>function TL(n,e){const t=(0,ws.m)(n)?n:()=>n;return(0,ws.m)(e)?bM(e,{connector:t}):r=>new CL(r,t)}(new Zs.x)(e)}());E.connect(),this.events=E}else this.worker=this.events=this.registration=function FL(n){return _M(()=>JS(new Error(n)))}(jb)}postMessage(e,t){return this.worker.pipe(Ys(1),(0,Ab.b)(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),l=this.postMessage(e,t);return Promise.all([l,i]).then(([,c])=>c)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(An(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Ys(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(An(t=>t.nonce===e),Ys(1),(0,jt.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let NL=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new Zs.x,!t.isEnabled)return this.messages=sf,this.notificationClicks=sf,void(this.subscription=sf);this.messages=this.sw.eventsOfType("PUSH").pipe((0,jt.U)(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,jt.U)(i=>i.data)),this.pushManager=this.sw.registration.pipe((0,jt.U)(i=>i.pushManager));const r=this.pushManager.pipe(So(i=>i.getSubscription()));this.subscription=(0,iy.T)(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(jb));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),l=new Uint8Array(new ArrayBuffer(i.length));for(let c=0;c<i.length;c++)l[c]=i.charCodeAt(c);return r.applicationServerKey=l,this.pushManager.pipe(So(c=>c.subscribe(r)),Ys(1)).toPromise().then(c=>(this.subscriptionChanges.next(c),c))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Ys(1),So(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(jb))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(xD))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),PL=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=sf,this.available=sf,this.activated=sf,void(this.unrecoverable=sf);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(An(r=>"VERSION_READY"===r.type),(0,jt.U)(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(jb));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(jb));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(xD))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class mA{}const EM=new h.OlP("NGSW_REGISTER_SCRIPT");function LL(n,e,t,r){return()=>{if(!vi(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let l;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)l=t.registrationStrategy();else{const[p,...v]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(p){case"registerImmediately":l=Nn(null);break;case"registerWithDelay":l=DM(+v[0]||0);break;case"registerWhenStable":l=v[0]?(0,iy.T)(IM(n),DM(+v[0])):IM(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(h.R0b).runOutsideAngular(()=>l.pipe(Ys(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(p=>console.error("Service worker registration failed with:",p))))}}function DM(n){return Nn(null).pipe(function OL(n,e=as.z){const t=yM(n,e);return wM(()=>t)}(n))}function IM(n){return n.get(h.z2F).isStable.pipe(An(t=>t))}function BL(n,e){return new xD(vi(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let VL=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:EM,useValue:t},{provide:mA,useValue:r},{provide:xD,useFactory:BL,deps:[mA,h.Lbi]},{provide:h.ip1,useFactory:LL,deps:[h.zs3,EM,mA,h.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[NL,PL]}),n})(),UL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[sF]}),n.\u0275inj=h.cJS({imports:[wn,zN,q1,gO,jO,zO,W1,XO,eF,yL,Lr.hO.initializeApp(gA_firebase),Ib,VL.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]}),n})();(0,h.G48)(),df().bootstrapModule(UL).catch(n=>console.error(n))},5867:(ut,Ce,F)=>{F.d(Ce,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=F(9681);(0,h.registerVersion)("firebase","9.9.3","app")},127:(ut,Ce,F)=>{F.d(Ce,{Z:()=>h.Z});var h=F(3942);h.Z.registerVersion("firebase","9.9.3","app-compat")},1451:(ut,Ce,F)=>{F.r(Ce);var h=F(5861),re=F(3942),N=F(2090),he=F(9681),le=F(655),pe=F(1877),ue=F(4859);const Me=function $e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ye=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qe=new pe.Yd("@firebase/auth");function tt(y,...f){Qe.logLevel<=pe.in.ERROR&&Qe.error(`Auth (${he.SDK_VERSION}): ${y}`,...f)}function Ae(y,...f){throw Ge(y,...f)}function we(y,...f){return Ge(y,...f)}function De(y,f,m){const b=Object.assign(Object.assign({},Ye()),{[f]:m});return new N.LL("auth","Firebase",b).create(f,{appName:y.name})}function He(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Ae(y,"argument-error"),De(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(y,...f){if("string"!=typeof y){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return ye.create(y,...f)}function U(y,f,...m){if(!y)throw Ge(f,...m)}function be(y){const f="INTERNAL ASSERTION FAILED: "+y;throw tt(f),new Error(f)}function X(y,f){y||be(f)}const te=new Map;function oe(y){X(y instanceof Function,"Expected a class definition");let f=te.get(y);return f?(X(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,te.set(y,f),f)}function Ne(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function pt(){return"http:"===qt()||"https:"===qt()}function qt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class on{constructor(f,m){this.shortDelay=f,this.longDelay=m,X(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function $t(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Un(y,f){X(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Zt{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Gr=new on(3e4,6e4);function Lt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function an(y,f,m,b){return No.apply(this,arguments)}function No(){return(No=(0,h.Z)(function*(y,f,m,b,T={}){return ii(y,T,(0,h.Z)(function*(){let O={},W={};b&&("GET"===f?W=b:O={body:JSON.stringify(b)});const de=(0,N.xO)(Object.assign({key:y.config.apiKey},W)).slice(1),Ve=yield y._getAdditionalHeaders();return Ve["Content-Type"]="application/json",y.languageCode&&(Ve["X-Firebase-Locale"]=y.languageCode),Zt.fetch()(Ki(y,y.config.apiHost,m,de),Object.assign({method:f,headers:Ve,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function ii(y,f,m){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,h.Z)(function*(y,f,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},Yt),f);try{const T=new si(y),O=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const W=yield O.json();if("needConfirmation"in W)throw Ri(y,"account-exists-with-different-credential",W);if(O.ok&&!("errorMessage"in W))return W;{const de=O.ok?W.errorMessage:W.error.message,[Ve,et]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw Ri(y,"credential-already-in-use",W);if("EMAIL_EXISTS"===Ve)throw Ri(y,"email-already-in-use",W);if("USER_DISABLED"===Ve)throw Ri(y,"user-disabled",W);const _t=b[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(et)throw De(y,_t,et);Ae(y,_t)}}catch(T){if(T instanceof N.ZR)throw T;Ae(y,"network-request-failed")}})).apply(this,arguments)}function $r(y,f,m,b){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,h.Z)(function*(y,f,m,b,T={}){const O=yield an(y,f,m,b,T);return"mfaPendingCredential"in O&&Ae(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Ki(y,f,m,b){const T=`${f}${m}?${b}`;return y.config.emulator?Un(y.config,T):`${y.config.apiScheme}://${T}`}class si{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(we(this.auth,"network-request-failed")),Gr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ri(y,f,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const T=we(y,f,b);return T.customData._tokenResponse=m,T}function fn(){return(fn=(0,h.Z)(function*(y,f){return an(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function mi(y,f){return jn.apply(this,arguments)}function jn(){return(jn=(0,h.Z)(function*(y,f){return an(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ki(y,f){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,h.Z)(function*(y,f){return an(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Hn(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function mn(){return(mn=(0,h.Z)(function*(y,f=!1){const m=(0,N.m9)(y),b=yield m.getIdToken(f),T=Xe(b);U(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const O="object"==typeof T.firebase?T.firebase:void 0,W=O?.sign_in_provider;return{claims:T,token:b,authTime:Hn(ot(T.auth_time)),issuedAtTime:Hn(ot(T.iat)),expirationTime:Hn(ot(T.exp)),signInProvider:W||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function ot(y){return 1e3*Number(y)}function Xe(y){var f;const[m,b,T]=y.split(".");if(void 0===m||void 0===b||void 0===T)return tt("JWT malformed, contained fewer than 3 sections"),null;try{const O=(0,N.tV)(b);return O?JSON.parse(O):(tt("Failed to decode base64 JWT payload"),null)}catch(O){return tt("Caught error parsing JWT payload as JSON",null===(f=O)||void 0===f?void 0:f.toString()),null}}function gr(y,f){return _n.apply(this,arguments)}function _n(){return(_n=(0,h.Z)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof N.ZR&&Bt(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Bt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Jn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,h.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(m=b)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class Is{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hn(this.lastLoginAt),this.creationTime=Hn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qt(y){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,h.Z)(function*(y){var f;const m=y.auth,b=yield y.getIdToken(),T=yield gr(y,ki(m,{idToken:b}));U(T?.users.length,m,"internal-error");const O=T.users[0];y._notifyReloadListener(O);const W=null!==(f=O.providerUserInfo)&&void 0!==f&&f.length?B(O.providerUserInfo):[],de=G(y.providerData,W),_t=!!y.isAnonymous&&!(y.email&&O.passwordHash||de?.length),ft={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:de,metadata:new Is(O.createdAt,O.lastLoginAt),isAnonymous:_t};Object.assign(y,ft)})).apply(this,arguments)}function Y(){return(Y=(0,h.Z)(function*(y){const f=(0,N.m9)(y);yield Qt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function G(y,f){return[...y.filter(b=>!f.some(T=>T.providerId===b.providerId)),...f]}function B(y){return y.map(f=>{var{providerId:m}=f,b=(0,le._T)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function q(){return(q=(0,h.Z)(function*(y,f){const m=yield ii(y,{},(0,h.Z)(function*(){const b=(0,N.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:O}=y.config,W=Ki(y,T,"/v1/token",`key=${O}`),de=yield y._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",Zt.fetch()(W,{method:"POST",headers:de,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){U(f.idToken,"internal-error"),U(typeof f.idToken<"u","internal-error"),U(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Po(y){const f=Xe(y);return U(f,"internal-error"),U(typeof f.exp<"u","internal-error"),U(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,h.Z)(function*(){return U(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,h.Z)(function*(){const{accessToken:T,refreshToken:O,expiresIn:W}=yield function $(y,f){return q.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(T,O,Number(W))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:T,expirationTime:O}=m,W=new xe;return b&&(U("string"==typeof b,"internal-error",{appName:f}),W.refreshToken=b),T&&(U("string"==typeof T,"internal-error",{appName:f}),W.accessToken=T),O&&(U("number"==typeof O,"internal-error",{appName:f}),W.expirationTime=O),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new xe,this.toJSON())}_performRefresh(){return be("not implemented")}}function Ue(y,f){U("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class ct{constructor(f){var{uid:m,auth:b,stsTokenManager:T}=f,O=(0,le._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Is(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,h.Z)(function*(){const b=yield gr(m,m.stsTokenManager.getToken(m.auth,f));return U(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function Xs(y){return mn.apply(this,arguments)}(this,f)}reload(){return function Gt(y){return Y.apply(this,arguments)}(this)}_assign(f){this!==f&&(U(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new ct(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,h.Z)(function*(){let T=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),T=!0),m&&(yield Qt(b)),yield b.auth._persistUserIfCurrent(b),T&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,h.Z)(function*(){const m=yield f.getIdToken();return yield gr(f,function yt(y,f){return fn.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,T,O,W,de,Ve,et,_t;const ft=null!==(b=m.displayName)&&void 0!==b?b:void 0,Yn=null!==(T=m.email)&&void 0!==T?T:void 0,Ui=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,_l=null!==(W=m.photoURL)&&void 0!==W?W:void 0,pu=null!==(de=m.tenantId)&&void 0!==de?de:void 0,bc=null!==(Ve=m._redirectEventId)&&void 0!==Ve?Ve:void 0,Uf=null!==(et=m.createdAt)&&void 0!==et?et:void 0,gu=null!==(_t=m.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:mu,emailVerified:yg,isAnonymous:jf,providerData:vl,stsTokenManager:_g}=m;U(mu&&_g,f,"internal-error");const Hf=xe.fromJSON(this.name,_g);U("string"==typeof mu,f,"internal-error"),Ue(ft,f.name),Ue(Yn,f.name),U("boolean"==typeof yg,f,"internal-error"),U("boolean"==typeof jf,f,"internal-error"),Ue(Ui,f.name),Ue(_l,f.name),Ue(pu,f.name),Ue(bc,f.name),Ue(Uf,f.name),Ue(gu,f.name);const Gf=new ct({uid:mu,auth:f,email:Yn,emailVerified:yg,displayName:ft,isAnonymous:jf,photoURL:_l,phoneNumber:Ui,tenantId:pu,stsTokenManager:Hf,createdAt:Uf,lastLoginAt:gu});return vl&&Array.isArray(vl)&&(Gf.providerData=vl.map(Uy=>Object.assign({},Uy))),bc&&(Gf._redirectEventId=bc),Gf}static _fromIdTokenResponse(f,m,b=!1){return(0,h.Z)(function*(){const T=new xe;T.updateFromServerResponse(m);const O=new ct({uid:m.localId,auth:f,stsTokenManager:T,isAnonymous:b});return yield Qt(O),O})()}}const Xt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,b){var T=this;return(0,h.Z)(function*(){T.storage[m]=b})()}_get(m){var b=this;return(0,h.Z)(function*(){const T=b.storage[m];return void 0===T?null:T})()}_remove(m){var b=this;return(0,h.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function ar(y,f,m){return`firebase:${y}:${f}:${m}`}class rt{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:T,name:O}=this.auth;this.fullUserKey=ar(this.userKey,T.apiKey,O),this.fullPersistenceKey=ar("persistence",T.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?ct._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,h.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,h.Z)(function*(){if(!m.length)return new rt(oe(Xt),f,b);const T=(yield Promise.all(m.map(function(){var et=(0,h.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return et.apply(this,arguments)}}()))).filter(et=>et);let O=T[0]||oe(Xt);const W=ar(b,f.config.apiKey,f.name);let de=null;for(const et of m)try{const _t=yield et._get(W);if(_t){const ft=ct._fromJSON(f,_t);et!==O&&(de=ft),O=et;break}}catch{}const Ve=T.filter(et=>et._shouldAllowMigration);return O._shouldAllowMigration&&Ve.length?(O=Ve[0],de&&(yield O._set(W,de.toJSON())),yield Promise.all(m.map(function(){var et=(0,h.Z)(function*(_t){if(_t!==O)try{yield _t._remove(W)}catch{}});return function(_t){return et.apply(this,arguments)}}())),new rt(O,f,b)):new rt(O,f,b)})()}}function hn(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ke(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(vn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(nn(f))return"Blackberry";if(Gn(f))return"Webos";if(mr(f))return"Safari";if((f.includes("chrome/")||Cr(f))&&!f.includes("edge/"))return"Chrome";if(wt(f))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function vn(y=(0,N.z$)()){return/firefox\//i.test(y)}function mr(y=(0,N.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Cr(y=(0,N.z$)()){return/crios\//i.test(y)}function Ke(y=(0,N.z$)()){return/iemobile/i.test(y)}function wt(y=(0,N.z$)()){return/android/i.test(y)}function nn(y=(0,N.z$)()){return/blackberry/i.test(y)}function Gn(y=(0,N.z$)()){return/webos/i.test(y)}function oi(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Ba(y=(0,N.z$)()){return oi(y)||wt(y)||Gn(y)||nn(y)||/windows phone/i.test(y)||Ke(y)}function kt(y,f=[]){let m;switch(y){case"Browser":m=hn((0,N.z$)());break;case"Worker":m=`${hn((0,N.z$)())}-${y}`;break;default:m=y}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${he.SDK_VERSION}/${b}`}class Va{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const b=O=>new Promise((W,de)=>{try{W(f(O))}catch(Ve){de(Ve)}});b.onAbort=m,this.queue.push(b);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,h.Z)(function*(){var b;if(m.auth.currentUser===f)return;const T=[];try{for(const O of m.queue)yield O(f),O.onAbort&&T.push(O.onAbort)}catch(O){T.reverse();for(const W of T)try{W()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=O)||void 0===b?void 0:b.message})}})()}}class Lo{constructor(f,m,b){this.app=f,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cs(this),this.idTokenSubscription=new Cs(this),this.beforeStateQueue=new Va(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=oe(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var T,O;if(!b._deleted&&(b.persistenceManager=yield rt.create(b,f),!b._deleted)){if(null!==(T=b._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(O=b.currentUser)||void 0===O?void 0:O.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,h.Z)(function*(){var b;const T=yield m.assertedPersistence.getCurrentUser();let O=T,W=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const de=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Ve=O?._redirectEventId,et=yield m.tryRedirectSignIn(f);(!de||de===Ve)&&et?.user&&(O=et.user,W=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(W)try{yield m.beforeStateQueue.runMiddleware(O)}catch(de){O=T,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(de))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return U(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(f){var m=this;return(0,h.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,h.Z)(function*(){var b;try{yield Qt(f)}catch(T){if("auth/network-request-failed"!==(null===(b=T)||void 0===b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function We(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,h.Z)(function*(){const b=f?(0,N.m9)(f):null;return b&&U(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f,m=!1){var b=this;return(0,h.Z)(function*(){if(!b._deleted)return f&&U(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,h.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(oe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new N.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,h.Z)(function*(){const T=yield b.getOrInitRedirectPersistenceManager(m);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&oe(f)||m._popupRedirectResolver;U(b,m,"argument-error"),m.redirectPersistenceManager=yield rt.create(m,[oe(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,h.Z)(function*(){var b,T;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,h.Z)(function*(){if(f===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,T){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),W=this._isInitialized?Promise.resolve():this._initializationPromise;return U(W,this,"internal-error"),W.then(()=>O(this.currentUser)),"function"==typeof m?f.addObserver(m,b,T):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=kt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return T&&(b["X-Firebase-Client"]=T),b})()}}function xn(y){return(0,N.m9)(y)}class Cs{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function As(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function zr(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Js{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return be("not implemented")}_getIdTokenResponse(f){return be("not implemented")}_linkToIdToken(f,m){return be("not implemented")}_getReauthenticationResolver(f){return be("not implemented")}}function Vt(y,f){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,h.Z)(function*(y,f){return an(y,"POST","/v1/accounts:resetPassword",Lt(y,f))})).apply(this,arguments)}function Bl(y,f){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,h.Z)(function*(y,f){return an(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ua(y,f){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,h.Z)(function*(y,f){return an(y,"POST","/v1/accounts:update",Lt(y,f))})).apply(this,arguments)}function Qi(){return(Qi=(0,h.Z)(function*(y,f){return $r(y,"POST","/v1/accounts:signInWithPassword",Lt(y,f))})).apply(this,arguments)}function $n(y,f){return ja.apply(this,arguments)}function ja(){return(ja=(0,h.Z)(function*(y,f){return an(y,"POST","/v1/accounts:sendOobCode",Lt(y,f))})).apply(this,arguments)}function qr(y,f){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,h.Z)(function*(y,f){return $n(y,f)})).apply(this,arguments)}function Uo(y,f){return eo.apply(this,arguments)}function eo(){return(eo=(0,h.Z)(function*(y,f){return $n(y,f)})).apply(this,arguments)}function jo(y,f){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,h.Z)(function*(y,f){return $n(y,f)})).apply(this,arguments)}function Wp(y,f){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,h.Z)(function*(y,f){return $n(y,f)})).apply(this,arguments)}function Uu(){return(Uu=(0,h.Z)(function*(y,f){return $r(y,"POST","/v1/accounts:signInWithEmailLink",Lt(y,f))})).apply(this,arguments)}function vd(){return(vd=(0,h.Z)(function*(y,f){return $r(y,"POST","/v1/accounts:signInWithEmailLink",Lt(y,f))})).apply(this,arguments)}class ju extends Js{constructor(f,m,b,T=null){super("password",b),this._email=f,this._password=m,this._tenantId=T}static _fromEmailAndPassword(f,m){return new ju(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new ju(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,h.Z)(function*(){switch(m.signInMethod){case"password":return function Vo(y,f){return Qi.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function lf(y,f){return Uu.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ae(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,h.Z)(function*(){switch(b.signInMethod){case"password":return Bl(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function _d(y,f){return vd.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:Ae(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function lr(y,f){return bd.apply(this,arguments)}function bd(){return(bd=(0,h.Z)(function*(y,f){return $r(y,"POST","/v1/accounts:signInWithIdp",Lt(y,f))})).apply(this,arguments)}class Xi extends Js{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Xi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T}=m,O=(0,le._T)(m,["providerId","signInMethod"]);if(!b||!T)return null;const W=new Xi(b,T);return W.idToken=O.idToken||void 0,W.accessToken=O.accessToken||void 0,W.secret=O.secret,W.nonce=O.nonce,W.pendingToken=O.pendingToken||null,W}_getIdTokenResponse(f){return lr(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,lr(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,lr(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,N.xO)(m)}return f}}function Zp(y,f){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,h.Z)(function*(y,f){return an(y,"POST","/v1/accounts:sendVerificationCode",Lt(y,f))})).apply(this,arguments)}function Ms(){return(Ms=(0,h.Z)(function*(y,f){return $r(y,"POST","/v1/accounts:signInWithPhoneNumber",Lt(y,f))})).apply(this,arguments)}function wd(){return(wd=(0,h.Z)(function*(y,f){const m=yield $r(y,"POST","/v1/accounts:signInWithPhoneNumber",Lt(y,f));if(m.temporaryProof)throw Ri(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Qp={USER_NOT_FOUND:"user-not-found"};function Ha(){return(Ha=(0,h.Z)(function*(y,f){return $r(y,"POST","/v1/accounts:signInWithPhoneNumber",Lt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Qp)})).apply(this,arguments)}class Ho extends Js{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Ho({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Ho({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Gu(y,f){return Ms.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Yp(y,f){return wd.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ed(y,f){return Ha.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:T}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:T,temporaryProof:O}=f;return b||m||T||O?new Ho({verificationId:m,verificationCode:b,phoneNumber:T,temporaryProof:O}):null}}class _i{constructor(f){var m,b,T,O,W,de;const Ve=(0,N.zd)((0,N.pd)(f)),et=null!==(m=Ve.apiKey)&&void 0!==m?m:null,_t=null!==(b=Ve.oobCode)&&void 0!==b?b:null,ft=function xy(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ve.mode)&&void 0!==T?T:null);U(et&&_t&&ft,"argument-error"),this.apiKey=et,this.operation=ft,this.code=_t,this.continueUrl=null!==(O=Ve.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(W=Ve.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(de=Ve.tenantId)&&void 0!==de?de:null}static parseLink(f){const m=function Dd(y){const f=(0,N.zd)((0,N.pd)(y)).link,m=f?(0,N.zd)((0,N.pd)(f)).deep_link_id:null,b=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(b?(0,N.zd)((0,N.pd)(b)).link:null)||b||m||f||y}(f);try{return new _i(m)}catch{return null}}}let Go=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return ju._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const T=_i.parseLink(b);return U(T,"argument-error"),ju._fromEmailAndCode(m,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Fi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class to extends Fi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class $o extends to{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return U("providerId"in m&&"signInMethod"in m,"argument-error"),Xi._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return U(f.idToken||f.accessToken,"argument-error"),Xi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return $o.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return $o.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:T,pendingToken:O,nonce:W,providerId:de}=f;if(!b&&!T&&!m&&!O||!de)return null;try{return new $o(de)._credential({idToken:m,accessToken:b,nonce:W,pendingToken:O})}catch{return null}}}let zo=(()=>{class y extends to{constructor(){super("facebook.com")}static credential(m){return Xi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ga=(()=>{class y extends to{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Xi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:T}=m;if(!b&&!T)return null;try{return y.credential(b,T)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),xd=(()=>{class y extends to{constructor(){super("github.com")}static credential(m){return Xi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class qo extends Js{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return lr(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,lr(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,lr(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T,pendingToken:O}=m;return b&&T&&O&&b===T?new qo(b,O):null}static _create(f,m){return new qo(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wr extends Fi{constructor(f){U(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Wr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Wr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=qo.fromJSON(f);return U(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return qo._create(b,m)}catch{return null}}}let Ad=(()=>{class y extends to{constructor(){super("twitter.com")}static credential(m,b){return Xi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:T}=m;if(!b||!T)return null;try{return y.credential(b,T)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Wo(y,f){return vi.apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(y,f){return $r(y,"POST","/v1/accounts:signUp",Lt(y,f))})).apply(this,arguments)}class er{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,T=!1){return(0,h.Z)(function*(){const O=yield ct._fromIdTokenResponse(f,b,T),W=zn(b);return new er({user:O,providerId:W,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const T=zn(b);return new er({user:f,providerId:T,_tokenResponse:b,operationType:m})})()}}function zn(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function uf(){return(uf=(0,h.Z)(function*(y){var f;const m=xn(y);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new er({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Wo(m,{returnSecureToken:!0}),T=yield er._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ko extends N.ZR{constructor(f,m,b,T){var O;super(m.code,m.message),this.operationType=b,this.user=T,Object.setPrototypeOf(this,Ko.prototype),this.customData={appName:f.name,tenantId:null!==(O=f.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,T){return new Ko(f,m,b,T)}}function ai(y,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Ko._fromErrorAndOperation(y,O,f,b):O})}function Ji(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function es(){return(es=(0,h.Z)(function*(y,f){const m=(0,N.m9)(y);yield bi(!0,m,f);const{providerUserInfo:b}=yield mi(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),T=Ji(b||[]);return m.providerData=m.providerData.filter(O=>T.has(O.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Sr(y,f){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,h.Z)(function*(y,f,m=!1){const b=yield gr(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return er._forOperation(y,"link",b)})).apply(this,arguments)}function bi(y,f,m){return ts.apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(y,f,m){yield Qt(f);const T=!1===y?"provider-already-linked":"no-such-provider";U(Ji(f.providerData).has(m)===y,f.auth,T)})).apply(this,arguments)}function ns(y,f){return rs.apply(this,arguments)}function rs(){return(rs=(0,h.Z)(function*(y,f,m=!1){var b;const{auth:T}=y,O="reauthenticate";try{const W=yield gr(y,ai(T,O,f,y),m);U(W.idToken,T,"internal-error");const de=Xe(W.idToken);U(de,T,"internal-error");const{sub:Ve}=de;return U(y.uid===Ve,T,"user-mismatch"),er._forOperation(y,O,W)}catch(W){throw"auth/user-not-found"===(null===(b=W)||void 0===b?void 0:b.code)&&Ae(T,"user-mismatch"),W}})).apply(this,arguments)}function Yo(y,f){return It.apply(this,arguments)}function It(){return(It=(0,h.Z)(function*(y,f,m=!1){const b="signIn",T=yield ai(y,b,f),O=yield er._fromIdTokenResponse(y,b,T);return m||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Fn(y,f){return Td.apply(this,arguments)}function Td(){return(Td=(0,h.Z)(function*(y,f){return Yo(xn(y),f)})).apply(this,arguments)}function Ul(y,f){return $u.apply(this,arguments)}function $u(){return($u=(0,h.Z)(function*(y,f){const m=(0,N.m9)(y);return yield bi(!1,m,f.providerId),Sr(m,f)})).apply(this,arguments)}function no(y,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,h.Z)(function*(y,f){return ns((0,N.m9)(y),f)})).apply(this,arguments)}function jl(y,f){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,h.Z)(function*(y,f){return $r(y,"POST","/v1/accounts:signInWithCustomToken",Lt(y,f))})).apply(this,arguments)}function Ut(){return(Ut=(0,h.Z)(function*(y,f){const m=xn(y),b=yield jl(m,{token:f,returnSecureToken:!0}),T=yield er._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class ks{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Xo._fromServerResponse(f,m):Ae(f,"internal-error")}}class Xo extends ks{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Xo(m)}}function bn(y,f,m){var b;U((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),U(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(U(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(U(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Os(){return(Os=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y),T={requestType:"PASSWORD_RESET",email:f};m&&bn(b,T,m),yield Uo(b,T)})).apply(this,arguments)}function qa(){return(qa=(0,h.Z)(function*(y,f,m){yield Vt((0,N.m9)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Jo(){return(Jo=(0,h.Z)(function*(y,f){yield Ua((0,N.m9)(y),{oobCode:f})})).apply(this,arguments)}function Ka(y,f){return cf.apply(this,arguments)}function cf(){return(cf=(0,h.Z)(function*(y,f){const m=(0,N.m9)(y),b=yield Vt(m,{oobCode:f}),T=b.requestType;switch(U(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(b.mfaInfo,m,"internal-error");default:U(b.email,m,"internal-error")}let O=null;return b.mfaInfo&&(O=ks._fromServerResponse(xn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:O},operation:T}})).apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(y,f){const{data:m}=yield Ka((0,N.m9)(y),f);return m.email})).apply(this,arguments)}function Za(){return(Za=(0,h.Z)(function*(y,f,m){const b=xn(y),T=yield Wo(b,{returnSecureToken:!0,email:f,password:m}),O=yield er._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(O.user),O})).apply(this,arguments)}function zu(){return(zu=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y),T={requestType:"EMAIL_SIGNIN",email:f};U(m.handleCodeInApp,b,"argument-error"),m&&bn(b,T,m),yield jo(b,T)})).apply(this,arguments)}function Ya(){return(Ya=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y),T=Go.credentialWithLink(f,m||Ne());return U(T._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Fn(b,T)})).apply(this,arguments)}function Wu(y,f){return io.apply(this,arguments)}function io(){return(io=(0,h.Z)(function*(y,f){return an(y,"POST","/v1/accounts:createAuthUri",Lt(y,f))})).apply(this,arguments)}function Qa(){return(Qa=(0,h.Z)(function*(y,f){const b={identifier:f,continueUri:pt()?Ne():"http://localhost"},{signinMethods:T}=yield Wu((0,N.m9)(y),b);return T||[]})).apply(this,arguments)}function ea(){return(ea=(0,h.Z)(function*(y,f){const m=(0,N.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&bn(m.auth,T,f);const{email:O}=yield qr(m.auth,T);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function $l(){return($l=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&bn(b.auth,O,m);const{email:W}=yield Wp(b.auth,O);W!==y.email&&(yield y.reload())})).apply(this,arguments)}function zl(y,f){return ql.apply(this,arguments)}function ql(){return(ql=(0,h.Z)(function*(y,f){return an(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ta(){return(ta=(0,h.Z)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,N.m9)(y),O={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},W=yield gr(b,zl(b.auth,O));b.displayName=W.displayName||null,b.photoURL=W.photoUrl||null;const de=b.providerData.find(({providerId:Ve})=>"password"===Ve);de&&(de.displayName=b.displayName,de.photoURL=b.photoURL),yield b._updateTokensIfNecessary(W)})).apply(this,arguments)}function cr(y,f,m){return ui.apply(this,arguments)}function ui(){return(ui=(0,h.Z)(function*(y,f,m){const{auth:b}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(O.email=f),m&&(O.password=m);const W=yield gr(y,Bl(b,O));yield y._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class na{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class Rd extends na{constructor(f,m,b,T){super(f,m,b),this.username=T}}class hf extends na{constructor(f,m){super(f,"facebook.com",m)}}class kd extends Rd{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class ff extends na{constructor(f,m){super(f,"google.com",m)}}class Zu extends Rd{constructor(f,m,b){super(f,"twitter.com",m,b)}}function Zl(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function wn(y){var f,m;if(!y)return null;const{providerId:b}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const W=null===(m=null===(f=Xe(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(W)return new na(O,"anonymous"!==W&&"custom"!==W?W:null)}if(!b)return null;switch(b){case"facebook.com":return new hf(O,T);case"github.com":return new kd(O,T);case"google.com":return new ff(O,T);case"twitter.com":return new Zu(O,T,y.screenName||null);case"custom":case"anonymous":return new na(O,null);default:return new na(O,b,T)}}(m)}class Li{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new Li("enroll",f)}static _fromMfaPendingCredential(f){return new Li("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Li._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return Li._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ja{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=xn(f),T=m.customData._serverResponse,O=(T.mfaInfo||[]).map(de=>ks._fromServerResponse(b,de));U(T.mfaPendingCredential,b,"internal-error");const W=Li._fromMfaPendingCredential(T.mfaPendingCredential);return new Ja(W,O,function(){var de=(0,h.Z)(function*(Ve){const et=yield Ve._process(b,W);delete T.mfaInfo,delete T.mfaPendingCredential;const _t=Object.assign(Object.assign({},T),{idToken:et.idToken,refreshToken:et.refreshToken});switch(m.operationType){case"signIn":const ft=yield er._fromIdTokenResponse(b,m.operationType,_t);return yield b._updateCurrentUser(ft.user),ft;case"reauthenticate":return U(m.user,b,"internal-error"),er._forOperation(m.user,m.operationType,_t);default:Ae(b,"internal-error")}});return function(Ve){return de.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,h.Z)(function*(){return m.signInResolver(f)})()}}function yf(y,f){return an(y,"POST","/v2/accounts/mfaEnrollment:start",Lt(y,f))}class el{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>ks._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new el(f)}getSession(){var f=this;return(0,h.Z)(function*(){return Li._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var b=this;return(0,h.Z)(function*(){const T=f,O=yield b.getSession(),W=yield gr(b.user,T._process(b.user.auth,O,m));return yield b.user._updateTokensIfNecessary(W),b.user.reload()})()}unenroll(f){var m=this;return(0,h.Z)(function*(){var b;const T="string"==typeof f?f:f.uid,O=yield m.user.getIdToken(),W=yield gr(m.user,function Sy(y,f){return an(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Lt(y,f))}(m.user.auth,{idToken:O,mfaEnrollmentId:T}));m.enrolledFactors=m.enrolledFactors.filter(({uid:de})=>de!==T),yield m.user._updateTokensIfNecessary(W);try{yield m.user.reload()}catch(de){if("auth/user-token-expired"!==(null===(b=de)||void 0===b?void 0:b.code))throw de}})()}}const tl=new WeakMap,Fs="__sak";class Nd{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Fs,"1"),this.storage.removeItem(Fs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const os=(()=>{class y extends Nd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _f(){const y=(0,N.z$)();return mr(y)||oi(y)}()&&function xs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ba(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const T=this.storage.getItem(b),O=this.localCache[b];T!==O&&m(b,O,T)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((de,Ve,et)=>{this.notifyListeners(de,et)});const T=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(T);if(m.newValue!==de)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!b)return}const O=()=>{const de=this.storage.getItem(T);!b&&this.localCache[T]===de||this.notifyListeners(T,de)},W=this.storage.getItem(T);!function In(){return(0,N.w1)()&&10===document.documentMode}()||W===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,b){this.localCache[m]=b;const T=this.listeners[m];if(T)for(const O of Array.from(T))O(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var T=()=>super._set,O=this;return(0,h.Z)(function*(){yield T().call(O,m,b),O.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,T=this;return(0,h.Z)(function*(){const O=yield b().call(T,m);return T.localCache[m]=JSON.stringify(O),O})()}_remove(m){var b=()=>super._remove,T=this;return(0,h.Z)(function*(){yield b().call(T,m),delete T.localCache[m]})()}}return y.type="LOCAL",y})(),Ns=(()=>{class y extends Nd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let ve=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(O=>O.isListeningto(m));if(b)return b;const T=new y(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,h.Z)(function*(){const T=m,{eventId:O,eventType:W,data:de}=T.data,Ve=b.handlersMap[W];if(!Ve?.size)return;T.ports[0].postMessage({status:"ack",eventId:O,eventType:W});const et=Array.from(Ve).map(function(){var ft=(0,h.Z)(function*(Yn){return Yn(T.origin,de)});return function(Yn){return ft.apply(this,arguments)}}()),_t=yield function Pd(y){return Promise.all(y.map(function(){var f=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(et);T.ports[0].postMessage({status:"done",eventId:O,eventType:W,response:_t})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function as(y="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return y+m}class pn{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var T=this;return(0,h.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let W,de;return new Promise((Ve,et)=>{const _t=as("",20);O.port1.start();const ft=setTimeout(()=>{et(new Error("unsupported_event"))},b);de={messageChannel:O,onMessage(Yn){const Ui=Yn;if(Ui.data.eventId===_t)switch(Ui.data.status){case"ack":clearTimeout(ft),W=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Ve(Ui.data.response);break;default:clearTimeout(ft),clearTimeout(W),et(new Error("invalid_response"))}}},T.handlers.add(de),O.port1.addEventListener("message",de.onMessage),T.target.postMessage({eventType:f,eventId:_t,data:m},[O.port2])}).finally(()=>{de&&T.removeMessageHandler(de)})})()}}function rn(){return window}function Nn(){return typeof rn().WorkerGlobalScope<"u"&&"function"==typeof rn().importScripts}function ia(){return(ia=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Cn="firebaseLocalStorageDb",gn="firebaseLocalStorage",sl="fbase_key";class jt{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function oo(y,f){return y.transaction([gn],f?"readwrite":"readonly").objectStore(gn)}function sa(){const y=indexedDB.open(Cn,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(gn,{keyPath:sl})}catch(T){m(T)}}),y.addEventListener("success",(0,h.Z)(function*(){const b=y.result;b.objectStoreNames.contains(gn)?f(b):(b.close(),yield function ls(){const y=indexedDB.deleteDatabase(Cn);return new jt(y).toPromise()}(),f(yield sa()))}))})}function oa(y,f,m){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,h.Z)(function*(y,f,m){const b=oo(y,!0).put({[sl]:f,value:m});return new jt(b).toPromise()})).apply(this,arguments)}function Lr(){return(Lr=(0,h.Z)(function*(y,f){const m=oo(y,!1).get(f),b=yield new jt(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Qu(y,f){const m=oo(y,!0).delete(f);return new jt(m).toPromise()}const Br=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield sa()),m.db})()}_withRetries(m){var b=this;return(0,h.Z)(function*(){let T=0;for(;;)try{const O=yield b._openDb();return yield m(O)}catch(O){if(T++>3)throw O;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return Nn()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=ve._getInstance(function rl(){return Nn()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,h.Z)(function*(T,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(T,O){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,h.Z)(function*(T,O){return["keyChanged"]});return function(T,O){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var b,T;if(m.activeServiceWorker=yield function Pn(){return ia.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new pn(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);!O||(null===(b=O[0])||void 0===b?void 0:b.fulfilled)&&(null===(T=O[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,h.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Yl(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield sa();return yield oa(m,Fs,"1"),yield Qu(m,Fs),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,h.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var T=this;return(0,h.Z)(function*(){return T._withPendingWrite((0,h.Z)(function*(){return yield T._withRetries(O=>oa(O,m,b)),T.localCache[m]=b,T.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,h.Z)(function*(){const T=yield b._withRetries(O=>function An(y,f){return Lr.apply(this,arguments)}(O,m));return b.localCache[m]=T,T})()}_remove(m){var b=this;return(0,h.Z)(function*(){return b._withPendingWrite((0,h.Z)(function*(){return yield b._withRetries(T=>Qu(T,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const b=yield m._withRetries(W=>{const de=oo(W,!1).getAll();return new jt(de).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const T=[],O=new Set;for(const{fbase_key:W,value:de}of b)O.add(W),JSON.stringify(m.localCache[W])!==JSON.stringify(de)&&(m.notifyListeners(W,de),T.push(W));for(const W of Object.keys(m.localCache))m.localCache[W]&&!O.has(W)&&(m.notifyListeners(W,null),T.push(W));return T})()}notifyListeners(m,b){this.localCache[m]=b;const T=this.listeners[m];if(T)for(const O of Array.from(T))O(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Mt(y,f){return an(y,"POST","/v2/accounts/mfaSignIn:start",Lt(y,f))}function Je(){return(Je=(0,h.Z)(function*(y){return(yield an(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function gt(y){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=f,b.onerror=T=>{const O=we("internal-error");O.customData=T,m(O)},b.type="text/javascript",b.charset="UTF-8",function ua(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(b)})}function ol(y){return`__${y}${Math.floor(1e6*Math.random())}`}const al=1e12;class vf{constructor(f){this.auth=f,this.counter=al,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new Jp(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||al;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||al))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,h.Z)(function*(){var b;return null===(b=m._widgets.get(f||al))||void 0===b||b.execute(),""})()}}class Jp{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;U(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function eg(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bf=ol("rcb"),Mr=new on(3e4,6e4);class En{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=rn().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return U(function ca(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(rn().grecaptcha):new Promise((b,T)=>{const O=rn().setTimeout(()=>{T(we(f,"network-request-failed"))},Mr.get());rn()[bf]=()=>{rn().clearTimeout(O),delete rn()[bf];const de=rn().grecaptcha;if(!de)return void T(we(f,"internal-error"));const Ve=de.render;de.render=(et,_t)=>{const ft=Ve(et,_t);return this.counter++,ft},this.hostLanguage=m,b(de)},gt(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:bf,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),T(we(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=rn().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ty{load(f){return(0,h.Z)(function*(){return new vf(f)})()}clearedOneInstance(){}}const nr="recaptcha",Ju={theme:"light",type:"image"};class ll{constructor(f,m=Object.assign({},Ju),b){this.parameters=m,this.type=nr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xn(b),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;U(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ty:new En,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(O=>{const W=de=>{!de||(f.tokenChangeListeners.delete(W),O(de))};f.tokenChangeListeners.add(W),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=rn()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){U(pt()&&!Nn(),f.auth,"internal-error"),yield function tg(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Sn(y){return Je.apply(this,arguments)}(f.auth);U(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ec{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Ho._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Vr(){return(Vr=(0,h.Z)(function*(y,f,m){const b=xn(y),T=yield ul(b,f,(0,N.m9)(m));return new ec(T,O=>Fn(b,O))})).apply(this,arguments)}function qn(){return(qn=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y);yield bi(!1,b,"phone");const T=yield ul(b.auth,f,(0,N.m9)(m));return new ec(T,O=>Ul(b,O))})).apply(this,arguments)}function dr(){return(dr=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y),T=yield ul(b.auth,f,(0,N.m9)(m));return new ec(T,O=>no(b,O))})).apply(this,arguments)}function ul(y,f,m){return eu.apply(this,arguments)}function eu(){return(eu=(0,h.Z)(function*(y,f,m){var b;const T=yield m.verify();try{let O;if(U("string"==typeof T,y,"argument-error"),U(m.type===nr,y,"argument-error"),O="string"==typeof f?{phoneNumber:f}:f,"session"in O){const W=O.session;if("phoneNumber"in O)return U("enroll"===W.type,y,"internal-error"),(yield yf(y,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{U("signin"===W.type,y,"internal-error");const de=(null===(b=O.multiFactorHint)||void 0===b?void 0:b.uid)||O.multiFactorUid;return U(de,y,"missing-multi-factor-info"),(yield Mt(y,{mfaPendingCredential:W.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield Zp(y,{phoneNumber:O.phoneNumber,recaptchaToken:T});return W}}finally{m._reset()}})).apply(this,arguments)}function nc(){return(nc=(0,h.Z)(function*(y,f){yield Sr((0,N.m9)(y),f)})).apply(this,arguments)}let uo=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=xn(m)}verifyPhoneNumber(m,b){return ul(this.auth,m,(0,N.m9)(b))}static credential(m,b){return Ho._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:T}=m;return b&&T?Ho._fromTokenResponse(b,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Wn(y,f){return f?oe(f):(U(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class co extends Js{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return lr(f,this._buildIdpRequest())}_linkToIdToken(f,m){return lr(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return lr(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function da(y){return Yo(y.auth,new co(y),y.bypassAuthState)}function Ld(y){const{auth:f,user:m}=y;return U(m,f,"internal-error"),ns(m,new co(y),y.bypassAuthState)}function us(y){return ha.apply(this,arguments)}function ha(){return(ha=(0,h.Z)(function*(y){const{auth:f,user:m}=y;return U(m,f,"internal-error"),Sr(m,new co(y),y.bypassAuthState)})).apply(this,arguments)}class fa{constructor(f,m,b,T,O=!1){this.auth=f,this.resolver=b,this.user=T,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,h.Z)(function*(b,T){f.pendingPromise={resolve:b,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(O){f.reject(O)}});return function(b,T){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,h.Z)(function*(){const{urlResponse:b,sessionId:T,postBody:O,tenantId:W,error:de,type:Ve}=f;if(de)return void m.reject(de);const et={auth:m.auth,requestUri:b,sessionId:T,tenantId:W||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ve)(et))}catch(_t){m.reject(_t)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return da;case"linkViaPopup":case"linkViaRedirect":return us;case"reauthViaPopup":case"reauthViaRedirect":return Ld;default:Ae(this.auth,"internal-error")}}resolve(f){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tu=new on(2e3,1e4);function pa(){return(pa=(0,h.Z)(function*(y,f,m){const b=xn(y);He(y,f,Fi);const T=Wn(b,m);return new ho(b,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function ga(){return(ga=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y);He(b.auth,f,Fi);const T=Wn(b.auth,m);return new ho(b.auth,"reauthViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}function nu(){return(nu=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y);He(b.auth,f,Fi);const T=Wn(b.auth,m);return new ho(b.auth,"linkViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}let ho=(()=>{class y extends fa{constructor(m,b,T,O,W){super(m,b,O,W),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const b=yield m.execute();return U(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,h.Z)(function*(){X(1===m.filter.length,"Popup operations only handle one event");const b=as();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(we(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,T;this.pollId=null!==(T=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,tu.get())};m()}}return y.currentPopupAction=null,y})();const wi=new Map;class Bd extends fa{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,h.Z)(function*(){let b=wi.get(m.auth._key());if(!b){try{const O=(yield function Ef(y,f){return cs.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(O)}catch(T){b=()=>Promise.reject(T)}wi.set(m.auth._key(),b)}return m.bypassAuthState||wi.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const T=yield b.auth._redirectUserForId(f.eventId);if(T)return b.user=T,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function cs(){return(cs=(0,h.Z)(function*(y,f){const m=sc(f),b=Tn(y);if(!(yield b._isAvailable()))return!1;const T="true"===(yield b._get(m));return yield b._remove(m),T})).apply(this,arguments)}function rr(y,f){return vr.apply(this,arguments)}function vr(){return(vr=(0,h.Z)(function*(y,f){return Tn(y)._set(sc(f),"true")})).apply(this,arguments)}function ma(y,f){wi.set(y._key(),f)}function Tn(y){return oe(y._redirectPersistence)}function sc(y){return ar("pendingRedirect",y.config.apiKey,y.name)}function I(){return(I=(0,h.Z)(function*(y,f,m){const b=xn(y);He(y,f,Fi);const T=Wn(b,m);return yield rr(T,b),T._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function L(){return(L=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y);He(b.auth,f,Fi);const T=Wn(b.auth,m);yield rr(T,b.auth);const O=yield ht(b);return T._openRedirect(b.auth,f,"reauthViaRedirect",O)})).apply(this,arguments)}function Se(){return(Se=(0,h.Z)(function*(y,f,m){const b=(0,N.m9)(y);He(b.auth,f,Fi);const T=Wn(b.auth,m);yield bi(!1,b,f.providerId),yield rr(T,b.auth);const O=yield ht(b);return T._openRedirect(b.auth,f,"linkViaRedirect",O)})).apply(this,arguments)}function mt(){return(mt=(0,h.Z)(function*(y,f){return yield xn(y)._initializationPromise,xt(y,f,!1)})).apply(this,arguments)}function xt(y,f){return St.apply(this,arguments)}function St(){return(St=(0,h.Z)(function*(y,f,m=!1){const b=xn(y),T=Wn(b,f),W=yield new Bd(b,T,m).execute();return W&&!m&&(delete W.user._redirectEventId,yield b._persistUserIfCurrent(W.user),yield b._setRedirectUser(null,f)),W})).apply(this,arguments)}function ht(y){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,h.Z)(function*(y){const f=as(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class fo{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ru(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ln(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!ln(f)){const T=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(we(this.auth,T))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sn(f))}saveEventToCache(f){this.cachedEventUids.add(sn(f)),this.lastProcessedEventTime=Date.now()}}function sn(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function ln({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function pl(y){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,h.Z)(function*(y,f={}){return an(y,"GET","/v1/projects",f)})).apply(this,arguments)}const po=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ya=/^https?/;function Df(){return(Df=(0,h.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield pl(y);for(const m of f)try{if(If(m))return}catch{}Ae(y,"unauthorized-domain")})).apply(this,arguments)}function If(y){const f=Ne(),{protocol:m,hostname:b}=new URL(f);if(y.startsWith("chrome-extension://")){const W=new URL(y);return""===W.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&W.hostname===b}if(!ya.test(m))return!1;if(po.test(y))return b===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(b)}const iu=new on(3e4,6e4);function xf(){const y=rn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let su=null;function Gb(y){return su=su||function Cf(y){return new Promise((f,m)=>{var b,T,O;function W(){xf(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{xf(),m(we(y,"network-request-failed"))},timeout:iu.get()})}if(null!==(T=null===(b=rn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(O=rn().gapi)||void 0===O||!O.load){const de=ol("iframefcb");return rn()[de]=()=>{gapi.load?W():m(we(y,"network-request-failed"))},gt(`https://apis.google.com/js/api.js?onload=${de}`).catch(Ve=>m(Ve))}W()}}).catch(f=>{throw su=null,f})}(y),su}const oc=new on(5e3,15e3),rg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ig=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _a(y){const f=y.config;U(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?Un(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:y.name,v:he.SDK_VERSION},T=ig.get(y.config.apiHost);T&&(b.eid=T);const O=y._getFrameworks();return O.length&&(b.fw=O.join(",")),`${m}?${(0,N.xO)(b).slice(1)}`}function go(){return go=(0,h.Z)(function*(y){const f=yield Gb(y),m=rn().gapi;return U(m,y,"internal-error"),f.open({where:document.body,url:_a(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rg,dontclear:!0},b=>new Promise(function(){var T=(0,h.Z)(function*(O,W){yield b.restyle({setHideOnLeave:!1});const de=we(y,"network-request-failed"),Ve=rn().setTimeout(()=>{W(de)},oc.get());function et(){rn().clearTimeout(Ve),O(b)}b.ping(et).then(et,()=>{W(de)})});return function(O,W){return T.apply(this,arguments)}}()))}),go.apply(this,arguments)}const sg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Af{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $d(y,f,m,b,T,O){U(y.config.authDomain,y,"auth-domain-config-required"),U(y.config.apiKey,y,"invalid-api-key");const W={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:he.SDK_VERSION,eventId:T};if(f instanceof Fi){f.setDefaultLanguage(y.languageCode),W.providerId=f.providerId||"",(0,N.xb)(f.getCustomParameters())||(W.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ve,et]of Object.entries(O||{}))W[Ve]=et}if(f instanceof to){const Ve=f.getScopes().filter(et=>""!==et);Ve.length>0&&(W.scopes=Ve.join(","))}y.tenantId&&(W.tid=y.tenantId);const de=W;for(const Ve of Object.keys(de))void 0===de[Ve]&&delete de[Ve];return`${function lc({config:y}){return y.emulator?Un(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(de).slice(1)}`}const zd="webStorageSupport";class ou extends class Bs{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return be("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ou(f)}_finalizeEnroll(f,m,b){return function Ay(y,f){return an(y,"POST","/v2/accounts/mfaEnrollment:finalize",Lt(y,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function la(y,f){return an(y,"POST","/v2/accounts/mfaSignIn:finalize",Lt(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ag=(()=>{class y{constructor(){}static assertion(m){return ou._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var qd="@firebase/auth";class lg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{var T;f((null===(T=b)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mo(){return window}function Tf(){return(Tf=(0,h.Z)(function*(y,f,m){var b;const{BuildInfo:T}=mo();X(f.sessionId,"AuthEvent did not contain a session ID");const O=yield Rf(f.sessionId),W={};return oi()?W.ibi=T.packageName:wt()?W.apn=T.packageName:Ae(y,"operation-not-supported-in-this-environment"),T.displayName&&(W.appDisplayName=T.displayName),W.sessionId=O,$d(y,m,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,W)})).apply(this,arguments)}function yo(){return(yo=(0,h.Z)(function*(y){const{BuildInfo:f}=mo(),m={};oi()?m.iosBundleId=f.packageName:wt()?m.androidPackageName=f.packageName:Ae(y,"operation-not-supported-in-this-environment"),yield pl(y,m)})).apply(this,arguments)}function Ea(){return(Ea=(0,h.Z)(function*(y,f,m){const{cordova:b}=mo();let T=()=>{};try{yield new Promise((O,W)=>{let de=null;function Ve(){var ft;O();const Yn=null===(ft=b.plugins.browsertab)||void 0===ft?void 0:ft.close;"function"==typeof Yn&&Yn(),"function"==typeof m?.close&&m.close()}function et(){de||(de=window.setTimeout(()=>{W(we(y,"redirect-cancelled-by-user"))},2e3))}function _t(){"visible"===document?.visibilityState&&et()}f.addPassiveListener(Ve),document.addEventListener("resume",et,!1),wt()&&document.addEventListener("visibilitychange",_t,!1),T=()=>{f.removePassiveListener(Ve),document.removeEventListener("resume",et,!1),document.removeEventListener("visibilitychange",_t,!1),de&&window.clearTimeout(de)}})}finally{T()}})).apply(this,arguments)}function Rf(y){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,h.Z)(function*(y){const f=Yd(y),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Yd(y){if(X(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),m=new Uint8Array(f);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}!function Wd(y){(0,he._registerComponent)(new ue.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),{apiKey:O,authDomain:W}=b.options;return((de,Ve)=>{U(O&&!O.includes(":"),"invalid-api-key",{appName:de.name}),U(!W?.includes(":"),"argument-error",{appName:de.name});const et={apiKey:O,authDomain:W,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kt(y)},_t=new Lo(de,Ve,et);return function Le(y,f){const m=f?.persistence||[],b=(Array.isArray(m)?m:[m]).map(oe);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(b,f?.popupRedirectResolver)}(_t,m),_t})(b,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,he._registerComponent)(new ue.wA("auth-internal",f=>{const m=xn(f.getProvider("auth").getImmediate());return new lg(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.registerVersion)(qd,"0.20.5",function uc(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,he.registerVersion)(qd,"0.20.5","esm2017")}("Browser");class kf extends fo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,h.Z)(function*(){yield f.initPromise})()}}function au(y){return cg.apply(this,arguments)}function cg(){return(cg=(0,h.Z)(function*(y){const f=yield hc()._get(vo(y));return f&&(yield hc()._remove(vo(y))),f})).apply(this,arguments)}function ml(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*f.length);y.push(f.charAt(b))}return y.join("")}function hc(){return oe(os)}function vo(y){return ar("authEvent",y.config.apiKey,y.name)}function hs(y){if(!y?.includes("?"))return{};const[f,...m]=y.split("?");return(0,N.zd)(m.join("?"))}function pc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}function uu(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function cu(y=(0,N.z$)()){return!("file:"!==uu()&&"ionic:"!==uu()&&"capacitor:"!==uu()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ny(){try{const y=self.localStorage,f=as();if(y)return y.setItem(f,"1"),y.removeItem(f),!function zb(y=(0,N.z$)()){return function fg(){return(0,N.w1)()&&11===document?.documentMode}()||function Fy(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch{return yl()&&(0,N.hl)()}return!1}function yl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Da(){return(function gc(){return"http:"===uu()||"https:"===uu()}()||(0,N.ru)()||cu())&&!function Oy(){return(0,N.b$)()||(0,N.UG)()}()&&Ny()&&!yl()}function Vs(){return cu()&&typeof document<"u"}function mc(){return(mc=(0,h.Z)(function*(){return!!Vs()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const br={LOCAL:"local",NONE:"none",SESSION:"session"},du=U,Xd="persistence";function Nf(y){return hu.apply(this,arguments)}function hu(){return(hu=(0,h.Z)(function*(y){yield y._initializationPromise;const f=yc(),m=ar(Xd,y.config.apiKey,y.name);f&&f.setItem(m,y._getPersistence())})).apply(this,arguments)}function yc(){var y;try{return(null===(y=function pg(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const bo=U;class wo{constructor(){this.browserResolver=oe(class ei{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ns,this._completeRedirectFn=xt,this._overrideRedirectResult=ma}_openPopup(f,m,b,T){var O=this;return(0,h.Z)(function*(){var W;X(null===(W=O.eventManagers[f._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const de=$d(f,m,b,Ne(),T);return function og(y,f,m,b=500,T=600){const O=Math.max((window.screen.availHeight-T)/2,0).toString(),W=Math.max((window.screen.availWidth-b)/2,0).toString();let de="";const Ve=Object.assign(Object.assign({},sg),{width:b.toString(),height:T.toString(),top:O,left:W}),et=(0,N.z$)().toLowerCase();m&&(de=Cr(et)?"_blank":m),vn(et)&&(f=f||"http://localhost",Ve.scrollbars="yes");const _t=Object.entries(Ve).reduce((Yn,[Ui,_l])=>`${Yn}${Ui}=${_l},`,"");if(function yi(y=(0,N.z$)()){var f;return oi(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(et)&&"_self"!==de)return function ba(y,f){const m=document.createElement("a");m.href=y,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",de),new Af(null);const ft=window.open(f||"",de,_t);U(ft,y,"popup-blocked");try{ft.focus()}catch{}return new Af(ft)}(f,de,as())})()}_openRedirect(f,m,b,T){var O=this;return(0,h.Z)(function*(){return yield O._originValidation(f),function ci(y){rn().location.href=y}($d(f,m,b,Ne(),T)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:T,promise:O}=this.eventManagers[m];return T?Promise.resolve(T):(X(O,"If manager is not set, promise should be"),O)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,h.Z)(function*(){const b=yield function Ud(y){return go.apply(this,arguments)}(f),T=new fo(f);return b.register("authEvent",O=>(U(O?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:T},m.iframes[f._key()]=b,T})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(zd,{type:zd},T=>{var O;const W=null===(O=T?.[0])||void 0===O?void 0:O[zd];void 0!==W&&m(!!W),Ae(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Vd(y){return Df.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ba()||mr()||oi()}}),this.cordovaResolver=oe(class fc{constructor(){this._redirectPersistence=Ns,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xt,this._overrideRedirectResult=ma}_initialize(f){var m=this;return(0,h.Z)(function*(){const b=f._key();let T=m.eventManagers.get(b);return T||(T=new kf(f),m.eventManagers.set(b,T),m.attachCallbackListeners(f,T)),T})()}_openPopup(f){Ae(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,b,T){var O=this;return(0,h.Z)(function*(){!function Mf(y){var f,m,b,T,O,W,de,Ve,et,_t;const ft=mo();U("function"==typeof(null===(f=ft?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(m=ft?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(O=null===(T=null===(b=ft?.cordova)||void 0===b?void 0:b.plugins)||void 0===T?void 0:T.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Ve=null===(de=null===(W=ft?.cordova)||void 0===W?void 0:W.plugins)||void 0===de?void 0:de.browsertab)||void 0===Ve?void 0:Ve.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(_t=null===(et=ft?.cordova)||void 0===et?void 0:et.InAppBrowser)||void 0===_t?void 0:_t.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const W=yield O._initialize(f);yield W.initialized(),W.resetRedirect(),function dl(){wi.clear()}(),yield O._originValidation(f);const de=function gl(y,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:ml(),postBody:null,tenantId:y.tenantId,error:we(y,"no-auth-event")}}(f,b,T);yield function _o(y,f){return hc()._set(vo(y),f)}(f,de);const Ve=yield function cc(y,f,m){return Tf.apply(this,arguments)}(f,de,m),et=yield function dc(y){const{cordova:f}=mo();return new Promise(m=>{f.plugins.browsertab.isAvailable(b=>{let T=null;b?f.plugins.browsertab.openUrl(y):T=f.InAppBrowser.open(y,function yr(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(T)})})}(Ve);return function Bi(y,f,m){return Ea.apply(this,arguments)}(f,W,et)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function My(y){return yo.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:b,handleOpenURL:T,BuildInfo:O}=mo(),W=setTimeout((0,h.Z)(function*(){yield au(f),m.onEvent(pc())}),500),de=function(){var _t=(0,h.Z)(function*(ft){clearTimeout(W);const Yn=yield au(f);let Ui=null;Yn&&ft?.url&&(Ui=function dg(y,f){var m,b;const T=function ky(y){const f=hs(y),m=f.link?decodeURIComponent(f.link):void 0,b=hs(m).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return hs(T).link||T||b||m||y}(f);if(T.includes("/__/auth/callback")){const O=hs(T),W=O.firebaseError?function hg(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,de=null===(b=null===(m=W?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Ve=de?we(de):null;return Ve?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(Yn,ft.url)),m.onEvent(Ui||pc())});return function(Yn){return _t.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,de);const Ve=T,et=`${O.packageName.toLowerCase()}://`;mo().handleOpenURL=function(){var _t=(0,h.Z)(function*(ft){if(ft.toLowerCase().startsWith(et)&&de({url:ft}),"function"==typeof Ve)try{Ve(ft)}catch(Yn){console.error(Yn)}});return function(ft){return _t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ns,this._completeRedirectFn=xt,this._overrideRedirectResult=ma}_initialize(f){var m=this;return(0,h.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,b,T){var O=this;return(0,h.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(f,m,b,T)})()}_openRedirect(f,m,b,T){var O=this;return(0,h.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(f,m,b,T)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Vs()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bo(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,h.Z)(function*(){if(f.underlyingResolver)return;const m=yield function Ff(){return mc.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function _c(y){return y.unwrap()}function Ly(y){return vc(y)}function vc(y){const{_tokenResponse:f}=y instanceof N.ZR?y.customData:y;if(!f)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return uo.credentialFromResult(y);const m=f.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=Ga;break;case"facebook.com":b=zo;break;case"github.com":b=xd;break;case"twitter.com":b=Ad;break;default:const{oauthIdToken:T,oauthAccessToken:O,oauthTokenSecret:W,pendingToken:de,nonce:Ve}=f;return O||W||T||de?de?m.startsWith("saml.")?qo._create(m,de):Xi._fromParams({providerId:m,signInMethod:m,pendingToken:de,idToken:T,accessToken:O}):new $o(m).credential({idToken:T,accessToken:O,rawNonce:Ve}):null}return y instanceof N.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Zn(y,f){return f.catch(m=>{throw m instanceof N.ZR&&function Lf(y,f){var m,b;const T=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=f)||void 0===b?void 0:b.code))f.resolver=new Bf(y,function _r(y,f){var m;const b=(0,N.m9)(y),T=f;return U(f.customData.operationType,b,"argument-error"),U(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Ja._fromError(b,T)}(y,f));else if(T){const O=vc(f),W=f;O&&(W.credential=O,W.tenantId=T.tenantId||void 0,W.email=T.email||void 0,W.phoneNumber=T.phoneNumber||void 0)}}(y,m),m}).then(m=>{const T=m.user;return{operationType:m.operationType,credential:Ly(m),additionalUserInfo:Zl(m),user:Us.getOrCreate(T)}})}function Ia(y,f){return xa.apply(this,arguments)}function xa(){return(xa=(0,h.Z)(function*(y,f){const m=yield f;return{verificationId:m.verificationId,confirm:b=>Zn(y,m.confirm(b))}})).apply(this,arguments)}class Bf{constructor(f,m){this.resolver=m,this.auth=function fu(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Zn(_c(this.auth),this.resolver.resolveSignIn(f))}}class Us{constructor(f){this._delegate=f,this.multiFactor=function Fd(y){const f=(0,N.m9)(y);return tl.has(f)||tl.set(f,el._fromUser(f)),tl.get(f)}(f)}static getOrCreate(f){return Us.USER_MAP.has(f)||Us.USER_MAP.set(f,new Us(f)),Us.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,h.Z)(function*(){return Zn(m.auth,Ul(m._delegate,f))})()}linkWithPhoneNumber(f,m){var b=this;return(0,h.Z)(function*(){return Ia(b.auth,function tc(y,f,m){return qn.apply(this,arguments)}(b._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,h.Z)(function*(){return Zn(m.auth,function cl(y,f,m){return nu.apply(this,arguments)}(m._delegate,f,wo))})()}linkWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield Nf(xn(m.auth)),function J(y,f,m){return function se(y,f,m){return Se.apply(this,arguments)}(y,f,m)}(m._delegate,f,wo)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,h.Z)(function*(){return Zn(m.auth,no(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Ia(this.auth,function lo(y,f,m){return dr.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return Zn(this.auth,function ic(y,f,m){return ga.apply(this,arguments)}(this._delegate,f,wo))}reauthenticateWithRedirect(f){var m=this;return(0,h.Z)(function*(){return yield Nf(xn(m.auth)),function x(y,f,m){return function R(y,f,m){return L.apply(this,arguments)}(y,f,m)}(m._delegate,f,wo)})()}sendEmailVerification(f){return function Ku(y,f){return ea.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,h.Z)(function*(){return yield function $a(y,f){return es.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function df(y,f){return cr((0,N.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Kl(y,f){return cr((0,N.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function wf(y,f){return nc.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Wl(y,f){return ta.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Gl(y,f,m){return $l.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Us.USER_MAP=new WeakMap;const js=U;let fs=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=m.options;js(T,"invalid-api-key",{appName:m.name}),js(T,"invalid-api-key",{appName:m.name});const O=typeof window<"u"?wo:void 0;this._delegate=b.initialize({options:{persistence:hr(T,m.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Me),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Us.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function Ar(y,f,m){const b=xn(y);U(b._canInitEmulator,b,"emulator-config-failed"),U(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const T=!!m?.disableWarnings,O=As(f),{host:W,port:de}=function Yi(y){const f=As(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(b);if(T){const O=T[1];return{host:O,port:zr(b.substr(O.length+1))}}{const[O,W]=b.split(":");return{host:O,port:zr(W)}}}(f);b.config.emulator={url:`${O}//${W}${null===de?"":`:${de}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:W,port:de,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Ss(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function Wa(y,f){return Jo.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ka(this._delegate,m)}confirmPasswordReset(m,b){return function li(y,f,m){return qa.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var T=this;return(0,h.Z)(function*(){return Zn(T._delegate,function Ni(y,f,m){return Za.apply(this,arguments)}(T._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Hl(y,f){return Qa.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function qu(y,f){return"EMAIL_SIGNIN"===_i.parseLink(f)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,h.Z)(function*(){js(Da(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function je(y,f){return mt.apply(this,arguments)}(m._delegate,wo);return b?Zn(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Kn(y,f){xn(y)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,b,T){const{next:O,error:W,complete:de}=gg(m,b,T);return this._delegate.onAuthStateChanged(O,W,de)}onIdTokenChanged(m,b,T){const{next:O,error:W,complete:de}=gg(m,b,T);return this._delegate.onIdTokenChanged(O,W,de)}sendSignInLinkToEmail(m,b){return function ss(y,f,m){return zu.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function za(y,f,m){return Os.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,h.Z)(function*(){let T;switch(function Py(y,f){du(Object.values(br).includes(f),y,"invalid-persistence-type"),(0,N.b$)()?du(f!==br.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?du(f===br.NONE,y,"unsupported-persistence-type"):yl()?du(f===br.NONE||f===br.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):du(f===br.NONE||Ny(),y,"unsupported-persistence-type")}(b._delegate,m),m){case br.SESSION:T=Ns;break;case br.LOCAL:T=(yield oe(Br)._isAvailable())?Br:os;break;case br.NONE:T=Xt;break;default:return Ae("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Zn(this._delegate,function Sd(y){return uf.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Zn(this._delegate,Fn(this._delegate,m))}signInWithCustomToken(m){return Zn(this._delegate,function Ie(y,f){return Ut.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Zn(this._delegate,function ro(y,f,m){return Fn((0,N.m9)(y),Go.credential(f,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Zn(this._delegate,function Md(y,f,m){return Ya.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return Ia(this._delegate,function Rr(y,f,m){return Vr.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,h.Z)(function*(){return js(Da(),b._delegate,"operation-not-supported-in-this-environment"),Zn(b._delegate,function rc(y,f,m){return pa.apply(this,arguments)}(b._delegate,m,wo))})()}signInWithRedirect(m){var b=this;return(0,h.Z)(function*(){return js(Da(),b._delegate,"operation-not-supported-in-this-environment"),yield Nf(b._delegate),function hl(y,f,m){return function fl(y,f,m){return I.apply(this,arguments)}(y,f,m)}(b._delegate,m,wo)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function is(y,f){return tr.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=br,y})();function gg(y,f,m){let b=y;"function"!=typeof y&&({next:b,error:f,complete:m}=y);const T=b;return{next:W=>T(W&&Us.getOrCreate(W)),error:f,complete:m}}function hr(y,f){const m=function Pf(y,f){const m=yc();if(!m)return[];const b=ar(Xd,y,f);switch(m.getItem(b)){case br.NONE:return[Xt];case br.LOCAL:return[Br,Ns];case br.SESSION:return[Ns];default:return[]}}(y,f);if(typeof self<"u"&&!m.includes(Br)&&m.push(Br),typeof window<"u")for(const b of[os,Ns])m.includes(b)||m.push(b);return m.includes(Xt)||m.push(Xt),m}class Jd{constructor(){this.providerId="phone",this._delegate=new uo(_c(re.Z.auth()))}static credential(f,m){return uo.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}Jd.PHONE_SIGN_IN_METHOD=uo.PHONE_SIGN_IN_METHOD,Jd.PROVIDER_ID=uo.PROVIDER_ID;const By=U;class Vf{constructor(f,m,b=re.Z.app()){var T;By(null===(T=b.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new ll(f,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function mg(y){y.INTERNAL.registerComponent(new ue.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new fs(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Go,FacebookAuthProvider:zo,GithubAuthProvider:xd,GoogleAuthProvider:Ga,OAuthProvider:$o,SAMLAuthProvider:Wr,PhoneAuthProvider:Jd,PhoneMultiFactorGenerator:ag,RecaptchaVerifier:Vf,TwitterAuthProvider:Ad,Auth:fs,AuthCredential:Js,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.18")}(re.Z)},8306:(ut,Ce,F)=>{F.d(Ce,{y:()=>j});var h=F(930),re=F(727),N=F(8822),he=F(4671);var ue=F(2416),ge=F(576),me=F(2806);let j=(()=>{class Re{constructor(Ye){Ye&&(this._subscribe=Ye)}lift(Ye){const ye=new Re;return ye.source=this,ye.operator=Ye,ye}subscribe(Ye,ye,_e){const Qe=function $e(Re){return Re&&Re instanceof h.Lv||function ee(Re){return Re&&(0,ge.m)(Re.next)&&(0,ge.m)(Re.error)&&(0,ge.m)(Re.complete)}(Re)&&(0,re.Nn)(Re)}(Ye)?Ye:new h.Hp(Ye,ye,_e);return(0,me.x)(()=>{const{operator:tt,source:Ae}=this;Qe.add(tt?tt.call(Qe,Ae):Ae?this._subscribe(Qe):this._trySubscribe(Qe))}),Qe}_trySubscribe(Ye){try{return this._subscribe(Ye)}catch(ye){Ye.error(ye)}}forEach(Ye,ye){return new(ye=H(ye))((_e,Qe)=>{const tt=new h.Hp({next:Ae=>{try{Ye(Ae)}catch(we){Qe(we),tt.unsubscribe()}},error:Qe,complete:_e});this.subscribe(tt)})}_subscribe(Ye){var ye;return null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(Ye)}[N.L](){return this}pipe(...Ye){return function pe(Re){return 0===Re.length?he.y:1===Re.length?Re[0]:function(Ye){return Re.reduce((ye,_e)=>_e(ye),Ye)}}(Ye)(this)}toPromise(Ye){return new(Ye=H(Ye))((ye,_e)=>{let Qe;this.subscribe(tt=>Qe=tt,tt=>_e(tt),()=>ye(Qe))})}}return Re.create=Me=>new Re(Me),Re})();function H(Re){var Me;return null!==(Me=Re??ue.v.Promise)&&void 0!==Me?Me:Promise}},7579:(ut,Ce,F)=>{F.d(Ce,{x:()=>ue});var h=F(8306),re=F(727);const he=(0,F(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=F(8737),pe=F(2806);let ue=(()=>{class me extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const ee=new ge(this,this);return ee.operator=H,ee}_throwIfClosed(){if(this.closed)throw new he}next(H){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(H)}})}error(H){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:ee}=this;for(;ee.length;)ee.shift().error(H)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:ee,isStopped:$e,observers:Re}=this;return ee||$e?re.Lc:(this.currentObservers=null,Re.push(H),new re.w0(()=>{this.currentObservers=null,(0,le.P)(Re,H)}))}_checkFinalizedStatuses(H){const{hasError:ee,thrownError:$e,isStopped:Re}=this;ee?H.error($e):Re&&H.complete()}asObservable(){const H=new h.y;return H.source=this,H}}return me.create=(j,H)=>new ge(j,H),me})();class ge extends ue{constructor(j,H){super(),this.destination=j,this.source=H}next(j){var H,ee;null===(ee=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===ee||ee.call(H,j)}error(j){var H,ee;null===(ee=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===ee||ee.call(H,j)}complete(){var j,H;null===(H=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===H||H.call(j)}_subscribe(j){var H,ee;return null!==(ee=null===(H=this.source)||void 0===H?void 0:H.subscribe(j))&&void 0!==ee?ee:re.Lc}}},930:(ut,Ce,F)=>{F.d(Ce,{Hp:()=>Ye,Lv:()=>ee});var h=F(576),re=F(727),N=F(2416),he=F(7849),le=F(5032);const pe=me("C",void 0,void 0);function me(Ae,we,De){return{kind:Ae,value:we,error:De}}var j=F(3410),H=F(2806);class ee extends re.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,re.Nn)(we)&&we.add(this)):this.destination=tt}static create(we,De,He){return new Ye(we,De,He)}next(we){this.isStopped?Qe(function ge(Ae){return me("N",Ae,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Qe(function ue(Ae){return me("E",void 0,Ae)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Qe(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Re(Ae,we){return $e.call(Ae,we)}class Me{constructor(we){this.partialObserver=we}next(we){const{partialObserver:De}=this;if(De.next)try{De.next(we)}catch(He){ye(He)}}error(we){const{partialObserver:De}=this;if(De.error)try{De.error(we)}catch(He){ye(He)}else ye(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(De){ye(De)}}}class Ye extends ee{constructor(we,De,He){let Ge;if(super(),(0,h.m)(we)||!we)Ge={next:we??void 0,error:De??void 0,complete:He??void 0};else{let U;this&&N.v.useDeprecatedNextContext?(U=Object.create(we),U.unsubscribe=()=>this.unsubscribe(),Ge={next:we.next&&Re(we.next,U),error:we.error&&Re(we.error,U),complete:we.complete&&Re(we.complete,U)}):Ge=we}this.destination=new Me(Ge)}}function ye(Ae){N.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ae):(0,he.h)(Ae)}function Qe(Ae,we){const{onStoppedNotification:De}=N.v;De&&j.z.setTimeout(()=>De(Ae,we))}const tt={closed:!0,next:le.Z,error:function _e(Ae){throw Ae},complete:le.Z}},727:(ut,Ce,F)=>{F.d(Ce,{Lc:()=>pe,w0:()=>le,Nn:()=>ue});var h=F(576);const N=(0,F(3888).d)(me=>function(H){me(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((ee,$e)=>`${$e+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var he=F(8737);class le{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Re of H)Re.remove(this);else H.remove(this);const{initialTeardown:ee}=this;if((0,h.m)(ee))try{ee()}catch(Re){j=Re instanceof N?Re.errors:[Re]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Re of $e)try{ge(Re)}catch(Me){j=j??[],Me instanceof N?j=[...j,...Me.errors]:j.push(Me)}}if(j)throw new N(j)}}add(j){var H;if(j&&j!==this)if(this.closed)ge(j);else{if(j instanceof le){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(j)}}_hasParent(j){const{_parentage:H}=this;return H===j||Array.isArray(H)&&H.includes(j)}_addParent(j){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(j),H):H?[H,j]:j}_removeParent(j){const{_parentage:H}=this;H===j?this._parentage=null:Array.isArray(H)&&(0,he.P)(H,j)}remove(j){const{_finalizers:H}=this;H&&(0,he.P)(H,j),j instanceof le&&j._removeParent(this)}}le.EMPTY=(()=>{const me=new le;return me.closed=!0,me})();const pe=le.EMPTY;function ue(me){return me instanceof le||me&&"closed"in me&&(0,h.m)(me.remove)&&(0,h.m)(me.add)&&(0,h.m)(me.unsubscribe)}function ge(me){(0,h.m)(me)?me():me.unsubscribe()}},2416:(ut,Ce,F)=>{F.d(Ce,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ut,Ce,F)=>{F.d(Ce,{E:()=>re});const re=new(F(8306).y)(le=>le.complete())},8996:(ut,Ce,F)=>{F.d(Ce,{D:()=>we});var h=F(8421),re=F(5363),N=F(9468),pe=F(8306),ge=F(2202),me=F(576),j=F(9672);function ee(De,He){if(!De)throw new Error("Iterable cannot be null");return new pe.y(Ge=>{(0,j.f)(Ge,He,()=>{const U=De[Symbol.asyncIterator]();(0,j.f)(Ge,He,()=>{U.next().then(be=>{be.done?Ge.complete():Ge.next(be.value)})},0,!0)})})}var $e=F(3670),Re=F(8239),Me=F(1144),Ye=F(6495),ye=F(2206),_e=F(4532),Qe=F(3260);function we(De,He){return He?function Ae(De,He){if(null!=De){if((0,$e.c)(De))return function he(De,He){return(0,h.Xf)(De).pipe((0,N.R)(He),(0,re.Q)(He))}(De,He);if((0,Me.z)(De))return function ue(De,He){return new pe.y(Ge=>{let U=0;return He.schedule(function(){U===De.length?Ge.complete():(Ge.next(De[U++]),Ge.closed||this.schedule())})})}(De,He);if((0,Re.t)(De))return function le(De,He){return(0,h.Xf)(De).pipe((0,N.R)(He),(0,re.Q)(He))}(De,He);if((0,ye.D)(De))return ee(De,He);if((0,Ye.T)(De))return function H(De,He){return new pe.y(Ge=>{let U;return(0,j.f)(Ge,He,()=>{U=De[ge.h](),(0,j.f)(Ge,He,()=>{let be,X;try{({value:be,done:X}=U.next())}catch(te){return void Ge.error(te)}X?Ge.complete():Ge.next(be)},0,!0)}),()=>(0,me.m)(U?.return)&&U.return()})}(De,He);if((0,Qe.L)(De))return function tt(De,He){return ee((0,Qe.Q)(De),He)}(De,He)}throw(0,_e.z)(De)}(De,He):(0,h.Xf)(De)}},8421:(ut,Ce,F)=>{F.d(Ce,{Xf:()=>$e});var h=F(655),re=F(1144),N=F(8239),he=F(8306),le=F(3670),pe=F(2206),ue=F(4532),ge=F(6495),me=F(3260),j=F(576),H=F(7849),ee=F(8822);function $e(Ae){if(Ae instanceof he.y)return Ae;if(null!=Ae){if((0,le.c)(Ae))return function Re(Ae){return new he.y(we=>{const De=Ae[ee.L]();if((0,j.m)(De.subscribe))return De.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,re.z)(Ae))return function Me(Ae){return new he.y(we=>{for(let De=0;De<Ae.length&&!we.closed;De++)we.next(Ae[De]);we.complete()})}(Ae);if((0,N.t)(Ae))return function Ye(Ae){return new he.y(we=>{Ae.then(De=>{we.closed||(we.next(De),we.complete())},De=>we.error(De)).then(null,H.h)})}(Ae);if((0,pe.D)(Ae))return _e(Ae);if((0,ge.T)(Ae))return function ye(Ae){return new he.y(we=>{for(const De of Ae)if(we.next(De),we.closed)return;we.complete()})}(Ae);if((0,me.L)(Ae))return function Qe(Ae){return _e((0,me.Q)(Ae))}(Ae)}throw(0,ue.z)(Ae)}function _e(Ae){return new he.y(we=>{(function tt(Ae,we){var De,He,Ge,U;return(0,h.mG)(this,void 0,void 0,function*(){try{for(De=(0,h.KL)(Ae);!(He=yield De.next()).done;)if(we.next(He.value),we.closed)return}catch(be){Ge={error:be}}finally{try{He&&!He.done&&(U=De.return)&&(yield U.call(De))}finally{if(Ge)throw Ge.error}}we.complete()})})(Ae,we).catch(De=>we.error(De))})}},6451:(ut,Ce,F)=>{F.d(Ce,{T:()=>pe});var h=F(8189),re=F(8421),N=F(515),he=F(3269),le=F(8996);function pe(...ue){const ge=(0,he.yG)(ue),me=(0,he._6)(ue,1/0),j=ue;return j.length?1===j.length?(0,re.Xf)(j[0]):(0,h.J)(me)((0,le.D)(j,ge)):N.E}},5403:(ut,Ce,F)=>{F.d(Ce,{x:()=>re});var h=F(930);function re(he,le,pe,ue,ge){return new N(he,le,pe,ue,ge)}class N extends h.Lv{constructor(le,pe,ue,ge,me,j){super(le),this.onFinalize=me,this.shouldUnsubscribe=j,this._next=pe?function(H){try{pe(H)}catch(ee){le.error(ee)}}:super._next,this._error=ge?function(H){try{ge(H)}catch(ee){le.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(H){le.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4004:(ut,Ce,F)=>{F.d(Ce,{U:()=>N});var h=F(4482),re=F(5403);function N(he,le){return(0,h.e)((pe,ue)=>{let ge=0;pe.subscribe((0,re.x)(ue,me=>{ue.next(he.call(le,me,ge++))}))})}},8189:(ut,Ce,F)=>{F.d(Ce,{J:()=>N});var h=F(5577),re=F(4671);function N(he=1/0){return(0,h.z)(re.y,he)}},5577:(ut,Ce,F)=>{F.d(Ce,{z:()=>ge});var h=F(4004),re=F(8421),N=F(4482),he=F(9672),le=F(5403),ue=F(576);function ge(me,j,H=1/0){return(0,ue.m)(j)?ge((ee,$e)=>(0,h.U)((Re,Me)=>j(ee,Re,$e,Me))((0,re.Xf)(me(ee,$e))),H):("number"==typeof j&&(H=j),(0,N.e)((ee,$e)=>function pe(me,j,H,ee,$e,Re,Me,Ye){const ye=[];let _e=0,Qe=0,tt=!1;const Ae=()=>{tt&&!ye.length&&!_e&&j.complete()},we=He=>_e<ee?De(He):ye.push(He),De=He=>{Re&&j.next(He),_e++;let Ge=!1;(0,re.Xf)(H(He,Qe++)).subscribe((0,le.x)(j,U=>{$e?.(U),Re?we(U):j.next(U)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(_e--;ye.length&&_e<ee;){const U=ye.shift();Me?(0,he.f)(j,Me,()=>De(U)):De(U)}Ae()}catch(U){j.error(U)}}))};return me.subscribe((0,le.x)(j,we,()=>{tt=!0,Ae()})),()=>{Ye?.()}}(ee,$e,me,H)))}},5363:(ut,Ce,F)=>{F.d(Ce,{Q:()=>he});var h=F(9672),re=F(4482),N=F(5403);function he(le,pe=0){return(0,re.e)((ue,ge)=>{ue.subscribe((0,N.x)(ge,me=>(0,h.f)(ge,le,()=>ge.next(me),pe),()=>(0,h.f)(ge,le,()=>ge.complete(),pe),me=>(0,h.f)(ge,le,()=>ge.error(me),pe)))})}},3099:(ut,Ce,F)=>{F.d(Ce,{B:()=>le});var h=F(8421),re=F(7579),N=F(930),he=F(4482);function le(ue={}){const{connector:ge=(()=>new re.x),resetOnError:me=!0,resetOnComplete:j=!0,resetOnRefCountZero:H=!0}=ue;return ee=>{let $e,Re,Me,Ye=0,ye=!1,_e=!1;const Qe=()=>{Re?.unsubscribe(),Re=void 0},tt=()=>{Qe(),$e=Me=void 0,ye=_e=!1},Ae=()=>{const we=$e;tt(),we?.unsubscribe()};return(0,he.e)((we,De)=>{Ye++,!_e&&!ye&&Qe();const He=Me=Me??ge();De.add(()=>{Ye--,0===Ye&&!_e&&!ye&&(Re=pe(Ae,H))}),He.subscribe(De),!$e&&Ye>0&&($e=new N.Hp({next:Ge=>He.next(Ge),error:Ge=>{_e=!0,Qe(),Re=pe(tt,me,Ge),He.error(Ge)},complete:()=>{ye=!0,Qe(),Re=pe(tt,j),He.complete()}}),(0,h.Xf)(we).subscribe($e))})(ee)}}function pe(ue,ge,...me){if(!0===ge)return void ue();if(!1===ge)return;const j=new N.Hp({next:()=>{j.unsubscribe(),ue()}});return ge(...me).subscribe(j)}},9468:(ut,Ce,F)=>{F.d(Ce,{R:()=>re});var h=F(4482);function re(N,he=0){return(0,h.e)((le,pe)=>{pe.add(N.schedule(()=>le.subscribe(pe),he))})}},8505:(ut,Ce,F)=>{F.d(Ce,{b:()=>le});var h=F(576),re=F(4482),N=F(5403),he=F(4671);function le(pe,ue,ge){const me=(0,h.m)(pe)||ue||ge?{next:pe,error:ue,complete:ge}:pe;return me?(0,re.e)((j,H)=>{var ee;null===(ee=me.subscribe)||void 0===ee||ee.call(me);let $e=!0;j.subscribe((0,N.x)(H,Re=>{var Me;null===(Me=me.next)||void 0===Me||Me.call(me,Re),H.next(Re)},()=>{var Re;$e=!1,null===(Re=me.complete)||void 0===Re||Re.call(me),H.complete()},Re=>{var Me;$e=!1,null===(Me=me.error)||void 0===Me||Me.call(me,Re),H.error(Re)},()=>{var Re,Me;$e&&(null===(Re=me.unsubscribe)||void 0===Re||Re.call(me)),null===(Me=me.finalize)||void 0===Me||Me.call(me)}))}):he.y}},4408:(ut,Ce,F)=>{F.d(Ce,{o:()=>le});var h=F(727);class re extends h.w0{constructor(ue,ge){super()}schedule(ue,ge=0){return this}}const N={setInterval(pe,ue,...ge){const{delegate:me}=N;return me?.setInterval?me.setInterval(pe,ue,...ge):setInterval(pe,ue,...ge)},clearInterval(pe){const{delegate:ue}=N;return(ue?.clearInterval||clearInterval)(pe)},delegate:void 0};var he=F(8737);class le extends re{constructor(ue,ge){super(ue,ge),this.scheduler=ue,this.work=ge,this.pending=!1}schedule(ue,ge=0){if(this.closed)return this;this.state=ue;const me=this.id,j=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(j,me,ge)),this.pending=!0,this.delay=ge,this.id=this.id||this.requestAsyncId(j,this.id,ge),this}requestAsyncId(ue,ge,me=0){return N.setInterval(ue.flush.bind(ue,this),me)}recycleAsyncId(ue,ge,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return ge;N.clearInterval(ge)}execute(ue,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(ue,ge);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,ge){let j,me=!1;try{this.work(ue)}catch(H){me=!0,j=H||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ue,scheduler:ge}=this,{actions:me}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,he.P)(me,this),null!=ue&&(this.id=this.recycleAsyncId(ge,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(ut,Ce,F)=>{F.d(Ce,{v:()=>N});var h=F(6063);class re{constructor(le,pe=re.now){this.schedulerActionCtor=le,this.now=pe}schedule(le,pe=0,ue){return new this.schedulerActionCtor(this,le).schedule(ue,pe)}}re.now=h.l.now;class N extends re{constructor(le,pe=re.now){super(le,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(le){const{actions:pe}=this;if(this._active)return void pe.push(le);let ue;this._active=!0;do{if(ue=le.execute(le.state,le.delay))break}while(le=pe.shift());if(this._active=!1,ue){for(;le=pe.shift();)le.unsubscribe();throw ue}}}},4986:(ut,Ce,F)=>{F.d(Ce,{P:()=>he,z:()=>N});var h=F(4408);const N=new(F(7565).v)(h.o),he=N},6063:(ut,Ce,F)=>{F.d(Ce,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(ut,Ce,F)=>{F.d(Ce,{z:()=>h});const h={setTimeout(re,N,...he){const{delegate:le}=h;return le?.setTimeout?le.setTimeout(re,N,...he):setTimeout(re,N,...he)},clearTimeout(re){const{delegate:N}=h;return(N?.clearTimeout||clearTimeout)(re)},delegate:void 0}},2202:(ut,Ce,F)=>{F.d(Ce,{h:()=>re});const re=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ut,Ce,F)=>{F.d(Ce,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ut,Ce,F)=>{F.d(Ce,{_6:()=>pe,jO:()=>he,yG:()=>le});var h=F(576),re=F(3532);function N(ue){return ue[ue.length-1]}function he(ue){return(0,h.m)(N(ue))?ue.pop():void 0}function le(ue){return(0,re.K)(N(ue))?ue.pop():void 0}function pe(ue,ge){return"number"==typeof N(ue)?ue.pop():ge}},8737:(ut,Ce,F)=>{function h(re,N){if(re){const he=re.indexOf(N);0<=he&&re.splice(he,1)}}F.d(Ce,{P:()=>h})},3888:(ut,Ce,F)=>{function h(re){const he=re(le=>{Error.call(le),le.stack=(new Error).stack});return he.prototype=Object.create(Error.prototype),he.prototype.constructor=he,he}F.d(Ce,{d:()=>h})},2806:(ut,Ce,F)=>{F.d(Ce,{O:()=>he,x:()=>N});var h=F(2416);let re=null;function N(le){if(h.v.useDeprecatedSynchronousErrorHandling){const pe=!re;if(pe&&(re={errorThrown:!1,error:null}),le(),pe){const{errorThrown:ue,error:ge}=re;if(re=null,ue)throw ge}}else le()}function he(le){h.v.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=le)}},9672:(ut,Ce,F)=>{function h(re,N,he,le=0,pe=!1){const ue=N.schedule(function(){he(),pe?re.add(this.schedule(null,le)):this.unsubscribe()},le);if(re.add(ue),!pe)return ue}F.d(Ce,{f:()=>h})},4671:(ut,Ce,F)=>{function h(re){return re}F.d(Ce,{y:()=>h})},1144:(ut,Ce,F)=>{F.d(Ce,{z:()=>h});const h=re=>re&&"number"==typeof re.length&&"function"!=typeof re},2206:(ut,Ce,F)=>{F.d(Ce,{D:()=>re});var h=F(576);function re(N){return Symbol.asyncIterator&&(0,h.m)(N?.[Symbol.asyncIterator])}},576:(ut,Ce,F)=>{function h(re){return"function"==typeof re}F.d(Ce,{m:()=>h})},3670:(ut,Ce,F)=>{F.d(Ce,{c:()=>N});var h=F(8822),re=F(576);function N(he){return(0,re.m)(he[h.L])}},6495:(ut,Ce,F)=>{F.d(Ce,{T:()=>N});var h=F(2202),re=F(576);function N(he){return(0,re.m)(he?.[h.h])}},8239:(ut,Ce,F)=>{F.d(Ce,{t:()=>re});var h=F(576);function re(N){return(0,h.m)(N?.then)}},3260:(ut,Ce,F)=>{F.d(Ce,{L:()=>he,Q:()=>N});var h=F(655),re=F(576);function N(le){return(0,h.FC)(this,arguments,function*(){const ue=le.getReader();try{for(;;){const{value:ge,done:me}=yield(0,h.qq)(ue.read());if(me)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(ge)}}finally{ue.releaseLock()}})}function he(le){return(0,re.m)(le?.getReader)}},3532:(ut,Ce,F)=>{F.d(Ce,{K:()=>re});var h=F(576);function re(N){return N&&(0,h.m)(N.schedule)}},4482:(ut,Ce,F)=>{F.d(Ce,{A:()=>re,e:()=>N});var h=F(576);function re(he){return(0,h.m)(he?.lift)}function N(he){return le=>{if(re(le))return le.lift(function(pe){try{return he(pe,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ut,Ce,F)=>{function h(){}F.d(Ce,{Z:()=>h})},7849:(ut,Ce,F)=>{F.d(Ce,{h:()=>N});var h=F(2416),re=F(3410);function N(he){re.z.setTimeout(()=>{const{onUnhandledError:le}=h.v;if(!le)throw he;le(he)})}},4532:(ut,Ce,F)=>{function h(re){return new TypeError(`You provided ${null!==re&&"object"==typeof re?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ce,{z:()=>h})},655:(ut,Ce,F)=>{function he(X,te){var oe={};for(var ie in X)Object.prototype.hasOwnProperty.call(X,ie)&&te.indexOf(ie)<0&&(oe[ie]=X[ie]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(ie=Object.getOwnPropertySymbols(X);Le<ie.length;Le++)te.indexOf(ie[Le])<0&&Object.prototype.propertyIsEnumerable.call(X,ie[Le])&&(oe[ie[Le]]=X[ie[Le]])}return oe}function ge(X,te,oe,ie){return new(oe||(oe=Promise))(function(Ne,pt){function qt(on){try{We(ie.next(on))}catch(Un){pt(Un)}}function $t(on){try{We(ie.throw(on))}catch(Un){pt(Un)}}function We(on){on.done?Ne(on.value):function Le(Ne){return Ne instanceof oe?Ne:new oe(function(pt){pt(Ne)})}(on.value).then(qt,$t)}We((ie=ie.apply(X,te||[])).next())})}function ye(X){return this instanceof ye?(this.v=X,this):new ye(X)}function _e(X,te,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,ie=oe.apply(X,te||[]),Ne=[];return Le={},pt("next"),pt("throw"),pt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function pt(Zt){ie[Zt]&&(Le[Zt]=function(Yt){return new Promise(function(Gr,Lt){Ne.push([Zt,Yt,Gr,Lt])>1||qt(Zt,Yt)})})}function qt(Zt,Yt){try{!function $t(Zt){Zt.value instanceof ye?Promise.resolve(Zt.value.v).then(We,on):Un(Ne[0][2],Zt)}(ie[Zt](Yt))}catch(Gr){Un(Ne[0][3],Gr)}}function We(Zt){qt("next",Zt)}function on(Zt){qt("throw",Zt)}function Un(Zt,Yt){Zt(Yt),Ne.shift(),Ne.length&&qt(Ne[0][0],Ne[0][1])}}function tt(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,te=X[Symbol.asyncIterator];return te?te.call(X):(X=function ee(X){var te="function"==typeof Symbol&&Symbol.iterator,oe=te&&X[te],ie=0;if(oe)return oe.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&ie>=X.length&&(X=void 0),{value:X&&X[ie++],done:!X}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),oe={},ie("next"),ie("throw"),ie("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function ie(Ne){oe[Ne]=X[Ne]&&function(pt){return new Promise(function(qt,$t){!function Le(Ne,pt,qt,$t){Promise.resolve($t).then(function(We){Ne({value:We,done:qt})},pt)}(qt,$t,(pt=X[Ne](pt)).done,pt.value)})}}}F.d(Ce,{FC:()=>_e,KL:()=>tt,_T:()=>he,mG:()=>ge,qq:()=>ye})},4650:(ut,Ce,F)=>{F.d(Ce,{$8M:()=>Br,AFp:()=>bE,ALo:()=>Y0,AaK:()=>ge,AsE:()=>W_,CHM:()=>ks,CRH:()=>Xm,CZH:()=>Fp,EJc:()=>HA,EiD:()=>fc,EpF:()=>C_,F$t:()=>e0,F4k:()=>fp,FYo:()=>_t,FiY:()=>se,G48:()=>ub,Gf:()=>Gv,GfV:()=>_l,Hsn:()=>T_,JOm:()=>Ca,JVY:()=>ag,KtG:()=>Xo,L6k:()=>qd,LAX:()=>lg,LFG:()=>Tn,LSH:()=>Of,Lbi:()=>$x,Lck:()=>dx,MAs:()=>E_,NdJ:()=>gm,O4$:()=>na,OlP:()=>Ht,Oqu:()=>q_,Q6J:()=>D_,QGY:()=>A_,QbO:()=>eb,Qsj:()=>ft,R0b:()=>Es,RDi:()=>rg,Rgc:()=>Sp,SBq:()=>de,Suo:()=>sE,TTD:()=>Go,TgZ:()=>pm,Udp:()=>U_,X6Q:()=>iC,Xpm:()=>B,Y36:()=>Tc,YNc:()=>Ah,Yjl:()=>ar,Yz7:()=>Yt,ZZ4:()=>GE,_UZ:()=>Or,_c5:()=>bb,_uU:()=>z_,aQg:()=>vb,cJS:()=>Lt,cg1:()=>iv,dDg:()=>Xx,dqk:()=>Xe,eBb:()=>Sf,eFA:()=>ib,ekj:()=>j_,eoX:()=>SE,f3M:()=>hl,g9A:()=>wE,h0i:()=>Ci,hGG:()=>QA,hij:()=>kh,iGM:()=>Hv,ifc:()=>ot,ip1:()=>vE,kL8:()=>w0,lG2:()=>Xt,lcZ:()=>Pv,lnq:()=>wp,lri:()=>tb,mCW:()=>yo,n5z:()=>Qu,oAB:()=>Ue,oxw:()=>_m,pB0:()=>uc,q3G:()=>Kn,q4F:()=>pu,qLn:()=>zf,qOj:()=>y_,qZA:()=>Sh,qzn:()=>Bs,rWj:()=>AE,sBO:()=>aC,sIi:()=>Tu,s_b:()=>Ao,soG:()=>oy,tb:()=>ws,tp0:()=>je,uIk:()=>xh,vHH:()=>Me,vpe:()=>bs,wAp:()=>Dt,xp6:()=>Zr,z2F:()=>Kh,z3N:()=>ds,zSh:()=>_c,zs3:()=>Cc});var h=F(7579),re=F(727),N=F(8306),he=F(6451),le=F(3099);function pe(s){for(let o in s)if(s[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function ue(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function ge(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ge).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function me(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const j=pe({__forward_ref__:pe});function H(s){return s.__forward_ref__=H,s.toString=function(){return ge(this())},s}function ee(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty(j)&&s.__forward_ref__===H}class Me extends Error{constructor(o,a){super(function Ye(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function ye(s){return"string"==typeof s?s:null==s?"":String(s)}function we(s,o){throw new Me(-201,!1)}function $t(s,o){null==s&&function We(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function Yt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Lt(s){return{providers:s.providers||[],imports:s.imports||[]}}function an(s){return No(s,Mi)||No(s,si)}function No(s,o){return s.hasOwnProperty(o)?s[o]:null}function $r(s){return s&&(s.hasOwnProperty(Ki)||s.hasOwnProperty(Ri))?s[Ki]:null}const Mi=pe({\u0275prov:pe}),Ki=pe({\u0275inj:pe}),si=pe({ngInjectableDef:pe}),Ri=pe({ngInjectorDef:pe});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let fn;function jn(s){const o=fn;return fn=s,o}function ki(s,o,a){const u=an(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&yt.Optional?null:void 0!==o?o:void we(ge(s))}function Hn(s){return{toString:s}.toString()}var yn=(()=>((yn=yn||{})[yn.OnPush=0]="OnPush",yn[yn.Default=1]="Default",yn))(),ot=(()=>{return(s=ot||(ot={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ot;var s})();const Xe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),_n={},Bt=[],Jn=pe({\u0275cmp:pe}),Is=pe({\u0275dir:pe}),Qt=pe({\u0275pipe:pe}),Oi=pe({\u0275mod:pe}),Gt=pe({\u0275fac:pe}),Y=pe({__NG_ELEMENT_ID__:pe});let G=0;function B(s){return Hn(()=>{const a=!0===s.standalone,u={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===yn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Bt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ot.Emulated,id:"c"+G++,styles:s.styles||Bt,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,_=s.features;return d.inputs=dn(s.inputs,u),d.outputs=dn(s.outputs),_&&_.forEach(w=>w(d)),d.directiveDefs=g?()=>("function"==typeof g?g():g).map(q).filter(xe):null,d.pipeDefs=g?()=>("function"==typeof g?g():g).map(vn).filter(xe):null,d})}function q(s){return rt(s)||hn(s)}function xe(s){return null!==s}function Ue(s){return Hn(()=>({type:s.type,bootstrap:s.bootstrap||Bt,declarations:s.declarations||Bt,imports:s.imports||Bt,exports:s.exports||Bt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function dn(s,o){if(null==s)return _n;const a={};for(const u in s)if(s.hasOwnProperty(u)){let d=s[u],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=u,o&&(o[d]=g)}return a}const Xt=B;function ar(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function rt(s){return s[Jn]||null}function hn(s){return s[Is]||null}function vn(s){return s[Qt]||null}function qr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Xr(s){return Array.isArray(s)&&!0===s[1]}function Uo(s){return 0!=(8&s.flags)}function eo(s){return 2==(2&s.flags)}function jo(s){return 1==(1&s.flags)}function Jr(s){return null!==s.template}function Wp(s){return 0!=(256&s[2])}function _i(s,o){return s.hasOwnProperty(Gt)?s[Gt]:null}class Id{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function Go(){return Fi}function Fi(s){return s.type.prototype.ngOnChanges&&(s.setInput=$o),to}function to(){const s=Ga(this),o=s?.current;if(o){const a=s.previous;if(a===_n)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function $o(s,o,a,u){const d=Ga(s)||function xd(s,o){return s[zo]=o}(s,{previous:_n,current:null}),g=d.current||(d.current={}),_=d.previous,w=this.declaredInputs[a],D=_[w];g[w]=new Id(D&&D.currentValue,o,_===_n),s[u]=o}Go.ngInherit=!0;const zo="__ngSimpleChanges__";function Ga(s){return s[zo]||null}function zn(s){for(;Array.isArray(s);)s=s[0];return s}function Ko(s,o){return zn(o[s])}function ai(s,o){return zn(o[s.index])}function $a(s,o){return s.data[o]}function es(s,o){return s[o]}function Sr(s,o){const a=o[s];return qr(a)?a:a[0]}function Zo(s){return 4==(4&s[2])}function bi(s){return 64==(64&s[2])}function ns(s,o){return null==o?null:s[o]}function rs(s){s[18]=0}function Yo(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const It={lFrame:zl(null),bindingsEnabled:!0};function Rs(){return It.bindingsEnabled}function Ie(){return It.lFrame.lView}function Ut(){return It.lFrame.tView}function ks(s){return It.lFrame.contextLView=s,s[8]}function Xo(s){return It.lFrame.contextLView=null,s}function bn(){let s=za();for(;null!==s&&64===s.type;)s=s.parent;return s}function za(){return It.lFrame.currentTNode}function li(s,o){const a=It.lFrame;a.currentTNode=s,a.isParent=o}function qa(){return It.lFrame.isParent}function Wa(){It.lFrame.isParent=!1}function Ni(){return It.lFrame.bindingIndex}function ro(){return It.lFrame.bindingIndex++}function ss(s){const o=It.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Md(s,o){const a=It.lFrame;a.bindingIndex=a.bindingRootIndex=s,Wu(o)}function Wu(s){It.lFrame.currentDirectiveIndex=s}function Hl(){return It.lFrame.currentQueryIndex}function Qa(s){It.lFrame.currentQueryIndex=s}function Ku(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function ea(s,o,a){if(a&yt.SkipSelf){let d=o,g=s;for(;!(d=d.parent,null!==d||a&yt.Host||(d=Ku(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,s=g}const u=It.lFrame=$l();return u.currentTNode=o,u.lView=s,!0}function Gl(s){const o=$l(),a=s[1];It.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function $l(){const s=It.lFrame,o=null===s?null:s.child;return null===o?zl(s):o}function zl(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function ql(){const s=It.lFrame;return It.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Wl=ql;function ta(){const s=ql();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function cr(){return It.lFrame.selectedIndex}function ui(s){It.lFrame.selectedIndex=s}function wn(){const s=It.lFrame;return $a(s.tView,s.selectedIndex)}function na(){It.lFrame.currentNamespace="svg"}function Zl(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:C,ngOnDestroy:k}=g;_&&(s.contentHooks||(s.contentHooks=[])).push(-a,_),w&&((s.contentHooks||(s.contentHooks=[])).push(a,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,w)),D&&(s.viewHooks||(s.viewHooks=[])).push(-a,D),C&&((s.viewHooks||(s.viewHooks=[])).push(a,C),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,C)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(a,k)}}function pf(s,o,a){so(s,o,3,a)}function gf(s,o,a,u){(3&s[2])===a&&so(s,o,a,u)}function Xa(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function so(s,o,a,u){const g=u??-1,_=o.length-1;let w=0;for(let D=void 0!==u?65535&s[18]:0;D<_;D++)if("number"==typeof o[D+1]){if(w=o[D],null!=u&&w>=u)break}else o[D]<0&&(s[18]+=65536),(w<g||-1==g)&&(Cy(s,a,o,D),s[18]=(4294901760&s[18])+D+2),D++}function Cy(s,o,a,u){const d=a[u]<0,g=a[u+1],w=s[d?-a[u]:a[u]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class ra{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function el(s,o,a){let u=0;for(;u<a.length;){const d=a[u];if("number"==typeof d){if(0!==d)break;u++;const g=a[u++],_=a[u++],w=a[u++];s.setAttribute(o,_,w,g)}else{const g=d,_=a[++u];Fd(g)?s.setProperty(o,g,_):s.setAttribute(o,g,_),u++}}return u}function tl(s){return 3===s||4===s||6===s}function Fd(s){return 64===s.charCodeAt(0)}function Fs(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const d=o[u];"number"==typeof d?a=d:0===a||Nd(s,a,d,null,-1===a||2===a?o[++u]:null)}}return s}function Nd(s,o,a,u,d){let g=0,_=s.length;if(-1===o)_=-1;else for(;g<s.length;){const w=s[g++];if("number"==typeof w){if(w===o){_=-1;break}if(w>o){_=g-1;break}}}for(;g<s.length;){const w=s[g];if("number"==typeof w)break;if(w===a){if(null===u)return void(null!==d&&(s[g+1]=d));if(u===s[g+1])return void(s[g+2]=d)}g++,null!==u&&g++,null!==d&&g++}-1!==_&&(s.splice(_,0,o),g=_+1),s.splice(g++,0,a),null!==u&&s.splice(g++,0,u),null!==d&&s.splice(g++,0,d)}function _f(s){return-1!==s}function nl(s){return 32767&s}function Tr(s,o){let a=function Xp(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let os=!0;function Yu(s){const o=os;return os=s,o}let as=0;const pn={};function ci(s,o){const a=Pn(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Nn(u.data,s),Nn(o,null),Nn(u.blueprint,null));const d=ia(s,o),g=s.injectorIndex;if(_f(d)){const _=nl(d),w=Tr(d,o),D=w[1].data;for(let C=0;C<8;C++)o[g+C]=w[_+C]|D[_+C]}return o[g+8]=d,g}function Nn(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Pn(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ia(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,d=o;for(;null!==d;){if(u=aa(d),null===u)return-1;if(a++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Yl(s,o,a){!function rn(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(Y)&&(u=a[Y]),null==u&&(u=a[Y]=as++);const d=255&u;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function Cn(s,o,a){if(a&yt.Optional)return s;we()}function il(s,o,a,u){if(a&yt.Optional&&void 0===u&&(u=null),0==(a&(yt.Self|yt.Host))){const d=s[9],g=jn(void 0);try{return d?d.get(o,u,a&yt.Optional):ki(o,u,a&yt.Optional)}finally{jn(g)}}return Cn(u,0,a)}function gn(s,o,a,u=yt.Default,d){if(null!==s){if(1024&o[2]){const _=function ao(s,o,a,u,d){let g=s,_=o;for(;null!==g&&null!==_&&1024&_[2]&&!(256&_[2]);){const w=sl(g,_,a,u|yt.Self,pn);if(w!==pn)return w;let D=g.parent;if(!D){const C=_[21];if(C){const k=C.get(a,pn,u);if(k!==pn)return k}D=aa(_),_=_[15]}g=D}return d}(s,o,a,u,pn);if(_!==pn)return _}const g=sl(s,o,a,u,pn);if(g!==pn)return g}return il(o,a,u,d)}function sl(s,o,a,u,d){const g=function sa(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Y)?s[Y]:void 0;return"number"==typeof o?o>=0?255&o:Lr:o}(a);if("function"==typeof g){if(!ea(o,s,u))return u&yt.Host?Cn(d,0,u):il(o,a,u,d);try{const _=g(u);if(null!=_||u&yt.Optional)return _;we()}finally{Wl()}}else if("number"==typeof g){let _=null,w=Pn(s,o),D=-1,C=u&yt.Host?o[16][6]:null;for((-1===w||u&yt.SkipSelf)&&(D=-1===w?ia(s,o):o[w+8],-1!==D&&Ql(u,!1)?(_=o[1],w=nl(D),o=Tr(D,o)):w=-1);-1!==w;){const k=o[1];if(oa(g,w,k.data)){const P=jt(w,o,a,_,u,C);if(P!==pn)return P}D=o[w+8],-1!==D&&Ql(u,o[1].data[w+8]===C)&&oa(g,w,o)?(_=k,w=nl(D),o=Tr(D,o)):w=-1}}return d}function jt(s,o,a,u,d,g){const _=o[1],w=_.data[s+8],k=oo(w,_,a,null==u?eo(w)&&os:u!=_&&0!=(3&w.type),d&yt.Host&&g===w);return null!==k?ls(o,_,k,w):pn}function oo(s,o,a,u,d){const g=s.providerIndexes,_=o.data,w=1048575&g,D=s.directiveStart,k=g>>20,z=d?w+k:s.directiveEnd;for(let ne=u?w:w+k;ne<z;ne++){const Ee=_[ne];if(ne<D&&a===Ee||ne>=D&&Ee.type===a)return ne}if(d){const ne=_[D];if(ne&&Jr(ne)&&ne.type===a)return D}return null}function ls(s,o,a,u){let d=s[a];const g=o.data;if(function mf(s){return s instanceof ra}(d)){const _=d;_.resolving&&function Qe(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Me(-200,`Circular dependency in DI detected for ${s}${a}`)}(function _e(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ye(s)}(g[a]));const w=Yu(_.canSeeViewProviders);_.resolving=!0;const D=_.injectImpl?jn(_.injectImpl):null;ea(s,u,yt.Default);try{d=s[a]=_.factory(void 0,g,s,u),o.firstCreatePass&&a>=u.directiveStart&&function Zu(s,o,a){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(u){const _=Fi(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==D&&jn(D),Yu(w),_.resolving=!1,Wl()}}return d}function oa(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Ql(s,o){return!(s&yt.Self||s&yt.Host&&o)}class An{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return gn(this._tNode,this._lView,o,u,a)}}function Lr(){return new An(bn(),Ie())}function Qu(s){return Hn(()=>{const o=s.prototype.constructor,a=o[Gt]||Xl(o),u=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==u;){const g=d[Gt]||Xl(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Xl(s){return $e(s)?()=>{const o=Xl(ee(s));return o&&o()}:_i(s)}function aa(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function Br(s){return function rl(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let d=0;for(;d<u;){const g=a[d];if(tl(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<u&&"string"==typeof a[d];)d++;else{if(g===o)return a[d+1];d+=2}}}return null}(bn(),s)}const la="__parameters__";function gt(s,o,a){return Hn(()=>{const u=function ua(s){return function(...a){if(s){const u=s(...a);for(const d in u)this[d]=u[d]}}}(o);function d(...g){if(this instanceof d)return u.apply(this,g),this;const _=new d(...g);return w.annotation=_,w;function w(D,C,k){const P=D.hasOwnProperty(la)?D[la]:Object.defineProperty(D,la,{value:[]})[la];for(;P.length<=k;)P.push(null);return(P[k]=P[k]||[]).push(_),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class Ht{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Yt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Rr(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),Rr(u,o)):o!==s&&o.push(u)}return o}function Vr(s,o){s.forEach(a=>Array.isArray(a)?Vr(a,o):o(a))}function tc(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function qn(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function lo(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}function Wn(s,o,a){let u=da(s,o);return u>=0?s[1|u]=a:(u=~u,function eu(s,o,a,u){let d=s.length;if(d==o)s.push(a,u);else if(1===d)s.push(u,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function co(s,o){const a=da(s,o);if(a>=0)return s[1|a]}function da(s,o){return function us(s,o,a){let u=0,d=s.length>>a;for(;d!==u;){const g=u+(d-u>>1),_=s[g<<a];if(o===_)return g<<a;_>o?d=g:u=g+1}return~(d<<a)}(s,o,1)}const ho={},Ps="__NG_DI_FLAG__",wi="ngTempTokenPath",Ef=/\n/gm,rr="__source";let vr;function dl(s){const o=vr;return vr=s,o}function ma(s,o=yt.Default){if(void 0===vr)throw new Me(-203,!1);return null===vr?ki(s,void 0,o):vr.get(s,o&yt.Optional?null:void 0,o)}function Tn(s,o=yt.Default){return(function mi(){return fn}()||ma)(ee(s),o)}function hl(s,o=yt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Tn(s,o)}function fl(s){const o=[];for(let a=0;a<s.length;a++){const u=ee(s[a]);if(Array.isArray(u)){if(0===u.length)throw new Me(900,!1);let d,g=yt.Default;for(let _=0;_<u.length;_++){const w=u[_],D=x(w);"number"==typeof D?-1===D?d=w.token:g|=D:d=w}o.push(Tn(d,g))}else o.push(Tn(u))}return o}function I(s,o){return s[Ps]=o,s.prototype[Ps]=o,s}function x(s){return s[Ps]}const se=I(gt("Optional"),8),je=I(gt("SkipSelf"),4);let ac,_a;function rg(s){ac=s}function go(s){return function Ud(){if(void 0===_a&&(_a=null,Xe.trustedTypes))try{_a=Xe.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return _a}()?.createHTML(s)||s}class wa{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Gd extends wa{getTypeName(){return"HTML"}}class $d extends wa{getTypeName(){return"Style"}}class lc extends wa{getTypeName(){return"Script"}}class zd extends wa{getTypeName(){return"URL"}}class ei extends wa{getTypeName(){return"ResourceURL"}}function ds(s){return s instanceof wa?s.changingThisBreaksApplicationSecurity:s}function Bs(s,o){const a=function ou(s){return s instanceof wa&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function ag(s){return new Gd(s)}function qd(s){return new $d(s)}function Sf(s){return new lc(s)}function lg(s){return new zd(s)}function uc(s){return new ei(s)}class ug{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(go(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class mo{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=go(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=go(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let d=a.length-1;0<d;d--){const _=a.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const cc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,My=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function yo(s){return(s=String(s)).match(cc)||s.match(My)?s:"unsafe:"+s}function Bi(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Ea(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const Mf=Bi("area,br,col,hr,img,wbr"),Rf=Bi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zd=Bi("rp,rt"),gl=Ea(Mf,Ea(Rf,Bi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ea(Zd,Bi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ea(Zd,Rf)),_o=Bi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),au=Bi("srcset"),ml=Ea(_o,au,Bi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hc=Bi("script,style,template");class vo{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!gl.hasOwnProperty(a))return this.sanitizedSomething=!0,!hc.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=o.attributes;for(let d=0;d<u.length;d++){const g=u.item(d),_=g.name,w=_.toLowerCase();if(!ml.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let D=g.value;_o[w]&&(D=yo(D)),au[w]&&(s=D,D=(s=String(s)).split(",").map(o=>yo(o.trim())).join(", ")),this.buf.push(" ",_,'="',hs(D),'"')}var s;return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();gl.hasOwnProperty(a)&&!Mf.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(hs(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const hg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ky=/([^\#-~ |!])/g;function hs(s){return s.replace(/&/g,"&amp;").replace(hg,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(ky,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Vi;function fc(s,o){let a=null;try{Vi=Vi||function Wd(s){const o=new mo(s);return function Kd(){try{return!!(new window.DOMParser).parseFromString(go(""),"text/html")}catch{return!1}}()?new ug(o):o}(s);let u=o?String(o):"";a=Vi.getInertBodyElement(u);let d=5,g=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=g,g=a.innerHTML,a=Vi.getInertBodyElement(u)}while(u!==g);return go((new vo).sanitizeChildren(lu(a)||a))}finally{if(a){const u=lu(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function lu(s){return"content"in s&&function pc(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Kn=(()=>((Kn=Kn||{})[Kn.NONE=0]="NONE",Kn[Kn.HTML=1]="HTML",Kn[Kn.STYLE=2]="STYLE",Kn[Kn.SCRIPT=3]="SCRIPT",Kn[Kn.URL=4]="URL",Kn[Kn.RESOURCE_URL=5]="RESOURCE_URL",Kn))();function Of(s){const o=function yl(){const s=Ie();return s&&s[12]}();return o?o.sanitize(Kn.URL,s)||"":Bs(s,"URL")?ds(s):yo(ye(s))}const Da=new Ht("ENVIRONMENT_INITIALIZER"),Vs=new Ht("INJECTOR",-1),Ff=new Ht("INJECTOR_DEF_TYPES");class mc{get(o,a=ho){if(a===ho){const u=new Error(`NullInjectorError: No provider for ${ge(o)}!`);throw u.name="NullInjectorError",u}return a}}function pg(...s){return{\u0275providers:br(0,s)}}function br(s,...o){const a=[],u=new Set;let d;return Vr(o,g=>{const _=g;Xd(_,a,[],u)&&(d||(d=[]),d.push(_))}),void 0!==d&&du(d,a),a}function du(s,o){for(let a=0;a<s.length;a++){const{providers:d}=s[a];Vr(d,g=>{o.push(g)})}}function Xd(s,o,a,u){if(!(s=ee(s)))return!1;let d=null,g=$r(s);const _=!g&&rt(s);if(g||_){if(_&&!_.standalone)return!1;d=s}else{const D=s.ngModule;if(g=$r(D),!g)return!1;d=D}const w=u.has(d);if(_){if(w)return!1;if(u.add(d),_.dependencies){const D="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const C of D)Xd(C,o,a,u)}}else{if(!g)return!1;{if(null!=g.imports&&!w){let C;u.add(d);try{Vr(g.imports,k=>{Xd(k,o,a,u)&&(C||(C=[]),C.push(k))})}finally{}void 0!==C&&du(C,o)}if(!w){const C=_i(d)||(()=>new d);o.push({provide:d,useFactory:C,deps:Bt},{provide:Ff,useValue:d,multi:!0},{provide:Da,useValue:()=>Tn(d),multi:!0})}const D=g.providers;null==D||w||Vr(D,k=>{o.push(k)})}}return d!==s&&void 0!==s.providers}const Nf=pe({provide:String,useValue:pe});function hu(s){return null!==s&&"object"==typeof s&&Nf in s}function bo(s){return"function"==typeof s}const _c=new Ht("Set Injector scope."),fu={},Ly={};let Lf;function vc(){return void 0===Lf&&(Lf=new mc),Lf}class Zn{}class Ia extends Zn{constructor(o,a,u,d){super(),this.parent=a,this.source=u,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vf(o,_=>this.processProvider(_)),this.records.set(Vs,fs(void 0,this)),d.has("environment")&&this.records.set(Zn,fs(void 0,this));const g=this.records.get(_c);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Ff.multi,Bt,yt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=dl(this),u=jn(void 0);try{return o()}finally{dl(a),jn(u)}}get(o,a=ho,u=yt.Default){this.assertNotDestroyed();const d=dl(this),g=jn(void 0);try{if(!(u&yt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const D=function Jd(s){return"function"==typeof s||"object"==typeof s&&s instanceof Ht}(o)&&an(o);w=D&&this.injectableDefInScope(D)?fs(xa(o),fu):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(u&yt.Self?vc():this.parent).get(o,a=u&yt.Optional&&a===ho?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[wi]=_[wi]||[]).unshift(ge(o)),d)throw _;return function R(s,o,a,u){const d=s[wi];throw o[rr]&&d.unshift(o[rr]),s.message=function L(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let d=ge(o);if(Array.isArray(o))d=o.map(ge).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let w=o[_];g.push(_+":"+("string"==typeof w?JSON.stringify(w):ge(w)))}d=`{${g.join(", ")}}`}return`${a}${u?"("+u+")":""}[${d}]: ${s.replace(Ef,"\n  ")}`}("\n"+s.message,d,a,u),s.ngTokenPath=d,s[wi]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{jn(g),dl(d)}}resolveInjectorInitializers(){const o=dl(this),a=jn(void 0);try{const u=this.get(Da.multi,Bt,yt.Self);for(const d of u)d()}finally{dl(o),jn(a)}}toString(){const o=[],a=this.records;for(const u of a.keys())o.push(ge(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(o){let a=bo(o=ee(o))?o:ee(o&&o.provide);const u=function Us(s){return hu(s)?fs(void 0,s.useValue):fs(function js(s,o,a){let u;if(bo(s)){const d=ee(s);return _i(d)||xa(d)}if(hu(s))u=()=>ee(s.useValue);else if(function yc(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...fl(s.deps||[]));else if(function Pf(s){return!(!s||!s.useExisting)}(s))u=()=>Tn(ee(s.useExisting));else{const d=ee(s&&(s.useClass||s.provide));if(!function gg(s){return!!s.deps}(s))return _i(d)||xa(d);u=()=>new d(...fl(s.deps))}return u}(s),fu)}(o);if(bo(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=fs(void 0,fu,!0),d.factory=()=>fl(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,u)}hydrate(o,a){return a.value===fu&&(a.value=Ly,a.value=a.factory()),"object"==typeof a.value&&a.value&&function hr(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=ee(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function xa(s){const o=an(s),a=null!==o?o.factory:_i(s);if(null!==a)return a;if(s instanceof Ht)throw new Me(204,!1);if(s instanceof Function)return function Bf(s){const o=s.length;if(o>0)throw lo(o,"?"),new Me(204,!1);const a=function ii(s){const o=s&&(s[Mi]||s[si]);if(o){const a=function Pr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Me(204,!1)}function fs(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function By(s){return!!s.\u0275providers}function Vf(s,o){for(const a of s)Array.isArray(a)?Vf(a,o):By(a)?Vf(a.\u0275providers,o):o(a)}class mg{}class b{resolveComponentFactory(o){throw function y(s){const o=Error(`No component factory found for ${ge(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let T=(()=>{class s{}return s.NULL=new b,s})();function O(){return W(bn(),Ie())}function W(s,o){return new de(ai(s,o))}let de=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=O,s})();function Ve(s){return s instanceof de?s.nativeElement:s}class _t{}let ft=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Yn(){const s=Ie(),a=Sr(bn().index,s);return(qr(a)?a:s)[11]}(),s})(),Ui=(()=>{class s{}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:()=>null}),s})();class _l{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const pu=new _l("14.1.3"),bc={};function yu(s){return s.ngOriginalError}class zf{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&yu(o);for(;a&&yu(a);)a=yu(a);return a||null}}const Eg=new Map;let Kr=0;const it="__ngContext__";function at(s,o){qr(o)?(s[it]=o[20],function _u(s){Eg.set(s[20],s)}(o)):s[it]=o}function qf(s){const o=s[it];return"number"==typeof o?function Dg(s){return Eg.get(s)||null}(o):o||null}function Ze(s){const o=qf(s);return o?qr(o)?o:o.lView:null}const Jb=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Xe))();var Ca=(()=>((Ca=Ca||{})[Ca.Important=1]="Important",Ca[Ca.DashCase=2]="DashCase",Ca))();function ze(s,o){return undefined(s,o)}function Wf(s){const o=s[3];return Xr(o)?o[3]:o}function Dc(s){return $y(s[13])}function Sg(s){return $y(s[4])}function $y(s){for(;null!==s&&!Xr(s);)s=s[4];return s}function vu(s,o,a,u,d){if(null!=u){let g,_=!1;Xr(u)?g=u:qr(u)&&(_=!0,u=u[0]);const w=zn(u);0===s&&null!==a?null==d?Ky(o,a,w):ps(o,a,w,d||null,!0):1===s&&null!==a?ps(o,a,w,d||null,!0):2===s?function Zy(s,o,a){const u=un(s,o);u&&function Rg(s,o,a,u){s.removeChild(o,a,u)}(s,u,o,a)}(o,w,_):3===s&&o.destroyNode(w),null!=g&&function Jf(s,o,a,u,d){const g=a[7];g!==zn(a)&&vu(o,s,u,g,d);for(let w=10;w<a.length;w++){const D=a[w];Xf(D[1],D,s,o,u,g)}}(o,s,g,a,d)}}function Kf(s,o,a){return s.createElement(o,a)}function nw(s,o){const a=s[9],u=a.indexOf(o),d=o[3];512&o[2]&&(o[2]&=-513,Yo(d,-1)),a.splice(u,1)}function wl(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const d=u[17];null!==d&&d!==s&&nw(d,u),o>0&&(s[a-1][4]=u[4]);const g=qn(s,10+o);!function ce(s,o){Xf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const _=g[19];null!==_&&_.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function qy(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&Xf(s,o,a,3,null,null),function LD(s){let o=s[13];if(!o)return Yf(s[1],s);for(;o;){let a=null;if(qr(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)qr(o)&&Yf(o[1],o),o=o[3];null===o&&(o=s),qr(o)&&Yf(o[1],o),a=o&&o[4]}o=a}}(o)}}function Yf(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function VD(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const d=o[a[u]];if(!(d instanceof ra)){const g=a[u+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const w=d[g[_]],D=g[_+1];try{D.call(w)}finally{}}else try{g.call(d)}finally{}}}}(s,o),function BD(s,o){const a=s.cleanup,u=o[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const _=a[g+1],w="function"==typeof _?_(o):zn(o[_]),D=u[d=a[g+2]],C=a[g+3];"boolean"==typeof C?w.removeEventListener(a[g],D,C):C>=0?u[d=C]():u[d=-C].unsubscribe(),g+=2}else{const _=u[d=a[g+1]];a[g].call(_)}if(null!==u){for(let g=d+1;g<u.length;g++)(0,u[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Xr(o[3])){a!==o[3]&&nw(a,o);const u=o[19];null!==u&&u.detachView(s)}!function RD(s){Eg.delete(s[20])}(o)}}function Ei(s,o,a){return function Wy(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const d=s.data[u.directiveStart].encapsulation;if(d===ot.None||d===ot.Emulated)return null}return ai(u,a)}(s,o.parent,a)}function ps(s,o,a,u,d){s.insertBefore(o,a,u,d)}function Ky(s,o,a){s.appendChild(o,a)}function sr(s,o,a,u,d){null!==u?ps(s,o,a,u,d):Ky(s,o,a)}function un(s,o){return s.parentNode(o)}function Ic(s,o,a){return iw(s,o,a)}let iw=function Hi(s,o,a){return 40&s.type?ai(s,a):null};function Do(s,o,a,u){const d=Ei(s,u,o),g=o[11],w=Ic(u.parent||o[6],u,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)sr(g,d,a[D],w,!1);else sr(g,d,a,w,!1)}function Bn(s,o){if(null!==o){const a=o.type;if(3&a)return ai(o,s);if(4&a)return Qf(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return Bn(s,u);{const d=s[o.index];return Xr(d)?Qf(-1,d):zn(d)}}if(32&a)return ze(o,s)()||zn(s[o.index]);{const u=Eu(s,o);return null!==u?Array.isArray(u)?u[0]:Bn(Wf(s[16]),u):Bn(s,o.next)}}return null}function Eu(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Qf(s,o){const a=10+s+1;if(a<o.length){const u=o[a],d=u[1].firstChild;if(null!==d)return Bn(u,d)}return o[7]}function xc(s,o,a,u,d,g,_){for(;null!=a;){const w=u[a.index],D=a.type;if(_&&0===o&&(w&&at(zn(w),u),a.flags|=4),64!=(64&a.flags))if(8&D)xc(s,o,a.child,u,d,g,!1),vu(o,s,d,w,g);else if(32&D){const C=ze(a,u);let k;for(;k=C();)vu(o,s,d,k,g);vu(o,s,d,w,g)}else 16&D?ih(s,o,u,a,d,g):vu(o,s,d,w,g);a=_?a.projectionNext:a.next}}function Xf(s,o,a,u,d,g){xc(a,u,s.firstChild,o,d,g,!1)}function ih(s,o,a,u,d,g){const _=a[16],D=_[6].projection[u.projection];if(Array.isArray(D))for(let C=0;C<D.length;C++)vu(o,s,d,D[C],g);else xc(s,o,D,_[3],d,g,!0)}function Dl(s,o,a){s.setAttribute(o,"style",a)}function sh(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function Du(s,o,a){let u=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const g=o.length;if(d+g===u||s.charCodeAt(d+g)<=32)return d}a=d+1}}const oh="ng-template";function Iu(s,o,a){let u=0;for(;u<s.length;){let d=s[u++];if(a&&"class"===d){if(d=s[u],-1!==Du(d.toLowerCase(),o,0))return!0}else if(1===d){for(;u<s.length&&"string"==typeof(d=s[u++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Yy(s){return 4===s.type&&s.value!==oh}function ah(s,o,a){return o===(4!==s.type||a?s.value:oh)}function Qy(s,o,a){let u=4;const d=s.attrs||[],g=function lw(s){for(let o=0;o<s.length;o++)if(tl(s[o]))return o;return s.length}(d);let _=!1;for(let w=0;w<o.length;w++){const D=o[w];if("number"!=typeof D){if(!_)if(4&u){if(u=2|1&u,""!==D&&!ah(s,D,a)||""===D&&1===o.length){if(ti(u))return!1;_=!0}}else{const C=8&u?D:o[++w];if(8&u&&null!==s.attrs){if(!Iu(s.attrs,C,a)){if(ti(u))return!1;_=!0}continue}const P=Xy(8&u?"class":D,d,Yy(s),a);if(-1===P){if(ti(u))return!1;_=!0;continue}if(""!==C){let z;z=P>g?"":d[P+1].toLowerCase();const ne=8&u?z:null;if(ne&&-1!==Du(ne,C,0)||2&u&&C!==z){if(ti(u))return!1;_=!0}}}}else{if(!_&&!ti(u)&&!ti(D))return!1;if(_&&ti(D))continue;_=!1,u=D|1&u}}return ti(u)||_}function ti(s){return 0==(1&s)}function Xy(s,o,a,u){if(null===o)return-1;let d=0;if(u||!a){let g=!1;for(;d<o.length;){const _=o[d];if(_===s)return d;if(3===_||6===_)g=!0;else{if(1===_||2===_){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=g?1:2}return-1}return function kg(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function lh(s,o,a=!1){for(let u=0;u<o.length;u++)if(Qy(s,o[u],a))return!0;return!1}function ep(s,o){e:for(let a=0;a<o.length;a++){const u=o[a];if(s.length===u.length){for(let d=0;d<s.length;d++)if(s[d]!==u[d])continue e;return!0}}return!1}function Jy(s,o){return s?":not("+o.trim()+")":o}function UD(s){let o=s[0],a=1,u=2,d="",g=!1;for(;a<s.length;){let _=s[a];if("string"==typeof _)if(2&u){const w=s[++a];d+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?d+="."+_:4&u&&(d+=" "+_);else""!==d&&!ti(_)&&(o+=Jy(g,d),d=""),u=_,g=g||!ti(u);a++}return""!==d&&(o+=Jy(g,d)),o}const Nt={};function Zr(s){e_(Ut(),Ie(),cr()+s,!1)}function e_(s,o,a,u){if(!u)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&pf(o,g,a)}else{const g=s.preOrderHooks;null!==g&&gf(o,g,0,a)}ui(a)}function t_(s,o=null,a=null,u){const d=Yr(s,o,a,u);return d.resolveInjectorInitializers(),d}function Yr(s,o=null,a=null,u,d=new Set){const g=[a||Bt,pg(s)];return u=u||("object"==typeof s?void 0:ge(s)),new Ia(g,o||vc(),u||null,d)}let Cc=(()=>{class s{static create(a,u){if(Array.isArray(a))return t_({name:""},u,a,"");{const d=a.name??"";return t_({name:d},a.parent,a.providers,d)}}}return s.THROW_IF_NOT_FOUND=ho,s.NULL=new mc,s.\u0275prov=Yt({token:s,providedIn:"any",factory:()=>Tn(Vs)}),s.__NG_ELEMENT_ID__=-1,s})();function Tc(s,o=yt.Default){const a=Ie();return null===a?Tn(s,o):gn(bn(),a,ee(s),o)}function Hg(s,o){return s<<17|o<<2}function Gs(s){return s>>17&32767}function Gg(s){return 2|s}function Di(s){return(131068&s)>>2}function $g(s,o){return-131069&s|o<<2}function zg(s){return 1|s}function Ew(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const d=a[u],g=a[u+1];if(-1!==g){const _=s.data[g];Qa(d),_.contentQueries(2,o[g],g)}}}function Qg(s,o,a,u,d,g,_,w,D,C,k){const P=o.blueprint.slice();return P[0]=d,P[2]=76|u,(null!==k||s&&1024&s[2])&&(P[2]|=1024),rs(P),P[3]=P[15]=s,P[8]=a,P[10]=_||s&&s[10],P[11]=w||s&&s[11],P[12]=D||s&&s[12]||null,P[9]=C||s&&s[9]||null,P[6]=g,P[20]=function th(){return Kr++}(),P[21]=k,P[16]=2==o.type?s[16]:P,P}function yh(s,o,a,u,d){let g=s.data[o];if(null===g)g=function a_(s,o,a,u,d){const g=za(),_=qa(),D=s.data[o]=function oI(s,o,a,u,d,g){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,a,o,u,d);return null===s.firstChild&&(s.firstChild=D),null!==g&&(_?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(s,o,a,u,d),function zu(){return It.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=u,g.attrs=d;const _=function Os(){const s=It.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return li(g,!0),g}function Sa(s,o,a,u){if(0===a)return-1;const d=o.length;for(let g=0;g<a;g++)o.push(u),s.blueprint.push(u),s.data.push(null);return d}function ip(s,o,a){Gl(o);try{const u=s.viewQuery;null!==u&&rm(1,u,a);const d=s.template;null!==d&&Xg(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ew(s,o),s.staticViewQueries&&rm(2,s.viewQuery,a);const g=s.components;null!==g&&function Iw(s,o){for(let a=0;a<o.length;a++)gI(s,o[a])}(o,g)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,ta()}}function sp(s,o,a,u){const d=o[2];if(128!=(128&d)){Gl(o);try{rs(o),function Za(s){return It.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&Xg(s,o,a,2,u);const _=3==(3&d);if(_){const C=s.preOrderCheckHooks;null!==C&&pf(o,C,null)}else{const C=s.preOrderHooks;null!==C&&gf(o,C,0,null),Xa(o,0)}if(function fI(s){for(let o=Dc(s);null!==o;o=Sg(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const d=a[u],g=d[3];0==(512&d[2])&&Yo(g,1),d[2]|=512}}}(o),function hI(s){for(let o=Dc(s);null!==o;o=Sg(o))for(let a=10;a<o.length;a++){const u=o[a],d=u[1];bi(u)&&sp(d,u,d.template,u[8])}}(o),null!==s.contentQueries&&Ew(s,o),_){const C=s.contentCheckHooks;null!==C&&pf(o,C)}else{const C=s.contentHooks;null!==C&&gf(o,C,1),Xa(o,1)}!function ww(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const d=a[u];if(d<0)ui(~d);else{const g=d,_=a[++u],w=a[++u];Md(_,g),w(2,o[g])}}}finally{ui(-1)}}(s,o);const w=s.components;null!==w&&function Dw(s,o){for(let a=0;a<o.length;a++)pI(s,o[a])}(o,w);const D=s.viewQuery;if(null!==D&&rm(2,D,u),_){const C=s.viewCheckHooks;null!==C&&pf(o,C)}else{const C=s.viewHooks;null!==C&&gf(o,C,2),Xa(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Yo(o[3],-1))}finally{ta()}}}function Qr(s,o,a,u){const d=o[10],_=Zo(o);try{!_&&d.begin&&d.begin(),_&&ip(s,o,u),sp(s,o,a,u)}finally{!_&&d.end&&d.end()}}function Xg(s,o,a,u,d){const g=cr(),_=2&u;try{ui(-1),_&&o.length>22&&e_(s,o,22,!1),a(u,d)}finally{ui(g)}}function Pc(s,o,a){!Rs()||(function vh(s,o,a,u){const d=a.directiveStart,g=a.directiveEnd;s.firstCreatePass||ci(a,o),at(u,o);const _=a.initialInputs;for(let w=d;w<g;w++){const D=s.data[w],C=Jr(D);C&&Ta(o,a,D);const k=ls(o,s,w,a);at(k,o),null!==_&&Ow(0,w-d,k,D,0,_),C&&(Sr(a.index,o)[8]=k)}}(s,o,a,ai(a,o)),128==(128&a.flags)&&function bh(s,o,a){const u=a.directiveStart,d=a.directiveEnd,g=a.index,_=function Ya(){return It.lFrame.currentDirectiveIndex}();try{ui(g);for(let w=u;w<d;w++){const D=s.data[w],C=o[w];Wu(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Tw(D,C)}}finally{ui(-1),Wu(_)}}(s,o,a))}function zs(s,o,a=ai){const u=o.localNames;if(null!==u){let d=o.index+1;for(let g=0;g<u.length;g+=2){const _=u[g+1],w=-1===_?a(o,s):s[_];s[d++]=w}}}function Jg(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=em(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function em(s,o,a,u,d,g,_,w,D,C){const k=22+u,P=k+d,z=function op(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:Nt);return a}(k,P),ne="function"==typeof C?C():C;return z[1]={type:s,blueprint:z,template:a,queries:null,viewQuery:w,declTNode:o,data:z.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:D,consts:ne,incompleteFirstPass:!1}}function u_(s,o,a,u){const d=im(o);null===a?d.push(u):(d.push(a),s.firstCreatePass&&Hr(s).push(u,d.length-1))}function Cw(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const d=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,d):a[u]=[o,d]}return a}function _h(s,o){const u=o.directiveEnd,d=s.data,g=o.attrs,_=[];let w=null,D=null;for(let C=o.directiveStart;C<u;C++){const k=d[C],P=k.inputs,z=null===g||Yy(o)?null:dI(P,g);_.push(z),w=Cw(P,C,w),D=Cw(k.outputs,C,D)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=w,o.outputs=D}function d_(s,o){const a=Sr(o,s);16&a[2]||(a[2]|=32)}function tm(s,o,a,u){let d=!1;if(Rs()){const g=function cI(s,o,a){const u=s.directiveRegistry;let d=null;if(u)for(let g=0;g<u.length;g++){const _=u[g];lh(a,_.selectors,!1)&&(d||(d=[]),Yl(ci(a,o),s,_.type),Jr(_)?(Mw(s,a),d.unshift(_)):d.push(_))}return d}(s,o,a),_=null===u?null:{"":-1};if(null!==g){d=!0,kw(a,s.data.length,g.length);for(let k=0;k<g.length;k++){const P=g[k];P.providersResolver&&P.providersResolver(P)}let w=!1,D=!1,C=Sa(s,o,g.length,null);for(let k=0;k<g.length;k++){const P=g[k];a.mergedAttrs=Fs(a.mergedAttrs,P.hostAttrs),h_(s,a,o,C,P),Ii(C,P,_),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const z=P.type.prototype;!w&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),w=!0),!D&&(z.ngOnChanges||z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),D=!0),C++}_h(s,a)}_&&function Rw(s,o,a){if(o){const u=s.localNames=[];for(let d=0;d<o.length;d+=2){const g=a[o[d+1]];if(null==g)throw new Me(-301,!1);u.push(o[d],g)}}}(a,u,_)}return a.mergedAttrs=Fs(a.mergedAttrs,a.attrs),d}function Sw(s,o,a,u,d,g){const _=g.hostBindings;if(_){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const D=~o.index;(function uI(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=D&&w.push(D),w.push(u,d,_)}}function Tw(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Mw(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Ii(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;Jr(o)&&(a[""]=s)}}function kw(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function h_(s,o,a,u,d){s.data[u]=d;const g=d.factory||(d.factory=_i(d.type)),_=new ra(g,Jr(d),Tc);s.blueprint[u]=_,a[u]=_,Sw(s,o,0,u,Sa(s,a,d.hostVars,Nt),d)}function Ta(s,o,a){const u=ai(o,s),d=Jg(a),g=s[10],_=nm(s,Qg(s,d,null,a.onPush?32:16,u,o,g,g.createRenderer(u,a),null,null,null));s[o.index]=_}function Io(s,o,a,u,d,g){const _=ai(s,o);!function wh(s,o,a,u,d,g,_){if(null==g)s.removeAttribute(o,d,a);else{const w=null==_?ye(g):_(g,u||"",d);s.setAttribute(o,d,w,a)}}(o[11],_,g,s.value,a,u,d)}function Ow(s,o,a,u,d,g){const _=g[o];if(null!==_){const w=u.setInput;for(let D=0;D<_.length;){const C=_[D++],k=_[D++],P=_[D++];null!==w?u.setInput(a,P,C,k):a[k]=P}}}function dI(s,o){let a=null,u=0;for(;u<o.length;){const d=o[u];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,s[d],o[u+1])),u+=2}else u+=2;else u+=4}return a}function Fw(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function pI(s,o){const a=Sr(o,s);if(bi(a)){const u=a[1];48&a[2]?sp(u,a,u.template,a[8]):a[5]>0&&f_(a)}}function f_(s){for(let u=Dc(s);null!==u;u=Sg(u))for(let d=10;d<u.length;d++){const g=u[d];if(bi(g))if(512&g[2]){const _=g[1];sp(_,g,_.template,g[8])}else g[5]>0&&f_(g)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const d=Sr(a[u],s);bi(d)&&d[5]>0&&f_(d)}}function gI(s,o){const a=Sr(o,s),u=a[1];(function mI(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),ip(u,a,a[8])}function nm(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function p_(s){for(;s;){s[2]|=32;const o=Wf(s);if(Wp(s)&&!o)return s;s=o}return null}function Pw(s){!function Nw(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],u=Ze(a);if(null!==u){const d=u[1];Qr(d,u,d.template,a)}}}(s[8])}function rm(s,o,a){Qa(0),o(s,a)}const bI=(()=>Promise.resolve(null))();function im(s){return s[7]||(s[7]=[])}function Hr(s){return s.cleanup||(s.cleanup=[])}function om(s,o){const a=s[9],u=a?a.get(zf,null):null;u&&u.handleError(o)}function ap(s,o,a,u,d){for(let g=0;g<a.length;){const _=a[g++],w=a[g++],D=o[_],C=s.data[_];null!==C.setInput?C.setInput(D,d,u,w):D[w]=d}}function hi(s,o,a){const u=Ko(o,s);!function zy(s,o,a){s.setValue(o,a)}(s[11],u,a)}function lp(s,o,a){let u=a?s.styles:null,d=a?s.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const w=o[_];"number"==typeof w?g=w:1==g?d=me(d,w):2==g&&(u=me(u,w+": "+o[++_]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=d:s.classesWithoutHost=d}function am(s,o,a,u,d=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&u.push(zn(g)),Xr(g))for(let w=10;w<g.length;w++){const D=g[w],C=D[1].firstChild;null!==C&&am(D[1],D,C,u)}const _=a.type;if(8&_)am(s,o,a.child,u);else if(32&_){const w=ze(a,o);let D;for(;D=w();)u.push(D)}else if(16&_){const w=Eu(o,a);if(Array.isArray(w))u.push(...w);else{const D=Wf(o[16]);am(D[1],D,w,u,!0)}}a=d?a.projectionNext:a.next}return u}class Eh{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return am(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Xr(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(wl(o,u),qn(a,u))}this._attachedToViewContainer=!1}qy(this._lView[1],this._lView)}onDestroy(o){u_(this._lView[1],this._lView,null,o)}markForCheck(){p_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function g_(s,o,a){const u=o[10];u.begin&&u.begin();try{sp(s,o,s.template,a)}catch(d){throw om(o,d),d}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Eo(s,o){Xf(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=o}}class lm extends Eh{constructor(o){super(o),this._view=o}detectChanges(){Pw(this._view)}checkNoChanges(){}get context(){return null}}class Tl extends T{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=rt(o);return new Dh(a,this.ngModule)}}function Au(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class up{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,u){const d=this.injector.get(o,bc,u);return d!==bc||a===bc?d:this.parentInjector.get(o,a,u)}}class Dh extends mg{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function jD(s){return s.map(UD).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Au(this.componentDef.inputs)}get outputs(){return Au(this.componentDef.outputs)}create(o,a,u,d){let g=(d=d||this.ngModule)instanceof Zn?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new up(o,g):o,w=_.get(_t,null);if(null===w)throw new Me(407,!1);const D=_.get(Ui,null),C=w.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",P=u?function xw(s,o,a){return s.selectRootElement(o,a===ot.ShadowDom)}(C,u,this.componentDef.encapsulation):Kf(w.createRenderer(null,this.componentDef),k,function Lc(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(k)),z=this.componentDef.onPush?288:272,ne=function Uw(s,o){return{components:[],scheduler:s||Jb,clean:bI,playerHandler:o||null,flags:0}}(),Ee=em(0,null,null,1,0,null,null,null,null,null),Fe=Qg(null,Ee,ne,z,null,null,w,C,D,_,null);let qe,nt;Gl(Fe);try{const Ct=function EI(s,o,a,u,d,g){const _=a[1];a[22]=s;const D=yh(_,22,2,"#host",null),C=D.mergedAttrs=o.hostAttrs;null!==C&&(lp(D,C,!0),null!==s&&(el(d,s,C),null!==D.classes&&sh(d,s,D.classes),null!==D.styles&&Dl(d,s,D.styles)));const k=u.createRenderer(s,o),P=Qg(a,Jg(o),null,o.onPush?32:16,a[22],D,u,k,g||null,null,null);return _.firstCreatePass&&(Yl(ci(D,a),_,o.type),Mw(_,D),kw(D,a.length,1)),nm(a,P),a[22]=P}(P,this.componentDef,Fe,w,C);if(P)if(u)el(C,P,["ng-version",pu.full]);else{const{attrs:ke,classes:vt}=function uw(s){const o=[],a=[];let u=1,d=2;for(;u<s.length;){let g=s[u];if("string"==typeof g)2===d?""!==g&&o.push(g,s[++u]):8===d&&a.push(g);else{if(!ti(d))break;d=g}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);ke&&el(C,P,ke),vt&&vt.length>0&&sh(C,P,vt.join(" "))}if(nt=$a(Ee,22),void 0!==a){const ke=nt.projection=[];for(let vt=0;vt<this.ngContentSelectors.length;vt++){const zt=a[vt];ke.push(null!=zt?Array.from(zt):null)}}qe=function Vw(s,o,a,u,d){const g=a[1],_=function lI(s,o,a){const u=bn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),h_(s,u,o,Sa(s,o,1,null),a),_h(s,u));const d=ls(o,s,u.directiveStart,u);at(d,o);const g=ai(u,o);return g&&at(g,o),d}(g,a,o);if(u.components.push(_),s[8]=_,null!==d)for(const D of d)D(_,o);if(o.contentQueries){const D=bn();o.contentQueries(1,_,D.directiveStart)}const w=bn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(ui(w.index),Sw(a[1],w,0,w.directiveStart,w.directiveEnd,o),Tw(o,_)),_}(Ct,this.componentDef,Fe,ne,[um]),ip(Ee,Fe,null)}finally{ta()}return new Bw(this.componentType,qe,W(nt,Fe),Fe,nt)}}class Bw extends class Vy{}{constructor(o,a,u,d,g){super(),this.location=u,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new lm(d),this.componentType=o}setInput(o,a){const u=this._tNode.inputs;let d;if(null!==u&&(d=u[o])){const g=this._rootLView;ap(g[1],g,d,o,a),d_(g,this._tNode.index)}}get injector(){return new An(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function um(){const s=bn();Zl(Ie()[1],s)}function y_(s){let o=function Su(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let d;if(Jr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Me(903,!1);d=o.\u0275dir}if(d){if(a){u.push(d);const _=s;_.inputs=__(s.inputs),_.declaredInputs=__(s.declaredInputs),_.outputs=__(s.outputs);const w=d.hostBindings;w&&cp(s,w);const D=d.viewQuery,C=d.contentQueries;if(D&&DI(s,D),C&&II(s,C),ue(s.inputs,d.inputs),ue(s.declaredInputs,d.declaredInputs),ue(s.outputs,d.outputs),Jr(d)&&d.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let _=0;_<g.length;_++){const w=g[_];w&&w.ngInherit&&w(s),w===y_&&(a=!1)}}o=Object.getPrototypeOf(o)}!function jw(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const d=s[u];d.hostVars=o+=d.hostVars,d.hostAttrs=Fs(d.hostAttrs,a=Fs(a,d.hostAttrs))}}(u)}function __(s){return s===_n?{}:s===Bt?[]:s}function DI(s,o){const a=s.viewQuery;s.viewQuery=a?(u,d)=>{o(u,d),a(u,d)}:o}function II(s,o){const a=s.contentQueries;s.contentQueries=a?(u,d,g)=>{o(u,d,g),a(u,d,g)}:o}function cp(s,o){const a=s.hostBindings;s.hostBindings=a?(u,d)=>{o(u,d),a(u,d)}:o}let dm=null;function Uc(){if(!dm){const s=Xe.Symbol;if(s&&s.iterator)dm=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(dm=u)}}}return dm}function Tu(s){return!!jc(s)&&(Array.isArray(s)||!(s instanceof Map)&&Uc()in s)}function jc(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ni(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function kr(s,o,a,u){const d=ni(s,o,a);return ni(s,o+1,u)||d}function xh(s,o,a,u){const d=Ie();return ni(d,ro(),o)&&(Ut(),Io(wn(),d,s,o,a,u)),xh}function Gc(s,o,a,u,d,g,_,w){const C=function dp(s,o,a,u,d){const g=kr(s,o,a,u);return ni(s,o+2,d)||g}(s,Ni(),a,d,_);return ss(3),C?o+ye(a)+u+ye(d)+g+ye(_)+w:Nt}function Ah(s,o,a,u,d,g,_,w){const D=Ie(),C=Ut(),k=s+22,P=C.firstCreatePass?function zc(s,o,a,u,d,g,_,w,D){const C=o.consts,k=yh(o,s,4,_||null,ns(C,w));tm(o,a,k,ns(C,D)),Zl(o,k);const P=k.tViews=em(2,k,u,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,C);return null!==o.queries&&(o.queries.template(o,k),P.queries=o.queries.embeddedTView(k)),k}(k,C,D,o,a,u,d,g,_):C.data[k];li(P,!1);const z=D[11].createComment("");Do(C,D,z,P),at(z,D),nm(D,D[k]=Fw(z,D,z,P)),jo(P)&&Pc(C,D,P),null!=_&&zs(D,P,w)}function E_(s){return es(function Ka(){return It.lFrame.contextLView}(),22+s)}function D_(s,o,a){const u=Ie();return ni(u,ro(),o)&&function ms(s,o,a,u,d,g,_,w){const D=ai(o,a);let k,C=o.inputs;!w&&null!=C&&(k=C[u])?(ap(s,a,k,u,d),eo(o)&&d_(a,o.index)):3&o.type&&(u=function c_(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),d=null!=_?_(d,o.value||"",u):d,g.setProperty(D,u,d))}(Ut(),wn(),u,s,o,u[11],a,!1),D_}function fm(s,o,a,u,d){const _=d?"class":"style";ap(s,a,o.inputs[_],_,u)}function pm(s,o,a,u){const d=Ie(),g=Ut(),_=22+s,w=d[11],D=d[_]=Kf(w,o,function ff(){return It.lFrame.currentNamespace}()),C=g.firstCreatePass?function AI(s,o,a,u,d,g,_){const w=o.consts,C=yh(o,s,2,d,ns(w,g));return tm(o,a,C,ns(w,_)),null!==C.attrs&&lp(C,C.attrs,!1),null!==C.mergedAttrs&&lp(C,C.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,C),C}(_,g,d,0,o,a,u):g.data[_];li(C,!0);const k=C.mergedAttrs;null!==k&&el(w,D,k);const P=C.classes;null!==P&&sh(w,D,P);const z=C.styles;return null!==z&&Dl(w,D,z),64!=(64&C.flags)&&Do(g,d,D,C),0===function Ul(){return It.lFrame.elementDepthCount}()&&at(D,d),function $u(){It.lFrame.elementDepthCount++}(),jo(C)&&(Pc(g,d,C),function l_(s,o,a){if(Uo(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const _=s.data[g];_.contentQueries&&_.contentQueries(1,a[g],g)}}}(g,C,d)),null!==u&&zs(d,C),pm}function Sh(){let s=bn();qa()?Wa():(s=s.parent,li(s,!1));const o=s;!function no(){It.lFrame.elementDepthCount--}();const a=Ut();return a.firstCreatePass&&(Zl(a,s),Uo(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function _r(s){return 0!=(16&s.flags)}(o)&&fm(a,o,Ie(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function yf(s){return 0!=(32&s.flags)}(o)&&fm(a,o,Ie(),o.stylesWithoutHost,!1),Sh}function Or(s,o,a,u){return pm(s,o,a,u),Sh(),Or}function C_(){return Ie()}function A_(s){return!!s&&"function"==typeof s.then}function fp(s){return!!s&&"function"==typeof s.subscribe}const TI=fp;function gm(s,o,a,u){const d=Ie(),g=Ut(),_=bn();return function Th(s,o,a,u,d,g,_,w){const D=jo(u),k=s.firstCreatePass&&Hr(s),P=o[8],z=im(o);let ne=!0;if(3&u.type||w){const qe=ai(u,o),nt=w?w(qe):qe,Ct=z.length,ke=w?zt=>w(zn(zt[u.index])):u.index;let vt=null;if(!w&&D&&(vt=function S_(s,o,a,u){const d=s.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const _=d[g];if(_===a&&d[g+1]===u){const w=o[7],D=d[g+2];return w.length>D?w[D]:null}"string"==typeof _&&(g+=2)}return null}(s,o,d,u.index)),null!==vt)(vt.__ngLastListenerFn__||vt).__ngNextListenerFn__=g,vt.__ngLastListenerFn__=g,ne=!1;else{g=ym(u,o,P,g,!1);const zt=a.listen(nt,d,g);z.push(g,zt),k&&k.push(d,ke,Ct,Ct+1)}}else g=ym(u,o,P,g,!1);const Ee=u.outputs;let Fe;if(ne&&null!==Ee&&(Fe=Ee[d])){const qe=Fe.length;if(qe)for(let nt=0;nt<qe;nt+=2){const On=o[Fe[nt]][Fe[nt+1]].subscribe(g),Pu=z.length;z.push(g,On),k&&k.push(d,u.index,Pu,-(Pu+1))}}}(g,d,d[11],_,s,o,0,u),gm}function pp(s,o,a,u){try{return!1!==a(u)}catch(d){return om(s,d),!1}}function ym(s,o,a,u,d){return function g(_){if(_===Function)return u;p_(2&s.flags?Sr(s.index,o):o);let D=pp(o,0,u,_),C=g.__ngNextListenerFn__;for(;C;)D=pp(o,0,C,_)&&D,C=C.__ngNextListenerFn__;return d&&!1===D&&(_.preventDefault(),_.returnValue=!1),D}}function _m(s=1){return function df(s){return(It.lFrame.contextLView=function Kl(s,o){for(;s>0;)o=o[15],s--;return o}(s,It.lFrame.contextLView))[8]}(s)}function Jw(s,o){let a=null;const u=function aw(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let d=0;d<o.length;d++){const g=o[d];if("*"!==g){if(null===u?lh(s,g,!0):ep(u,g))return d}else a=d}return a}function e0(s){const o=Ie()[16][6];if(!o.projection){const u=o.projection=lo(s?s.length:1,null),d=u.slice();let g=o.child;for(;null!==g;){const _=s?Jw(g,s):0;null!==_&&(d[_]?d[_].projectionNext=g:u[_]=g,d[_]=g),g=g.next}}}function T_(s,o=0,a){const u=Ie(),d=Ut(),g=yh(d,22+s,16,null,a||null);null===g.projection&&(g.projection=o),Wa(),64!=(64&g.flags)&&function El(s,o,a){ih(o[11],0,o,a,Ei(s,a,o),Ic(a.parent||o[6],a,o))}(d,u,g)}function F_(s,o,a,u,d){const g=s[a+1],_=null===o;let w=u?Gs(g):Di(g),D=!1;for(;0!==w&&(!1===D||_);){const k=s[w+1];MI(s[w],o)&&(D=!0,s[w+1]=u?zg(k):Gg(k)),w=u?Gs(k):Di(k)}D&&(s[a+1]=u?Gg(g):zg(g))}function MI(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&da(s,o)>=0}function U_(s,o,a){return vs(s,o,a,!1),U_}function j_(s,o){return vs(s,o,null,!0),j_}function vs(s,o,a,u){const d=Ie(),g=Ut(),_=ss(2);g.firstUpdatePass&&function f0(s,o,a,u){const d=s.data;if(null===d[a+1]){const g=d[cr()],_=function h0(s,o){return o>=s.expandoStartIndex}(s,a);(function Rl(s,o){return 0!=(s.flags&(o?16:32))})(g,u)&&null===o&&!_&&(o=!1),o=function kI(s,o,a,u){const d=function io(s){const o=It.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=u?o.residualClasses:o.residualStyles;if(null===d)0===(u?o.classBindings:o.styleBindings)&&(a=Ra(a=_p(null,s,o,a,u),o.attrs,u),g=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==d)if(a=_p(d,s,o,a,u),null===g){let D=function OI(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==Di(u))return s[Gs(u)]}(s,o,u);void 0!==D&&Array.isArray(D)&&(D=_p(null,s,o,D[1],u),D=Ra(D,o.attrs,u),function FI(s,o,a,u){s[Gs(a?o.classBindings:o.styleBindings)]=u}(s,o,u,D))}else g=function yp(s,o,a){let u;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)u=Ra(u,s[g].hostAttrs,a);return Ra(u,o.attrs,a)}(s,o,u)}return void 0!==g&&(u?o.residualClasses=g:o.residualStyles=g),a}(d,g,o,u),function s0(s,o,a,u,d,g){let _=g?o.classBindings:o.styleBindings,w=Gs(_),D=Di(_);s[u]=a;let k,C=!1;if(Array.isArray(a)){const P=a;k=P[1],(null===k||da(P,k)>0)&&(C=!0)}else k=a;if(d)if(0!==D){const z=Gs(s[w+1]);s[u+1]=Hg(z,w),0!==z&&(s[z+1]=$g(s[z+1],u)),s[w+1]=function Rc(s,o){return 131071&s|o<<17}(s[w+1],u)}else s[u+1]=Hg(w,0),0!==w&&(s[w+1]=$g(s[w+1],u)),w=u;else s[u+1]=Hg(D,0),0===w?w=u:s[D+1]=$g(s[D+1],u),D=u;C&&(s[u+1]=Gg(s[u+1])),F_(s,k,u,!0),F_(s,k,u,!1),function o0(s,o,a,u,d){const g=d?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&da(g,o)>=0&&(a[u+1]=zg(a[u+1]))}(o,k,s,u,g),_=Hg(w,D),g?o.classBindings=_:o.styleBindings=_}(d,g,o,a,_,u)}}(g,s,_,u),o!==Nt&&ni(d,_,o)&&function Em(s,o,a,u,d,g,_,w){if(!(3&o.type))return;const D=s.data,C=D[w+1];Rh(function kc(s){return 1==(1&s)}(C)?G_(D,o,a,d,Di(C),_):void 0)||(Rh(g)||function Mc(s){return 2==(2&s)}(C)&&(g=G_(D,null,a,d,w,_)),function ow(s,o,a,u,d){if(o)d?s.addClass(a,u):s.removeClass(a,u);else{let g=-1===u.indexOf("-")?void 0:Ca.DashCase;null==d?s.removeStyle(a,u,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=Ca.Important),s.setStyle(a,u,d,g))}}(u,_,Ko(cr(),a),d,g))}(g,g.data[cr()],d,d[11],s,d[_+1]=function $_(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ge(ds(s)))),s}(o,a),u,_)}function _p(s,o,a,u,d){let g=null;const _=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<_&&(g=o[w],u=Ra(u,g.hostAttrs,d),g!==s);)w++;return null!==s&&(a.directiveStylingLast=w),u}function Ra(s,o,a){const u=a?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?d=_:d===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Wn(s,_,!!a||o[++g]))}return void 0===s?null:s}function G_(s,o,a,u,d,g){const _=null===o;let w;for(;d>0;){const D=s[d],C=Array.isArray(D),k=C?D[1]:D,P=null===k;let z=a[d+1];z===Nt&&(z=P?Bt:void 0);let ne=P?co(z,u):k===u?z:void 0;if(C&&!Rh(ne)&&(ne=co(D,u)),Rh(ne)&&(w=ne,_))return w;const Ee=s[d+1];d=_?Gs(Ee):Di(Ee)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(w=co(D,u))}return w}function Rh(s){return void 0!==s}function z_(s,o=""){const a=Ie(),u=Ut(),d=s+22,g=u.firstCreatePass?yh(u,d,1,o,null):u.data[d],_=a[d]=function Tg(s,o){return s.createText(o)}(a[11],o);Do(u,a,_,g),li(g,!1)}function q_(s){return kh("",s,""),q_}function kh(s,o,a){const u=Ie(),d=function ys(s,o,a,u){return ni(s,ro(),a)?o+ye(a)+u:Nt}(u,s,o,a);return d!==Nt&&hi(u,cr(),d),kh}function W_(s,o,a,u,d){const g=Ie(),_=function xo(s,o,a,u,d,g){const w=kr(s,Ni(),a,d);return ss(2),w?o+ye(a)+u+ye(d)+g:Nt}(g,s,o,a,u,d);return _!==Nt&&hi(g,cr(),_),W_}function wp(s,o,a,u,d,g,_){const w=Ie(),D=Gc(w,s,o,a,u,d,g,_);return D!==Nt&&hi(w,cr(),D),wp}const Ol=void 0;var HI=["en",[["a","p"],["AM","PM"],Ol],[["AM","PM"],Ol,Ol],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ol,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ol,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ol,"{1} 'at' {0}",Ol],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jI(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Mu={};function iv(s){const o=function E0(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=sv(o);if(a)return a;const u=o.split("-")[0];if(a=sv(u),a)return a;if("en"===u)return HI;throw new Me(701,!1)}function w0(s){return iv(s)[Dt.PluralCase]}function sv(s){return s in Mu||(Mu[s]=Xe.ng&&Xe.ng.common&&Xe.ng.common.locales&&Xe.ng.common.locales[s]),Mu[s]}var Dt=(()=>((Dt=Dt||{})[Dt.LocaleId=0]="LocaleId",Dt[Dt.DayPeriodsFormat=1]="DayPeriodsFormat",Dt[Dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Dt[Dt.DaysFormat=3]="DaysFormat",Dt[Dt.DaysStandalone=4]="DaysStandalone",Dt[Dt.MonthsFormat=5]="MonthsFormat",Dt[Dt.MonthsStandalone=6]="MonthsStandalone",Dt[Dt.Eras=7]="Eras",Dt[Dt.FirstDayOfWeek=8]="FirstDayOfWeek",Dt[Dt.WeekendRange=9]="WeekendRange",Dt[Dt.DateFormat=10]="DateFormat",Dt[Dt.TimeFormat=11]="TimeFormat",Dt[Dt.DateTimeFormat=12]="DateTimeFormat",Dt[Dt.NumberSymbols=13]="NumberSymbols",Dt[Dt.NumberFormats=14]="NumberFormats",Dt[Dt.CurrencyCode=15]="CurrencyCode",Dt[Dt.CurrencySymbol=16]="CurrencySymbol",Dt[Dt.CurrencyName=17]="CurrencyName",Dt[Dt.Currencies=18]="Currencies",Dt[Dt.Directionality=19]="Directionality",Dt[Dt.PluralCase=20]="PluralCase",Dt[Dt.ExtraData=21]="ExtraData",Dt))();const Fh="en-US";let Tm=Fh;class Ci{}function dx(s,o){return new kv(s,o??null)}class kv extends Ci{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tl(this);const u=function mr(s,o){const a=s[Oi]||null;if(!a&&!0===o)throw new Error(`Type ${ge(s)} does not have '\u0275mod' property.`);return a}(o);this._bootstrapComponents=function Et(s){return s instanceof Function?s():s}(u.bootstrap),this._r3Injector=Yr(o,a,[{provide:Ci,useValue:this},{provide:T,useValue:this.componentFactoryResolver}],ge(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Gm extends class H0{}{constructor(o){super(),this.moduleType=o}create(o){return new kv(this.moduleType,o)}}function jh(s,o,a,u,d,g){const _=o+a;return ni(s,_,d)?function $i(s,o,a){return s[o]=a}(s,_+1,g?u.call(g,d):u(d)):function Ru(s,o){const a=s[o];return a===Nt?void 0:a}(s,_+1)}function Y0(s,o){const a=Ut();let u;const d=s+22;a.firstCreatePass?(u=function Nv(s,o){if(o)for(let a=o.length-1;a>=0;a--){const u=o[a];if(s===u.name)return u}}(o,a.pipeRegistry),a.data[d]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,u.onDestroy)):u=a.data[d];const g=u.factory||(u.factory=_i(u.type)),_=jn(Tc);try{const w=Yu(!1),D=g();return Yu(w),function Qw(s,o,a,u){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=u}(a,Ie(),d,D),D}finally{jn(_)}}function Pv(s,o,a){const u=s+22,d=Ie(),g=es(d,u);return function id(s,o){return s[1].data[o].pure}(d,u)?jh(d,function tr(){const s=It.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,g.transform,a,g):g.transform(a)}function Hh(s){return o=>{setTimeout(s,void 0,o)}}const bs=class xx extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){let d=o,g=a||(()=>null),_=u;if(o&&"object"==typeof o){const D=o;d=D.next?.bind(D),g=D.error?.bind(D),_=D.complete?.bind(D)}this.__isAsync&&(g=Hh(g),d&&(d=Hh(d)),_&&(_=Hh(_)));const w=super.subscribe({next:d,error:g,complete:_});return o instanceof re.w0&&o.add(w),w}};function eE(){return this._results[Uc()]()}class sd{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Uc(),u=sd.prototype;u[a]||(u[a]=eE)}get changes(){return this._changes||(this._changes=new bs)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const d=Rr(o);(this._changesDetected=!function ec(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let d=s[u],g=o[u];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(u._results,d,a))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Sp=(()=>{class s{}return s.__NG_ELEMENT_ID__=Pl,s})();const Km=Sp,od=class extends Km{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o,a){const u=this._declarationTContainer.tViews,d=Qg(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(u)),ip(u,d,o),new Eh(d)}};function Pl(){return ku(bn(),Ie())}function ku(s,o){return 4&s.type?new od(o,s,W(s,o)):null}let Ao=(()=>{class s{}return s.__NG_ELEMENT_ID__=Cx,s})();function Cx(){return nE(bn(),Ie())}const tE=Ao,Bv=class extends tE{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return W(this._hostTNode,this._hostLView)}get injector(){return new An(this._hostTNode,this._hostLView)}get parentInjector(){const o=ia(this._hostTNode,this._hostLView);if(_f(o)){const a=Tr(o,this._hostLView),u=nl(o);return new An(a[1].data[u+8],a)}return new An(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Gh(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){let d,g;"number"==typeof u?d=u:null!=u&&(d=u.index,g=u.injector);const _=o.createEmbeddedView(a||{},g);return this.insert(_,d),_}createComponent(o,a,u,d,g){const _=o&&!function ll(s){return"function"==typeof s}(o);let w;if(_)w=a;else{const P=a||{};w=P.index,u=P.injector,d=P.projectableNodes,g=P.environmentInjector||P.ngModuleRef}const D=_?o:new Dh(rt(o)),C=u||this.parentInjector;if(!g&&null==D.ngModule){const z=(_?C:this.parentInjector).get(Zn,null);z&&(g=z)}const k=D.create(C,d,void 0,g);return this.insert(k.hostView,w),k}insert(o,a){const u=o._lView,d=u[1];if(function ts(s){return Xr(s[3])}(u)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const P=u[3],z=new Bv(P,P[6],P[3]);z.detach(z.indexOf(o))}}const g=this._adjustIndex(a),_=this._lContainer;!function Zf(s,o,a,u){const d=10+u,g=a.length;u>0&&(a[d-1][4]=o),u<g-10?(o[4]=a[d],tc(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function wu(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(_,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=64}(d,u,_,g);const w=Qf(g,_),D=u[11],C=un(D,_[7]);return null!==C&&function Mg(s,o,a,u,d,g){u[0]=d,u[6]=o,Xf(s,u,a,1,d,g)}(d,_[6],D,u,C,w),o.attachToViewContainerRef(),tc(Oa(_),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Gh(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=wl(this._lContainer,a);u&&(qn(Oa(this._lContainer),a),qy(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=wl(this._lContainer,a);return u&&null!=qn(Oa(this._lContainer),a)?new Eh(u):null}_adjustIndex(o,a=0){return o??this.length+a}};function Gh(s){return s[8]}function Oa(s){return s[8]||(s[8]=[])}function nE(s,o){let a;const u=o[s.index];if(Xr(u))a=u;else{let d;if(8&s.type)d=zn(u);else{const g=o[11];d=g.createComment("");const _=ai(s,o);ps(g,un(g,_),d,function rw(s,o){return s.nextSibling(o)}(g,_),!1)}o[s.index]=a=Fw(u,o,d,s),nm(o,a)}return new Bv(a,s,o)}class Zm{constructor(o){this.queryList=o,this.matches=null}clone(){return new Zm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vv{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let g=0;g<u;g++){const _=a.getByIndex(g);d.push(this.queries[_.indexInDeclarationView].clone())}return new Vv(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==aE(o,a).matches&&this.queries[a].setDirty()}}class rE{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class Ym{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const d=null!==a?a.length:0,g=this.getByIndex(u).embeddedTView(o,d);g&&(g.indexInDeclarationView=u,null!==a?a.push(g):a=[g])}return null!==a?new Ym(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Uv{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Uv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const g=u[d];this.matchTNodeWithReadOption(o,a,Tx(a,g)),this.matchTNodeWithReadOption(o,a,oo(a,o,g,!1,!1))}else u===Sp?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,oo(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===de||d===Ao||d===Sp&&4&a.type)this.addMatch(a.index,-2);else{const g=oo(a,o,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Tx(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function Mx(s,o,a,u){return-1===a?function iE(s,o){return 11&s.type?W(s,o):4&s.type?ku(s,o):null}(o,s):-2===a?function Rx(s,o,a){return a===de?W(o,s):a===Sp?ku(o,s):a===Ao?nE(o,s):void 0}(s,o,u):ls(s,s[1],a,o)}function jv(s,o,a,u){const d=o[19].queries[u];if(null===d.matches){const g=s.data,_=a.matches,w=[];for(let D=0;D<_.length;D+=2){const C=_[D];w.push(C<0?null:Mx(o,g[C],_[D+1],a.metadata.read))}d.matches=w}return d.matches}function Qm(s,o,a,u){const d=s.queries.getByIndex(a),g=d.matches;if(null!==g){const _=jv(s,o,d,a);for(let w=0;w<g.length;w+=2){const D=g[w];if(D>0)u.push(_[w/2]);else{const C=g[w+1],k=o[-D];for(let P=10;P<k.length;P++){const z=k[P];z[17]===z[3]&&Qm(z[1],z,C,u)}if(null!==k[9]){const P=k[9];for(let z=0;z<P.length;z++){const ne=P[z];Qm(ne[1],ne,C,u)}}}}}return u}function Hv(s){const o=Ie(),a=Ut(),u=Hl();Qa(u+1);const d=aE(a,u);if(s.dirty&&Zo(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const g=d.crossesNgTemplate?Qm(a,o,u,[]):jv(a,o,d,u);s.reset(g,Ve),s.notifyOnChanges()}return!0}return!1}function Gv(s,o,a){const u=Ut();u.firstCreatePass&&($v(u,new rE(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),oE(u,Ie(),o)}function sE(s,o,a,u){const d=Ut();if(d.firstCreatePass){const g=bn();$v(d,new rE(o,a,u),g.index),function Ou(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}oE(d,Ie(),a)}function Xm(){return function Jm(s,o){return s[19].queries[o].queryList}(Ie(),Hl())}function oE(s,o,a){const u=new sd(4==(4&a));u_(s,o,u,u.destroy),null===o[19]&&(o[19]=new Vv),o[19].queries.push(new Zm(u))}function $v(s,o,a){null===s.queries&&(s.queries=new Ym),s.queries.track(new Uv(o,a))}function aE(s,o){return s.queries.getByIndex(o)}function Op(...s){}const vE=new Ht("Application Initializer");let Fp=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Op,this.reject=Op,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(A_(g))a.push(g);else if(TI(g)){const _=new Promise((w,D)=>{g.subscribe({complete:w,error:D})});a.push(_)}}Promise.all(a).then(()=>{u()}).catch(d=>{this.reject(d)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Tn(vE,8))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const bE=new Ht("AppId",{providedIn:"root",factory:function Ys(){return`${Jv()}${Jv()}${Jv()}`}});function Jv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wE=new Ht("Platform Initializer"),$x=new Ht("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ws=new Ht("appBootstrapListener"),eb=new Ht("AnimationModuleType"),oy=new Ht("LocaleId",{providedIn:"root",factory:()=>hl(oy,yt.Optional|yt.SkipSelf)||function sy(){return typeof $localize<"u"&&$localize.locale||Fh}()}),HA=new Ht("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),WA=(()=>Promise.resolve(0))();function DE(s){typeof Zone>"u"?WA.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Es{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bs(!1),this.onMicrotaskEmpty=new bs(!1),this.onStable=new bs(!1),this.onError=new bs(!1),typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&a,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function IE(){let s=Xe.requestAnimationFrame,o=Xe.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function ay(s){const o=()=>{!function To(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Xe,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Np(s),s.isCheckStableRunning=!0,Fr(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Np(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,d,g,_,w)=>{try{return xE(s),a.invokeTask(d,g,_,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),CE(s)}},onInvoke:(a,u,d,g,_,w,D)=>{try{return xE(s),a.invoke(d,g,_,w,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),CE(s)}},onHasTask:(a,u,d,g)=>{a.hasTask(d,g),u===d&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Np(s),Fr(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,u,d,g)=>(a.handleError(d,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Es.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(Es.isInAngularZone())throw new Me(909,!1)}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,d){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+d,o,Yx,Op,Op);try{return g.runTask(_,a,u)}finally{g.cancelTask(_)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const Yx={};function Fr(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Np(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function xE(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function CE(s){s._nesting--,Fr(s)}class Qx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bs,this.onMicrotaskEmpty=new bs,this.onStable=new bs,this.onError=new bs}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,d){return o.apply(a,u)}}const tb=new Ht(""),AE=new Ht("");let ri,Xx=(()=>{class s{constructor(a,u,d){this._ngZone=a,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ri||(function Jx(s){ri=s}(d),d.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Es.assertNotInAngularZone(),DE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())DE(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,d){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(Tn(Es),Tn(SE),Tn(AE))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac}),s})(),SE=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return ri?.findTestabilityInTree(this,a,u)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Mo=null;const nb=new Ht("AllowMultipleToken"),Pp=new Ht("PlatformDestroyListeners");function ib(s,o,a=[]){const u=`Platform: ${o}`,d=new Ht(u);return(g=[])=>{let _=ob();if(!_||_.injector.get(nb,!1)){const w=[...a,...g,{provide:d,useValue:!0}];s?s(w):function tC(s){if(Mo&&!Mo.get(nb,!1))throw new Me(400,!1);Mo=s;const o=s.get(RE);(function ME(s){const o=s.get(wE,null);o&&o.forEach(a=>a())})(s)}(function sb(s=[],o){return Cc.create({name:o,providers:[{provide:_c,useValue:"platform"},{provide:Pp,useValue:new Set([()=>Mo=null])},...s]})}(w,u))}return function uy(s){const o=ob();if(!o)throw new Me(401,!1);return o}()}}function ob(){return Mo?.get(RE)??null}let RE=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const d=function OE(s,o){let a;return a="noop"===s?new Qx:("zone.js"===s?void 0:s)||new Es(o),a}(u?.ngZone,function kE(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(u)),g=[{provide:Es,useValue:d}];return d.run(()=>{const _=Cc.create({providers:g,parent:this.injector,name:a.moduleType.name}),w=a.create(_),D=w.injector.get(zf,null);if(!D)throw new Me(402,!1);return d.runOutsideAngular(()=>{const C=d.onError.subscribe({next:k=>{D.handleError(k)}});w.onDestroy(()=>{Lp(this._modules,w),C.unsubscribe()})}),function cy(s,o,a){try{const u=a();return A_(u)?u.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(D,d,()=>{const C=w.injector.get(Fp);return C.runInitializers(),C.donePromise.then(()=>(function D0(s){$t(s,"Expected localeId to be defined"),"string"==typeof s&&(Tm=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(oy,Fh)||Fh),this._moduleDoBootstrap(w),w))})})}bootstrapModule(a,u=[]){const d=ab({},u);return function rb(s,o,a){const u=new Gm(a);return Promise.resolve(u)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const u=a.injector.get(Kh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Me(403,!1);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(Pp,null);a&&(a.forEach(u=>u()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Tn(Cc))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function ab(s,o){return Array.isArray(o)?o.reduce(ab,s):{...s,...o}}let Kh=(()=>{class s{constructor(a,u,d){this._zone=a,this._injector=u,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),_=new N.y(w=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Es.assertNotInAngularZone(),DE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const C=this._zone.onUnstable.subscribe(()=>{Es.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{D.unsubscribe(),C.unsubscribe()}});this.isStable=(0,he.T)(g,_.pipe((0,le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const d=a instanceof mg;if(!this._injector.get(Fp).done)throw!d&&function Mp(s){const o=rt(s)||hn(s)||vn(s);return null!==o&&o.standalone}(a),new Me(405,false);let _;_=d?a:this._injector.get(T).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const w=function eC(s){return s.isBoundToModule}(_)?void 0:this._injector.get(Ci),C=_.create(Cc.NULL,[],u||_.selector,w),k=C.location.nativeElement,P=C.injector.get(tb,null);return P?.registerApplication(k),C.onDestroy(()=>{this.detachView(C.hostView),Lp(this.components,C),P?.unregisterApplication(k)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Me(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Lp(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(ws,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Lp(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Me(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(Tn(Es),Tn(Zn),Tn(zf))},s.\u0275prov=Yt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Lp(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let dy=!0,lb=!1;function iC(){return lb=!0,dy}function ub(){if(lb)throw new Error("Cannot enable prod mode after platform setup.");dy=!1}let aC=(()=>{class s{}return s.__NG_ELEMENT_ID__=lC,s})();function lC(s){return function uC(s,o,a){if(eo(s)&&!a){const u=Sr(s.index,o);return new Eh(u,u)}return 47&s.type?new Eh(o[16],o):null}(bn(),Ie(),16==(16&s))}class UE{constructor(){}supports(o){return Tu(o)}create(o){return new yC(o)}}const mC=(s,o)=>o;class yC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||mC}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,d=0,g=null;for(;a||u;){const _=!u||a&&a.currentIndex<yb(u,d,g)?a:u,w=yb(_,d,g),D=_.currentIndex;if(_===u)d--,u=u._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{g||(g=[]);const C=w-d,k=D-d;if(C!=k){for(let z=0;z<C;z++){const ne=z<g.length?g[z]:g[z]=0,Ee=ne+z;k<=Ee&&Ee<C&&(g[z]=ne+1)}g[_.previousIndex]=k-C}}w!==D&&o(_,w,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Tu(o))throw new Me(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,_,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)g=o[w],_=this._trackByFn(w,g),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,g,_,w)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,_,w),u=!0),a=a._next}else d=0,function $w(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Uc()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,w=>{_=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,w,_,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,_,d),u=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,d)):o=this._addAfter(new jE(a,u),g,d),o}_verifyReinsertion(o,a,u,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new mb),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mb),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class jE{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HE{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class mb{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new HE,this.map.set(a,u)),u.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yb(s,o,a){const u=s.previousIndex;if(null===u)return u;let d=0;return a&&u<a.length&&(d=a[u]),u+o+d}class _b{constructor(){}supports(o){return o instanceof Map||jc(o)}create(){return new YA}}class YA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||jc(o)))throw new Me(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,u);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const g=d._prev,_=d._next;return g&&(g._next=_),_&&(_._prev=g),d._next=null,d._prev=null,d}const u=new _C(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class _C{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vC(){return new GE([new UE])}let GE=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const d=u.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||vC()),deps:[[s,new je,new se]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(null!=u)return u;throw new Me(901,!1)}}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:vC}),s})();function bC(){return new vb([new _b])}let vb=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const d=u.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||bC()),deps:[[s,new je,new se]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(u)return u;throw new Me(901,!1)}}return s.\u0275prov=Yt({token:s,providedIn:"root",factory:bC}),s})();const bb=ib(null,"core",[]);let QA=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Tn(Kh))},s.\u0275mod=Ue({type:s}),s.\u0275inj=Lt({}),s})()},3942:(ut,Ce,F)=>{F.d(Ce,{Z:()=>Me});var h=F(2090),re=F(4859),N=F(9681),he=F(1877);class le{constructor(ye,_e){this._delegate=ye,this.firebase=_e,(0,N._addComponent)(ye,new re.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ye,_e=N._DEFAULT_ENTRY_NAME){var Qe;this._delegate.checkDestroyed();const tt=this._delegate.container.getProvider(ye);return!tt.isInitialized()&&"EXPLICIT"===(null===(Qe=tt.getComponent())||void 0===Qe?void 0:Qe.instantiationMode)&&tt.initialize(),tt.getImmediate({identifier:_e})}_removeServiceInstance(ye,_e=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(_e)}_addComponent(ye){(0,N._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,N._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function me(){const Ye=function ge(Ye){const ye={},_e={__esModule:!0,initializeApp:function Ae(Ge,U={}){const be=N.initializeApp(Ge,U);if((0,h.r3)(ye,be.name))return ye[be.name];const X=new Ye(be,_e);return ye[be.name]=X,X},app:tt,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function De(Ge){const U=Ge.name,be=U.replace("-compat","");if(N._registerComponent(Ge)&&"PUBLIC"===Ge.type){const X=(te=tt())=>{if("function"!=typeof te[be])throw ue.create("invalid-app-argument",{appName:U});return te[be]()};void 0!==Ge.serviceProps&&(0,h.ZB)(X,Ge.serviceProps),_e[be]=X,Ye.prototype[be]=function(...te){return this._getService.bind(this,U).apply(this,Ge.multipleInstances?te:[])}}return"PUBLIC"===Ge.type?_e[be]:null},removeApp:function Qe(Ge){delete ye[Ge]},useAsService:function He(Ge,U){return"serverAuth"===U?null:U},modularAPIs:N}};function tt(Ge){if(!(0,h.r3)(ye,Ge=Ge||N._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:Ge});return ye[Ge]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function we(){return Object.keys(ye).map(Ge=>ye[Ge])}}),tt.App=Ye,_e}(le);return Ye.INTERNAL=Object.assign(Object.assign({},Ye.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function ye(_e){(0,h.ZB)(Ye,_e)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Ye}(),H=new he.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ye=self.firebase.SDK_VERSION;Ye&&Ye.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=j;!function Re(Ye){(0,N.registerVersion)("@firebase/app-compat","0.1.32",Ye)}()},9681:(ut,Ce,F)=>{F.r(Ce),F.d(Ce,{FirebaseError:()=>he.ZR,SDK_VERSION:()=>Mi,_DEFAULT_ENTRY_NAME:()=>$t,_addComponent:()=>Zt,_addOrOverwriteComponent:()=>Yt,_apps:()=>on,_clearComponents:()=>No,_components:()=>Un,_getProvider:()=>Lt,_registerComponent:()=>Gr,_removeServiceInstance:()=>an,deleteApp:()=>yt,getApp:()=>si,getApps:()=>Ri,initializeApp:()=>Ki,onLog:()=>jn,registerVersion:()=>mi,setLogLevel:()=>ki});var h=F(5861),re=F(4859),N=F(1877),he=F(2090),le=F(8766);class pe{constructor($){this.container=$}getPlatformInfoString(){return this.container.getProviders().map(q=>{if(function ue(B){return"VERSION"===B.getComponent()?.type}(q)){const xe=q.getImmediate();return`${xe.library}/${xe.version}`}return null}).filter(q=>q).join(" ")}}const ge="@firebase/app",j=new N.Yd("@firebase/app"),$t="[DEFAULT]",We={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},on=new Map,Un=new Map;function Zt(B,$){try{B.container.addComponent($)}catch(q){j.debug(`Component ${$.name} failed to register with FirebaseApp ${B.name}`,q)}}function Yt(B,$){B.container.addOrOverwriteComponent($)}function Gr(B){const $=B.name;if(Un.has($))return j.debug(`There were multiple attempts to register component ${$}.`),!1;Un.set($,B);for(const q of on.values())Zt(q,B);return!0}function Lt(B,$){const q=B.container.getProvider("heartbeat").getImmediate({optional:!0});return q&&q.triggerHeartbeat(),B.container.getProvider($)}function an(B,$,q=$t){Lt(B,$).clearInstance(q)}function No(){Un.clear()}const Pr=new he.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class $r{constructor($,q,xe){this._isDeleted=!1,this._options=Object.assign({},$),this._config=Object.assign({},q),this._name=q.name,this._automaticDataCollectionEnabled=q.automaticDataCollectionEnabled,this._container=xe,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($){this.checkDestroyed(),this._automaticDataCollectionEnabled=$}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($){this._isDeleted=$}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}const Mi="9.9.3";function Ki(B,$={}){"object"!=typeof $&&($={name:$});const q=Object.assign({name:$t,automaticDataCollectionEnabled:!1},$),xe=q.name;if("string"!=typeof xe||!xe)throw Pr.create("bad-app-name",{appName:String(xe)});const Ue=on.get(xe);if(Ue){if((0,he.vZ)(B,Ue.options)&&(0,he.vZ)(q,Ue.config))return Ue;throw Pr.create("duplicate-app",{appName:xe})}const ct=new re.H0(xe);for(const Xt of Un.values())ct.addComponent(Xt);const dn=new $r(B,q,ct);return on.set(xe,dn),dn}function si(B=$t){const $=on.get(B);if(!$)throw Pr.create("no-app",{appName:B});return $}function Ri(){return Array.from(on.values())}function yt(B){return fn.apply(this,arguments)}function fn(){return(fn=(0,h.Z)(function*(B){const $=B.name;on.has($)&&(on.delete($),yield Promise.all(B.container.getProviders().map(q=>q.delete())),B.isDeleted=!0)})).apply(this,arguments)}function mi(B,$,q){var xe;let Ue=null!==(xe=We[B])&&void 0!==xe?xe:B;q&&(Ue+=`-${q}`);const ct=Ue.match(/\s|\//),dn=$.match(/\s|\//);if(ct||dn){const Xt=[`Unable to register library "${Ue}" with version "${$}":`];return ct&&Xt.push(`library name "${Ue}" contains illegal characters (whitespace or "/")`),ct&&dn&&Xt.push("and"),dn&&Xt.push(`version name "${$}" contains illegal characters (whitespace or "/")`),void j.warn(Xt.join(" "))}Gr(new re.wA(`${Ue}-version`,()=>({library:Ue,version:$}),"VERSION"))}function jn(B,$){if(null!==B&&"function"!=typeof B)throw Pr.create("invalid-log-argument");(0,N.Am)(B,$)}function ki(B){(0,N.Ub)(B)}const yn="firebase-heartbeat-store";let Xs=null;function mn(){return Xs||(Xs=(0,le.X3)("firebase-heartbeat-database",1,{upgrade:(B,$)=>{0===$&&B.createObjectStore(yn)}}).catch(B=>{throw Pr.create("idb-open",{originalErrorMessage:B.message})})),Xs}function Xe(){return(Xe=(0,h.Z)(function*(B){var $;try{return(yield mn()).transaction(yn).objectStore(yn).get(_n(B))}catch(q){if(q instanceof he.ZR)j.warn(q.message);else{const xe=Pr.create("idb-get",{originalErrorMessage:null===($=q)||void 0===$?void 0:$.message});j.warn(xe.message)}}})).apply(this,arguments)}function Po(B,$){return gr.apply(this,arguments)}function gr(){return(gr=(0,h.Z)(function*(B,$){var q;try{const Ue=(yield mn()).transaction(yn,"readwrite");return yield Ue.objectStore(yn).put($,_n(B)),Ue.done}catch(xe){if(xe instanceof he.ZR)j.warn(xe.message);else{const Ue=Pr.create("idb-set",{originalErrorMessage:null===(q=xe)||void 0===q?void 0:q.message});j.warn(Ue.message)}}})).apply(this,arguments)}function _n(B){return`${B.name}!${B.options.appId}`}class Is{constructor($){this.container=$,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this._storage=new Gt(q),this._heartbeatsCachePromise=this._storage.read().then(xe=>(this._heartbeatsCache=xe,xe))}triggerHeartbeat(){var $=this;return(0,h.Z)(function*(){const xe=$.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ue=Qt();if(null===$._heartbeatsCache&&($._heartbeatsCache=yield $._heartbeatsCachePromise),$._heartbeatsCache.lastSentHeartbeatDate!==Ue&&!$._heartbeatsCache.heartbeats.some(ct=>ct.date===Ue))return $._heartbeatsCache.heartbeats.push({date:Ue,agent:xe}),$._heartbeatsCache.heartbeats=$._heartbeatsCache.heartbeats.filter(ct=>{const dn=new Date(ct.date).valueOf();return Date.now()-dn<=2592e6}),$._storage.overwrite($._heartbeatsCache)})()}getHeartbeatsHeader(){var $=this;return(0,h.Z)(function*(){if(null===$._heartbeatsCache&&(yield $._heartbeatsCachePromise),null===$._heartbeatsCache||0===$._heartbeatsCache.heartbeats.length)return"";const q=Qt(),{heartbeatsToSend:xe,unsentEntries:Ue}=function Oi(B,$=1024){const q=[];let xe=B.slice();for(const Ue of B){const ct=q.find(dn=>dn.agent===Ue.agent);if(ct){if(ct.dates.push(Ue.date),Y(q)>$){ct.dates.pop();break}}else if(q.push({agent:Ue.agent,dates:[Ue.date]}),Y(q)>$){q.pop();break}xe=xe.slice(1)}return{heartbeatsToSend:q,unsentEntries:xe}}($._heartbeatsCache.heartbeats),ct=(0,he.L)(JSON.stringify({version:2,heartbeats:xe}));return $._heartbeatsCache.lastSentHeartbeatDate=q,Ue.length>0?($._heartbeatsCache.heartbeats=Ue,yield $._storage.overwrite($._heartbeatsCache)):($._heartbeatsCache.heartbeats=[],$._storage.overwrite($._heartbeatsCache)),ct})()}}function Qt(){return(new Date).toISOString().substring(0,10)}class Gt{constructor($){this.app=$,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,he.hl)()&&(0,he.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $=this;return(0,h.Z)(function*(){return(yield $._canUseIndexedDBPromise)&&(yield function ot(B){return Xe.apply(this,arguments)}($.app))||{heartbeats:[]}})()}overwrite($){var q=this;return(0,h.Z)(function*(){var xe;if(yield q._canUseIndexedDBPromise){const ct=yield q.read();return Po(q.app,{lastSentHeartbeatDate:null!==(xe=$.lastSentHeartbeatDate)&&void 0!==xe?xe:ct.lastSentHeartbeatDate,heartbeats:$.heartbeats})}})()}add($){var q=this;return(0,h.Z)(function*(){var xe;if(yield q._canUseIndexedDBPromise){const ct=yield q.read();return Po(q.app,{lastSentHeartbeatDate:null!==(xe=$.lastSentHeartbeatDate)&&void 0!==xe?xe:ct.lastSentHeartbeatDate,heartbeats:[...ct.heartbeats,...$.heartbeats]})}})()}}function Y(B){return(0,he.L)(JSON.stringify({version:2,heartbeats:B})).length}!function G(B){Gr(new re.wA("platform-logger",$=>new pe($),"PRIVATE")),Gr(new re.wA("heartbeat",$=>new Is($),"PRIVATE")),mi(ge,"0.7.31",B),mi(ge,"0.7.31","esm2017"),mi("fire-js","")}("")},4859:(ut,Ce,F)=>{F.d(Ce,{H0:()=>ge,wA:()=>N});var h=F(5861),re=F(2090);class N{constructor(j,H,ee){this.name=j,this.instanceFactory=H,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const he="[DEFAULT]";class le{constructor(j,H){this.name=j,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const H=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(H)){const ee=new re.BH;if(this.instancesDeferred.set(H,ee),this.isInitialized(H)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:H});$e&&ee.resolve($e)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(j){var H;const ee=this.normalizeInstanceIdentifier(j?.identifier),$e=null!==(H=j?.optional)&&void 0!==H&&H;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Re){if($e)return null;throw Re}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ue(me){return"EAGER"===me.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:he})}catch{}for(const[H,ee]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(H);try{const Re=this.getOrInitializeService({instanceIdentifier:$e});ee.resolve(Re)}catch{}}}}clearInstance(j=he){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,h.Z)(function*(){const H=Array.from(j.instances.values());yield Promise.all([...H.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...H.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=he){return this.instances.has(j)}getOptions(j=he){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:H={}}=j,ee=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:ee,options:H});for(const[Re,Me]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Re)&&Me.resolve($e);return $e}onInit(j,H){var ee;const $e=this.normalizeInstanceIdentifier(H),Re=null!==(ee=this.onInitCallbacks.get($e))&&void 0!==ee?ee:new Set;Re.add(j),this.onInitCallbacks.set($e,Re);const Me=this.instances.get($e);return Me&&j(Me,$e),()=>{Re.delete(j)}}invokeOnInitCallbacks(j,H){const ee=this.onInitCallbacks.get(H);if(ee)for(const $e of ee)try{$e(j,H)}catch{}}getOrInitializeService({instanceIdentifier:j,options:H={}}){let ee=this.instances.get(j);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(me=j,me===he?void 0:me),options:H}),this.instances.set(j,ee),this.instancesOptions.set(j,H),this.invokeOnInitCallbacks(ee,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,ee)}catch{}var me;return ee||null}normalizeInstanceIdentifier(j=he){return this.component?this.component.multipleInstances?j:he:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const H=this.getProvider(j.name);if(H.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);H.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const H=new le(j,this);return this.providers.set(j,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(ut,Ce,F)=>{F.d(Ce,{Am:()=>me,Ub:()=>ge,Yd:()=>ue,in:()=>re});const h=[];var re=(()=>{return(j=re||(re={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",re;var j})();const N={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},he=re.INFO,le={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},pe=(j,H,...ee)=>{if(H<j.logLevel)return;const $e=(new Date).toISOString(),Re=le[H];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Re](`[${$e}]  ${j.name}:`,...ee)};class ue{constructor(H){this.name=H,this._logLevel=he,this._logHandler=pe,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in re))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?N[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...H),this._logHandler(this,re.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...H),this._logHandler(this,re.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,re.INFO,...H),this._logHandler(this,re.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,re.WARN,...H),this._logHandler(this,re.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...H),this._logHandler(this,re.ERROR,...H)}}function ge(j){h.forEach(H=>{H.setLogLevel(j)})}function me(j,H){for(const ee of h){let $e=null;H&&H.level&&($e=N[H.level]),ee.userLogHandler=null===j?null:(Re,Me,...Ye)=>{const ye=Ye.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch{return null}}).filter(_e=>_e).join(" ");Me>=($e??Re.logLevel)&&j({level:re[Me].toLowerCase(),message:ye,args:Ye,type:Re.name})}}}},8766:(ut,Ce,F)=>{F.d(Ce,{Lj:()=>Ae,X3:()=>tt});var h=F(5861);let N,he;const ue=new WeakMap,ge=new WeakMap,me=new WeakMap,j=new WeakMap,H=new WeakMap;let Re={get(U,be,X){if(U instanceof IDBTransaction){if("done"===be)return ge.get(U);if("objectStoreNames"===be)return U.objectStoreNames||me.get(U);if("store"===be)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return _e(U[be])},set:(U,be,X)=>(U[be]=X,!0),has:(U,be)=>U instanceof IDBTransaction&&("done"===be||"store"===be)||be in U};function ye(U){return"function"==typeof U?function Ye(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return he||(he=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...be){return U.apply(Qe(this),be),_e(ue.get(this))}:function(...be){return _e(U.apply(Qe(this),be))}:function(be,...X){const te=U.call(Qe(this),be,...X);return me.set(te,be.sort?be.sort():[be]),_e(te)}}(U):(U instanceof IDBTransaction&&function $e(U){if(ge.has(U))return;const be=new Promise((X,te)=>{const oe=()=>{U.removeEventListener("complete",ie),U.removeEventListener("error",Le),U.removeEventListener("abort",Le)},ie=()=>{X(),oe()},Le=()=>{te(U.error||new DOMException("AbortError","AbortError")),oe()};U.addEventListener("complete",ie),U.addEventListener("error",Le),U.addEventListener("abort",Le)});ge.set(U,be)}(U),((U,be)=>be.some(X=>U instanceof X))(U,function le(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,Re):U)}function _e(U){if(U instanceof IDBRequest)return function ee(U){const be=new Promise((X,te)=>{const oe=()=>{U.removeEventListener("success",ie),U.removeEventListener("error",Le)},ie=()=>{X(_e(U.result)),oe()},Le=()=>{te(U.error),oe()};U.addEventListener("success",ie),U.addEventListener("error",Le)});return be.then(X=>{X instanceof IDBCursor&&ue.set(X,U)}).catch(()=>{}),H.set(be,U),be}(U);if(j.has(U))return j.get(U);const be=ye(U);return be!==U&&(j.set(U,be),H.set(be,U)),be}const Qe=U=>H.get(U);function tt(U,be,{blocked:X,upgrade:te,blocking:oe,terminated:ie}={}){const Le=indexedDB.open(U,be),Ne=_e(Le);return te&&Le.addEventListener("upgradeneeded",pt=>{te(_e(Le.result),pt.oldVersion,pt.newVersion,_e(Le.transaction))}),X&&Le.addEventListener("blocked",()=>X()),Ne.then(pt=>{ie&&pt.addEventListener("close",()=>ie()),oe&&pt.addEventListener("versionchange",()=>oe())}).catch(()=>{}),Ne}function Ae(U,{blocked:be}={}){const X=indexedDB.deleteDatabase(U);return be&&X.addEventListener("blocked",()=>be()),_e(X).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],He=new Map;function Ge(U,be){if(!(U instanceof IDBDatabase)||be in U||"string"!=typeof be)return;if(He.get(be))return He.get(be);const X=be.replace(/FromIndex$/,""),te=be!==X,oe=De.includes(X);if(!(X in(te?IDBIndex:IDBObjectStore).prototype)||!oe&&!we.includes(X))return;const ie=function(){var Le=(0,h.Z)(function*(Ne,...pt){const qt=this.transaction(Ne,oe?"readwrite":"readonly");let $t=qt.store;return te&&($t=$t.index(pt.shift())),(yield Promise.all([$t[X](...pt),oe&&qt.done]))[0]});return function(pt){return Le.apply(this,arguments)}}();return He.set(be,ie),ie}!function Me(U){Re=U(Re)}(U=>({...U,get:(be,X,te)=>Ge(be,X)||U.get(be,X,te),has:(be,X)=>!!Ge(be,X)||U.has(be,X)}))},5861:(ut,Ce,F)=>{function h(N,he,le,pe,ue,ge,me){try{var j=N[ge](me),H=j.value}catch(ee){return void le(ee)}j.done?he(H):Promise.resolve(H).then(pe,ue)}function re(N){return function(){var he=this,le=arguments;return new Promise(function(pe,ue){var ge=N.apply(he,le);function me(H){h(ge,pe,ue,me,j,"next",H)}function j(H){h(ge,pe,ue,me,j,"throw",H)}me(void 0)})}}F.d(Ce,{Z:()=>re})}},ut=>{ut(ut.s=6593)}]);